var sR=Object.defineProperty;var aR=(t,e,n)=>e in t?sR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fs=(t,e,n)=>(aR(t,typeof e!="symbol"?e+"":e,n),n),fg=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var be=(t,e,n)=>(fg(t,e,"read from private field"),n?n.call(t):e.get(t)),Rt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},pt=(t,e,n,r)=>(fg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var $h=(t,e,n,r)=>({set _(a){pt(t,e,a,n)},get _(){return be(t,e,r)}}),Kn=(t,e,n)=>(fg(t,e,"access private method"),n);var jX=oR((zr,Ur)=>{function j_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ms(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V_={exports:{}},Yf={},z_={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=Symbol.for("react.element"),lR=Symbol.for("react.portal"),cR=Symbol.for("react.fragment"),uR=Symbol.for("react.strict_mode"),hR=Symbol.for("react.profiler"),dR=Symbol.for("react.provider"),fR=Symbol.for("react.context"),pR=Symbol.for("react.forward_ref"),gR=Symbol.for("react.suspense"),mR=Symbol.for("react.memo"),vR=Symbol.for("react.lazy"),ib=Symbol.iterator;function yR(t){return t===null||typeof t!="object"?null:(t=ib&&t[ib]||t["@@iterator"],typeof t=="function"?t:null)}var U_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,H_={};function vc(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||U_}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $_(){}$_.prototype=vc.prototype;function fy(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||U_}var py=fy.prototype=new $_;py.constructor=fy;B_(py,vc.prototype);py.isPureReactComponent=!0;var sb=Array.isArray,W_=Object.prototype.hasOwnProperty,gy={current:null},X_={key:!0,ref:!0,__self:!0,__source:!0};function Y_(t,e,n){var r,a={},l=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(l=""+e.key),e)W_.call(e,r)&&!X_.hasOwnProperty(r)&&(a[r]=e[r]);var p=arguments.length-2;if(p===1)a.children=n;else if(1<p){for(var m=Array(p),w=0;w<p;w++)m[w]=arguments[w+2];a.children=m}if(t&&t.defaultProps)for(r in p=t.defaultProps,p)a[r]===void 0&&(a[r]=p[r]);return{$$typeof:hh,type:t,key:l,ref:u,props:a,_owner:gy.current}}function xR(t,e){return{$$typeof:hh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function my(t){return typeof t=="object"&&t!==null&&t.$$typeof===hh}function bR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ab=/\/+/g;function pg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bR(""+t.key):e.toString(36)}function Ed(t,e,n,r,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case hh:case lR:u=!0}}if(u)return u=t,a=a(u),t=r===""?"."+pg(u,0):r,sb(a)?(n="",t!=null&&(n=t.replace(ab,"$&/")+"/"),Ed(a,e,n,"",function(w){return w})):a!=null&&(my(a)&&(a=xR(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(ab,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=r===""?".":r+":",sb(t))for(var p=0;p<t.length;p++){l=t[p];var m=r+pg(l,p);u+=Ed(l,e,n,m,a)}else if(m=yR(t),typeof m=="function")for(t=m.call(t),p=0;!(l=t.next()).done;)l=l.value,m=r+pg(l,p++),u+=Ed(l,e,n,m,a);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Wh(t,e,n){if(t==null)return t;var r=[],a=0;return Ed(t,r,"","",function(l){return e.call(n,l,a++)}),r}function wR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},Ad={transition:null},SR={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:gy};xt.Children={map:Wh,forEach:function(t,e,n){Wh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wh(t,function(){e++}),e},toArray:function(t){return Wh(t,function(e){return e})||[]},only:function(t){if(!my(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=vc;xt.Fragment=cR;xt.Profiler=hR;xt.PureComponent=fy;xt.StrictMode=uR;xt.Suspense=gR;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SR;xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B_({},t.props),a=t.key,l=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,u=gy.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(m in e)W_.call(e,m)&&!X_.hasOwnProperty(m)&&(r[m]=e[m]===void 0&&p!==void 0?p[m]:e[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){p=Array(m);for(var w=0;w<m;w++)p[w]=arguments[w+2];r.children=p}return{$$typeof:hh,type:t.type,key:a,ref:l,props:r,_owner:u}};xt.createContext=function(t){return t={$$typeof:fR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dR,_context:t},t.Consumer=t};xt.createElement=Y_;xt.createFactory=function(t){var e=Y_.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:pR,render:t}};xt.isValidElement=my;xt.lazy=function(t){return{$$typeof:vR,_payload:{_status:-1,_result:t},_init:wR}};xt.memo=function(t,e){return{$$typeof:mR,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xt.useCallback=function(t,e){return mr.current.useCallback(t,e)};xt.useContext=function(t){return mr.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};xt.useEffect=function(t,e){return mr.current.useEffect(t,e)};xt.useId=function(){return mr.current.useId()};xt.useImperativeHandle=function(t,e,n){return mr.current.useImperativeHandle(t,e,n)};xt.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return mr.current.useMemo(t,e)};xt.useReducer=function(t,e,n){return mr.current.useReducer(t,e,n)};xt.useRef=function(t){return mr.current.useRef(t)};xt.useState=function(t){return mr.current.useState(t)};xt.useSyncExternalStore=function(t,e,n){return mr.current.useSyncExternalStore(t,e,n)};xt.useTransition=function(){return mr.current.useTransition()};xt.version="18.2.0";z_.exports=xt;var K=z_.exports;const at=Ms(K),_R=j_({__proto__:null,default:at},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=K,AR=Symbol.for("react.element"),kR=Symbol.for("react.fragment"),CR=Object.prototype.hasOwnProperty,TR=ER.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IR={key:!0,ref:!0,__self:!0,__source:!0};function G_(t,e,n){var r,a={},l=null,u=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)CR.call(e,r)&&!IR.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:AR,type:t,key:l,ref:u,props:a,_owner:TR.current}}Yf.Fragment=kR;Yf.jsx=G_;Yf.jsxs=G_;V_.exports=Yf;var D=V_.exports,Am={},q_={exports:{}},Wr={},K_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Se,Ue){var Ae=Se.length;Se.push(Ue);e:for(;0<Ae;){var Xe=Ae-1>>>1,$e=Se[Xe];if(0<a($e,Ue))Se[Xe]=Ue,Se[Ae]=$e,Ae=Xe;else break e}}function n(Se){return Se.length===0?null:Se[0]}function r(Se){if(Se.length===0)return null;var Ue=Se[0],Ae=Se.pop();if(Ae!==Ue){Se[0]=Ae;e:for(var Xe=0,$e=Se.length,Oe=$e>>>1;Xe<Oe;){var ht=2*(Xe+1)-1,_e=Se[ht],Pe=ht+1,Ne=Se[Pe];if(0>a(_e,Ae))Pe<$e&&0>a(Ne,_e)?(Se[Xe]=Ne,Se[Pe]=Ae,Xe=Pe):(Se[Xe]=_e,Se[ht]=Ae,Xe=ht);else if(Pe<$e&&0>a(Ne,Ae))Se[Xe]=Ne,Se[Pe]=Ae,Xe=Pe;else break e}}return Ue}function a(Se,Ue){var Ae=Se.sortIndex-Ue.sortIndex;return Ae!==0?Ae:Se.id-Ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();t.unstable_now=function(){return u.now()-p}}var m=[],w=[],A=1,T=null,I=3,z=!1,$=!1,q=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(Se){for(var Ue=n(w);Ue!==null;){if(Ue.callback===null)r(w);else if(Ue.startTime<=Se)r(w),Ue.sortIndex=Ue.expirationTime,e(m,Ue);else break;Ue=n(w)}}function re(Se){if(q=!1,J(Se),!$)if(n(m)!==null)$=!0,An(te);else{var Ue=n(w);Ue!==null&&Kt(re,Ue.startTime-Se)}}function te(Se,Ue){$=!1,q&&(q=!1,X(W),W=-1),z=!0;var Ae=I;try{for(J(Ue),T=n(m);T!==null&&(!(T.expirationTime>Ue)||Se&&!ie());){var Xe=T.callback;if(typeof Xe=="function"){T.callback=null,I=T.priorityLevel;var $e=Xe(T.expirationTime<=Ue);Ue=t.unstable_now(),typeof $e=="function"?T.callback=$e:T===n(m)&&r(m),J(Ue)}else r(m);T=n(m)}if(T!==null)var Oe=!0;else{var ht=n(w);ht!==null&&Kt(re,ht.startTime-Ue),Oe=!1}return Oe}finally{T=null,I=Ae,z=!1}}var oe=!1,j=null,W=-1,Y=5,ee=-1;function ie(){return!(t.unstable_now()-ee<Y)}function le(){if(j!==null){var Se=t.unstable_now();ee=Se;var Ue=!0;try{Ue=j(!0,Se)}finally{Ue?ne():(oe=!1,j=null)}}else oe=!1}var ne;if(typeof L=="function")ne=function(){L(le)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,gt=rt.port2;rt.port1.onmessage=le,ne=function(){gt.postMessage(null)}}else ne=function(){Z(le,0)};function An(Se){j=Se,oe||(oe=!0,ne())}function Kt(Se,Ue){W=Z(function(){Se(t.unstable_now())},Ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Se){Se.callback=null},t.unstable_continueExecution=function(){$||z||($=!0,An(te))},t.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<Se?Math.floor(1e3/Se):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(Se){switch(I){case 1:case 2:case 3:var Ue=3;break;default:Ue=I}var Ae=I;I=Ue;try{return Se()}finally{I=Ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Se,Ue){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var Ae=I;I=Se;try{return Ue()}finally{I=Ae}},t.unstable_scheduleCallback=function(Se,Ue,Ae){var Xe=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Xe+Ae:Xe):Ae=Xe,Se){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Ae+$e,Se={id:A++,callback:Ue,priorityLevel:Se,startTime:Ae,expirationTime:$e,sortIndex:-1},Ae>Xe?(Se.sortIndex=Ae,e(w,Se),n(m)===null&&Se===n(w)&&(q?(X(W),W=-1):q=!0,Kt(re,Ae-Xe))):(Se.sortIndex=$e,e(m,Se),$||z||($=!0,An(te))),Se},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(Se){var Ue=I;return function(){var Ae=I;I=Ue;try{return Se.apply(this,arguments)}finally{I=Ae}}}})(Q_);K_.exports=Q_;var PR=K_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=K,$r=PR;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J_=new Set,Tu={};function Vo(t,e){Jl(t,e),Jl(t+"Capture",e)}function Jl(t,e){for(Tu[t]=e,t=0;t<e.length;t++)J_.add(e[t])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,RR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ob={},lb={};function NR(t){return km.call(lb,t)?!0:km.call(ob,t)?!1:RR.test(t)?lb[t]=!0:(ob[t]=!0,!1)}function LR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DR(t,e,n,r){if(e===null||typeof e>"u"||LR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,n,r,a,l,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=u}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var vy=/[\-:]([a-z])/g;function yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vy,yy);Hn[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vy,yy);Hn[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vy,yy);Hn[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function xy(t,e,n,r){var a=Hn.hasOwnProperty(e)?Hn[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DR(e,n,a,r)&&(n=null),r||a===null?NR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fs=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xh=Symbol.for("react.element"),fl=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),eE=Symbol.for("react.provider"),tE=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Im=Symbol.for("react.suspense_list"),Sy=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),nE=Symbol.for("react.offscreen"),cb=Symbol.iterator;function Dc(t){return t===null||typeof t!="object"?null:(t=cb&&t[cb]||t["@@iterator"],typeof t=="function"?t:null)}var on=Object.assign,gg;function Zc(t){if(gg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gg=e&&e[1]||""}return`
`+gg+t}var mg=!1;function vg(t,e){if(!t||mg)return"";mg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(w){var r=w}Reflect.construct(t,[],e)}else{try{e.call()}catch(w){r=w}t.call(e.prototype)}else{try{throw Error()}catch(w){r=w}t()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var a=w.stack.split(`
`),l=r.stack.split(`
`),u=a.length-1,p=l.length-1;1<=u&&0<=p&&a[u]!==l[p];)p--;for(;1<=u&&0<=p;u--,p--)if(a[u]!==l[p]){if(u!==1||p!==1)do if(u--,p--,0>p||a[u]!==l[p]){var m=`
`+a[u].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=u&&0<=p);break}}}finally{mg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zc(t):""}function OR(t){switch(t.tag){case 5:return Zc(t.type);case 16:return Zc("Lazy");case 13:return Zc("Suspense");case 19:return Zc("SuspenseList");case 0:case 2:case 15:return t=vg(t.type,!1),t;case 11:return t=vg(t.type.render,!1),t;case 1:return t=vg(t.type,!0),t;default:return""}}function Pm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pl:return"Fragment";case fl:return"Portal";case Cm:return"Profiler";case by:return"StrictMode";case Tm:return"Suspense";case Im:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tE:return(t.displayName||"Context")+".Consumer";case eE:return(t._context.displayName||"Context")+".Provider";case wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sy:return e=t.displayName||null,e!==null?e:Pm(t.type)||"Memo";case Js:e=t._payload,t=t._init;try{return Pm(t(e))}catch{}}return null}function MR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(e);case 8:return e===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ia(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FR(t){var e=rE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(u){r=""+u,l.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yh(t){t._valueTracker||(t._valueTracker=FR(t))}function iE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rm(t,e){var n=e.checked;return on({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ub(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ia(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sE(t,e){e=e.checked,e!=null&&xy(t,"checked",e,!1)}function Nm(t,e){sE(t,e);var n=Ia(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lm(t,e.type,Ia(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lm(t,e,n){(e!=="number"||Gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jc=Array.isArray;function Pl(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ia(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Dm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return on({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function db(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(Jc(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ia(n)}}function aE(t,e){var n=Ia(e.value),r=Ia(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gh,lE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gh=Gh||document.createElement("div"),Gh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jR=["Webkit","ms","Moz","O"];Object.keys(cu).forEach(function(t){jR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cu[e]=cu[t]})});function cE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cu.hasOwnProperty(t)&&cu[t]?(""+e).trim():e+"px"}function uE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=cE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var VR=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mm(t,e){if(e){if(VR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function Fm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function _y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vm=null,Rl=null,Nl=null;function pb(t){if(t=ph(t)){if(typeof Vm!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=Zf(e),Vm(t.stateNode,t.type,e))}}function hE(t){Rl?Nl?Nl.push(t):Nl=[t]:Rl=t}function dE(){if(Rl){var t=Rl,e=Nl;if(Nl=Rl=null,pb(t),e)for(t=0;t<e.length;t++)pb(e[t])}}function fE(t,e){return t(e)}function pE(){}var yg=!1;function gE(t,e,n){if(yg)return t(e,n);yg=!0;try{return fE(t,e,n)}finally{yg=!1,(Rl!==null||Nl!==null)&&(pE(),dE())}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var r=Zf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var zm=!1;if(Is)try{var Oc={};Object.defineProperty(Oc,"passive",{get:function(){zm=!0}}),window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{zm=!1}function zR(t,e,n,r,a,l,u,p,m){var w=Array.prototype.slice.call(arguments,3);try{e.apply(n,w)}catch(A){this.onError(A)}}var uu=!1,qd=null,Kd=!1,Um=null,UR={onError:function(t){uu=!0,qd=t}};function BR(t,e,n,r,a,l,u,p,m){uu=!1,qd=null,zR.apply(UR,arguments)}function HR(t,e,n,r,a,l,u,p,m){if(BR.apply(this,arguments),uu){if(uu){var w=qd;uu=!1,qd=null}else throw Error(ke(198));Kd||(Kd=!0,Um=w)}}function zo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gb(t){if(zo(t)!==t)throw Error(ke(188))}function $R(t){var e=t.alternate;if(!e){if(e=zo(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return gb(a),t;if(l===r)return gb(a),e;l=l.sibling}throw Error(ke(188))}if(n.return!==r.return)n=a,r=l;else{for(var u=!1,p=a.child;p;){if(p===n){u=!0,n=a,r=l;break}if(p===r){u=!0,r=a,n=l;break}p=p.sibling}if(!u){for(p=l.child;p;){if(p===n){u=!0,n=l,r=a;break}if(p===r){u=!0,r=l,n=a;break}p=p.sibling}if(!u)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function vE(t){return t=$R(t),t!==null?yE(t):null}function yE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yE(t);if(e!==null)return e;t=t.sibling}return null}var xE=$r.unstable_scheduleCallback,mb=$r.unstable_cancelCallback,WR=$r.unstable_shouldYield,XR=$r.unstable_requestPaint,gn=$r.unstable_now,YR=$r.unstable_getCurrentPriorityLevel,Ey=$r.unstable_ImmediatePriority,bE=$r.unstable_UserBlockingPriority,Qd=$r.unstable_NormalPriority,GR=$r.unstable_LowPriority,wE=$r.unstable_IdlePriority,Gf=null,Yi=null;function qR(t){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Gf,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:ZR,KR=Math.log,QR=Math.LN2;function ZR(t){return t>>>=0,t===0?32:31-(KR(t)/QR|0)|0}var qh=64,Kh=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,l=t.pingedLanes,u=n&268435455;if(u!==0){var p=u&~a;p!==0?r=eu(p):(l&=u,l!==0&&(r=eu(l)))}else u=n&~a,u!==0?r=eu(u):l!==0&&(r=eu(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,l=e&-e,a>=l||a===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ai(e),a=1<<n,r|=t[n],e&=~a;return r}function JR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var u=31-Ai(l),p=1<<u,m=a[u];m===-1?(!(p&n)||p&r)&&(a[u]=JR(p,e)):m<=e&&(t.expiredLanes|=p),l&=~p}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SE(){var t=qh;return qh<<=1,!(qh&4194240)&&(qh=64),t}function xg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function t2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Ai(n),l=1<<a;e[a]=0,r[a]=-1,t[a]=-1,n&=~l}}function Ay(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ai(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}var Dt=0;function _E(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EE,ky,AE,kE,CE,Hm=!1,Qh=[],va=null,ya=null,xa=null,Ru=new Map,Nu=new Map,na=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vb(t,e){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(e.pointerId)}}function Mc(t,e,n,r,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},e!==null&&(e=ph(e),e!==null&&ky(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function r2(t,e,n,r,a){switch(e){case"focusin":return va=Mc(va,t,e,n,r,a),!0;case"dragenter":return ya=Mc(ya,t,e,n,r,a),!0;case"mouseover":return xa=Mc(xa,t,e,n,r,a),!0;case"pointerover":var l=a.pointerId;return Ru.set(l,Mc(Ru.get(l)||null,t,e,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,Nu.set(l,Mc(Nu.get(l)||null,t,e,n,r,a)),!0}return!1}function TE(t){var e=no(t.target);if(e!==null){var n=zo(e);if(n!==null){if(e=n.tag,e===13){if(e=mE(n),e!==null){t.blockedOn=e,CE(t.priority,function(){AE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jm=r,n.target.dispatchEvent(r),jm=null}else return e=ph(n),e!==null&&ky(e),t.blockedOn=n,!1;e.shift()}return!0}function yb(t,e,n){kd(t)&&n.delete(e)}function i2(){Hm=!1,va!==null&&kd(va)&&(va=null),ya!==null&&kd(ya)&&(ya=null),xa!==null&&kd(xa)&&(xa=null),Ru.forEach(yb),Nu.forEach(yb)}function Fc(t,e){t.blockedOn===e&&(t.blockedOn=null,Hm||(Hm=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,i2)))}function Lu(t){function e(a){return Fc(a,t)}if(0<Qh.length){Fc(Qh[0],t);for(var n=1;n<Qh.length;n++){var r=Qh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(va!==null&&Fc(va,t),ya!==null&&Fc(ya,t),xa!==null&&Fc(xa,t),Ru.forEach(e),Nu.forEach(e),n=0;n<na.length;n++)r=na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)TE(n),n.blockedOn===null&&na.shift()}var Ll=Fs.ReactCurrentBatchConfig,Jd=!0;function s2(t,e,n,r){var a=Dt,l=Ll.transition;Ll.transition=null;try{Dt=1,Cy(t,e,n,r)}finally{Dt=a,Ll.transition=l}}function a2(t,e,n,r){var a=Dt,l=Ll.transition;Ll.transition=null;try{Dt=4,Cy(t,e,n,r)}finally{Dt=a,Ll.transition=l}}function Cy(t,e,n,r){if(Jd){var a=$m(t,e,n,r);if(a===null)Ig(t,e,r,ef,n),vb(t,r);else if(r2(a,t,e,n,r))r.stopPropagation();else if(vb(t,r),e&4&&-1<n2.indexOf(t)){for(;a!==null;){var l=ph(a);if(l!==null&&EE(l),l=$m(t,e,n,r),l===null&&Ig(t,e,r,ef,n),l===a)break;a=l}a!==null&&r.stopPropagation()}else Ig(t,e,r,null,n)}}var ef=null;function $m(t,e,n,r){if(ef=null,t=_y(r),t=no(t),t!==null)if(e=zo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ef=t,null}function IE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YR()){case Ey:return 1;case bE:return 4;case Qd:case GR:return 16;case wE:return 536870912;default:return 16}default:return 16}}var fa=null,Ty=null,Cd=null;function PE(){if(Cd)return Cd;var t,e=Ty,n=e.length,r,a="value"in fa?fa.value:fa.textContent,l=a.length;for(t=0;t<n&&e[t]===a[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===a[l-r];r++);return Cd=a.slice(t,1<r?1-r:void 0)}function Td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zh(){return!0}function xb(){return!1}function Xr(t){function e(n,r,a,l,u){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(n=t[p],this[p]=n?n(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Zh:xb,this.isPropagationStopped=xb,this}return on(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zh)},persist:function(){},isPersistent:Zh}),e}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iy=Xr(yc),fh=on({},yc,{view:0,detail:0}),o2=Xr(fh),bg,wg,jc,qf=on({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jc&&(jc&&t.type==="mousemove"?(bg=t.screenX-jc.screenX,wg=t.screenY-jc.screenY):wg=bg=0,jc=t),bg)},movementY:function(t){return"movementY"in t?t.movementY:wg}}),bb=Xr(qf),l2=on({},qf,{dataTransfer:0}),c2=Xr(l2),u2=on({},fh,{relatedTarget:0}),Sg=Xr(u2),h2=on({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=Xr(h2),f2=on({},yc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p2=Xr(f2),g2=on({},yc,{data:0}),wb=Xr(g2),m2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y2[t])?!!e[t]:!1}function Py(){return x2}var b2=on({},fh,{key:function(t){if(t.key){var e=m2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Py,charCode:function(t){return t.type==="keypress"?Td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),w2=Xr(b2),S2=on({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sb=Xr(S2),_2=on({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Py}),E2=Xr(_2),A2=on({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),k2=Xr(A2),C2=on({},qf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T2=Xr(C2),I2=[9,13,27,32],Ry=Is&&"CompositionEvent"in window,hu=null;Is&&"documentMode"in document&&(hu=document.documentMode);var P2=Is&&"TextEvent"in window&&!hu,RE=Is&&(!Ry||hu&&8<hu&&11>=hu),_b=" ",Eb=!1;function NE(t,e){switch(t){case"keyup":return I2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gl=!1;function R2(t,e){switch(t){case"compositionend":return LE(e);case"keypress":return e.which!==32?null:(Eb=!0,_b);case"textInput":return t=e.data,t===_b&&Eb?null:t;default:return null}}function N2(t,e){if(gl)return t==="compositionend"||!Ry&&NE(t,e)?(t=PE(),Cd=Ty=fa=null,gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RE&&e.locale!=="ko"?null:e.data;default:return null}}var L2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ab(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L2[t.type]:e==="textarea"}function DE(t,e,n,r){hE(r),e=tf(e,"onChange"),0<e.length&&(n=new Iy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var du=null,Du=null;function D2(t){WE(t,0)}function Kf(t){var e=yl(t);if(iE(e))return t}function O2(t,e){if(t==="change")return e}var OE=!1;if(Is){var _g;if(Is){var Eg="oninput"in document;if(!Eg){var kb=document.createElement("div");kb.setAttribute("oninput","return;"),Eg=typeof kb.oninput=="function"}_g=Eg}else _g=!1;OE=_g&&(!document.documentMode||9<document.documentMode)}function Cb(){du&&(du.detachEvent("onpropertychange",ME),Du=du=null)}function ME(t){if(t.propertyName==="value"&&Kf(Du)){var e=[];DE(e,Du,t,_y(t)),gE(D2,e)}}function M2(t,e,n){t==="focusin"?(Cb(),du=e,Du=n,du.attachEvent("onpropertychange",ME)):t==="focusout"&&Cb()}function F2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kf(Du)}function j2(t,e){if(t==="click")return Kf(e)}function V2(t,e){if(t==="input"||t==="change")return Kf(e)}function z2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ti=typeof Object.is=="function"?Object.is:z2;function Ou(t,e){if(Ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!km.call(e,a)||!Ti(t[a],e[a]))return!1}return!0}function Tb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ib(t,e){var n=Tb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tb(n)}}function FE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jE(){for(var t=window,e=Gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gd(t.document)}return e}function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U2(t){var e=jE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FE(n.ownerDocument.documentElement,n)){if(r!==null&&Ny(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!t.extend&&l>r&&(a=r,r=l,l=a),a=Ib(n,l);var u=Ib(n,r);a&&u&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B2=Is&&"documentMode"in document&&11>=document.documentMode,ml=null,Wm=null,fu=null,Xm=!1;function Pb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||ml==null||ml!==Gd(r)||(r=ml,"selectionStart"in r&&Ny(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&Ou(fu,r)||(fu=r,r=tf(Wm,"onSelect"),0<r.length&&(e=new Iy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ml)))}function Jh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vl={animationend:Jh("Animation","AnimationEnd"),animationiteration:Jh("Animation","AnimationIteration"),animationstart:Jh("Animation","AnimationStart"),transitionend:Jh("Transition","TransitionEnd")},Ag={},VE={};Is&&(VE=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Qf(t){if(Ag[t])return Ag[t];if(!vl[t])return t;var e=vl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VE)return Ag[t]=e[n];return t}var zE=Qf("animationend"),UE=Qf("animationiteration"),BE=Qf("animationstart"),HE=Qf("transitionend"),$E=new Map,Rb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(t,e){$E.set(t,e),Vo(e,[t])}for(var kg=0;kg<Rb.length;kg++){var Cg=Rb[kg],H2=Cg.toLowerCase(),$2=Cg[0].toUpperCase()+Cg.slice(1);Oa(H2,"on"+$2)}Oa(zE,"onAnimationEnd");Oa(UE,"onAnimationIteration");Oa(BE,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(HE,"onTransitionEnd");Jl("onMouseEnter",["mouseout","mouseover"]);Jl("onMouseLeave",["mouseout","mouseover"]);Jl("onPointerEnter",["pointerout","pointerover"]);Jl("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function Nb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HR(r,e,void 0,t),t.currentTarget=null}function WE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var u=r.length-1;0<=u;u--){var p=r[u],m=p.instance,w=p.currentTarget;if(p=p.listener,m!==l&&a.isPropagationStopped())break e;Nb(a,p,w),l=m}else for(u=0;u<r.length;u++){if(p=r[u],m=p.instance,w=p.currentTarget,p=p.listener,m!==l&&a.isPropagationStopped())break e;Nb(a,p,w),l=m}}}if(Kd)throw t=Um,Kd=!1,Um=null,t}function $t(t,e){var n=e[Qm];n===void 0&&(n=e[Qm]=new Set);var r=t+"__bubble";n.has(r)||(XE(e,t,2,!1),n.add(r))}function Tg(t,e,n){var r=0;e&&(r|=4),XE(n,t,r,e)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Mu(t){if(!t[ed]){t[ed]=!0,J_.forEach(function(n){n!=="selectionchange"&&(W2.has(n)||Tg(n,!1,t),Tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ed]||(e[ed]=!0,Tg("selectionchange",!1,e))}}function XE(t,e,n,r){switch(IE(e)){case 1:var a=s2;break;case 4:a=a2;break;default:a=Cy}n=a.bind(null,e,n,t),a=void 0,!zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function Ig(t,e,n,r,a){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var p=r.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(u===4)for(u=r.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===a||m.nodeType===8&&m.parentNode===a))return;u=u.return}for(;p!==null;){if(u=no(p),u===null)return;if(m=u.tag,m===5||m===6){r=l=u;continue e}p=p.parentNode}}r=r.return}gE(function(){var w=l,A=_y(n),T=[];e:{var I=$E.get(t);if(I!==void 0){var z=Iy,$=t;switch(t){case"keypress":if(Td(n)===0)break e;case"keydown":case"keyup":z=w2;break;case"focusin":$="focus",z=Sg;break;case"focusout":$="blur",z=Sg;break;case"beforeblur":case"afterblur":z=Sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=bb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=E2;break;case zE:case UE:case BE:z=d2;break;case HE:z=k2;break;case"scroll":z=o2;break;case"wheel":z=T2;break;case"copy":case"cut":case"paste":z=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Sb}var q=(e&4)!==0,Z=!q&&t==="scroll",X=q?I!==null?I+"Capture":null:I;q=[];for(var L=w,J;L!==null;){J=L;var re=J.stateNode;if(J.tag===5&&re!==null&&(J=re,X!==null&&(re=Pu(L,X),re!=null&&q.push(Fu(L,re,J)))),Z)break;L=L.return}0<q.length&&(I=new z(I,$,null,n,A),T.push({event:I,listeners:q}))}}if(!(e&7)){e:{if(I=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",I&&n!==jm&&($=n.relatedTarget||n.fromElement)&&(no($)||$[Ps]))break e;if((z||I)&&(I=A.window===A?A:(I=A.ownerDocument)?I.defaultView||I.parentWindow:window,z?($=n.relatedTarget||n.toElement,z=w,$=$?no($):null,$!==null&&(Z=zo($),$!==Z||$.tag!==5&&$.tag!==6)&&($=null)):(z=null,$=w),z!==$)){if(q=bb,re="onMouseLeave",X="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(q=Sb,re="onPointerLeave",X="onPointerEnter",L="pointer"),Z=z==null?I:yl(z),J=$==null?I:yl($),I=new q(re,L+"leave",z,n,A),I.target=Z,I.relatedTarget=J,re=null,no(A)===w&&(q=new q(X,L+"enter",$,n,A),q.target=J,q.relatedTarget=Z,re=q),Z=re,z&&$)t:{for(q=z,X=$,L=0,J=q;J;J=rl(J))L++;for(J=0,re=X;re;re=rl(re))J++;for(;0<L-J;)q=rl(q),L--;for(;0<J-L;)X=rl(X),J--;for(;L--;){if(q===X||X!==null&&q===X.alternate)break t;q=rl(q),X=rl(X)}q=null}else q=null;z!==null&&Lb(T,I,z,q,!1),$!==null&&Z!==null&&Lb(T,Z,$,q,!0)}}e:{if(I=w?yl(w):window,z=I.nodeName&&I.nodeName.toLowerCase(),z==="select"||z==="input"&&I.type==="file")var te=O2;else if(Ab(I))if(OE)te=V2;else{te=F2;var oe=M2}else(z=I.nodeName)&&z.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(te=j2);if(te&&(te=te(t,w))){DE(T,te,n,A);break e}oe&&oe(t,I,w),t==="focusout"&&(oe=I._wrapperState)&&oe.controlled&&I.type==="number"&&Lm(I,"number",I.value)}switch(oe=w?yl(w):window,t){case"focusin":(Ab(oe)||oe.contentEditable==="true")&&(ml=oe,Wm=w,fu=null);break;case"focusout":fu=Wm=ml=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Pb(T,n,A);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":Pb(T,n,A)}var j;if(Ry)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else gl?NE(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(RE&&n.locale!=="ko"&&(gl||W!=="onCompositionStart"?W==="onCompositionEnd"&&gl&&(j=PE()):(fa=A,Ty="value"in fa?fa.value:fa.textContent,gl=!0)),oe=tf(w,W),0<oe.length&&(W=new wb(W,t,null,n,A),T.push({event:W,listeners:oe}),j?W.data=j:(j=LE(n),j!==null&&(W.data=j)))),(j=P2?R2(t,n):N2(t,n))&&(w=tf(w,"onBeforeInput"),0<w.length&&(A=new wb("onBeforeInput","beforeinput",null,n,A),T.push({event:A,listeners:w}),A.data=j))}WE(T,e)})}function Fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tf(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Pu(t,n),l!=null&&r.unshift(Fu(t,l,a)),l=Pu(t,e),l!=null&&r.push(Fu(t,l,a))),t=t.return}return r}function rl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lb(t,e,n,r,a){for(var l=e._reactName,u=[];n!==null&&n!==r;){var p=n,m=p.alternate,w=p.stateNode;if(m!==null&&m===r)break;p.tag===5&&w!==null&&(p=w,a?(m=Pu(n,l),m!=null&&u.unshift(Fu(n,m,p))):a||(m=Pu(n,l),m!=null&&u.push(Fu(n,m,p)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var X2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function Db(t){return(typeof t=="string"?t:""+t).replace(X2,`
`).replace(Y2,"")}function td(t,e,n){if(e=Db(e),Db(t)!==e&&n)throw Error(ke(425))}function nf(){}var Ym=null,Gm=null;function qm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Km=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(t){return Ob.resolve(null).then(t).catch(K2)}:Km;function K2(t){setTimeout(function(){throw t})}function Pg(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),Lu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Lu(e)}function ba(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xc=Math.random().toString(36).slice(2),Wi="__reactFiber$"+xc,ju="__reactProps$"+xc,Ps="__reactContainer$"+xc,Qm="__reactEvents$"+xc,Q2="__reactListeners$"+xc,Z2="__reactHandles$"+xc;function no(t){var e=t[Wi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ps]||n[Wi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mb(t);t!==null;){if(n=t[Wi])return n;t=Mb(t)}return e}t=n,n=t.parentNode}return null}function ph(t){return t=t[Wi]||t[Ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function Zf(t){return t[ju]||null}var Zm=[],xl=-1;function Ma(t){return{current:t}}function Gt(t){0>xl||(t.current=Zm[xl],Zm[xl]=null,xl--)}function Bt(t,e){xl++,Zm[xl]=t.current,t.current=e}var Pa={},sr=Ma(Pa),Ar=Ma(!1),_o=Pa;function ec(t,e){var n=t.type.contextTypes;if(!n)return Pa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function kr(t){return t=t.childContextTypes,t!=null}function rf(){Gt(Ar),Gt(sr)}function Fb(t,e,n){if(sr.current!==Pa)throw Error(ke(168));Bt(sr,e),Bt(Ar,n)}function YE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(ke(108,MR(t)||"Unknown",a));return on({},n,r)}function sf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pa,_o=sr.current,Bt(sr,t),Bt(Ar,Ar.current),!0}function jb(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=YE(t,e,_o),r.__reactInternalMemoizedMergedChildContext=t,Gt(Ar),Gt(sr),Bt(sr,t)):Gt(Ar),Bt(Ar,n)}var xs=null,Jf=!1,Rg=!1;function GE(t){xs===null?xs=[t]:xs.push(t)}function J2(t){Jf=!0,GE(t)}function Fa(){if(!Rg&&xs!==null){Rg=!0;var t=0,e=Dt;try{var n=xs;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,Jf=!1}catch(a){throw xs!==null&&(xs=xs.slice(t+1)),xE(Ey,Fa),a}finally{Dt=e,Rg=!1}}return null}var bl=[],wl=0,af=null,of=0,ni=[],ri=0,Eo=null,bs=1,ws="";function qa(t,e){bl[wl++]=of,bl[wl++]=af,af=t,of=e}function qE(t,e,n){ni[ri++]=bs,ni[ri++]=ws,ni[ri++]=Eo,Eo=t;var r=bs;t=ws;var a=32-Ai(r)-1;r&=~(1<<a),n+=1;var l=32-Ai(e)+a;if(30<l){var u=a-a%5;l=(r&(1<<u)-1).toString(32),r>>=u,a-=u,bs=1<<32-Ai(e)+a|n<<a|r,ws=l+t}else bs=1<<l|n<<a|r,ws=t}function Ly(t){t.return!==null&&(qa(t,1),qE(t,1,0))}function Dy(t){for(;t===af;)af=bl[--wl],bl[wl]=null,of=bl[--wl],bl[wl]=null;for(;t===Eo;)Eo=ni[--ri],ni[ri]=null,ws=ni[--ri],ni[ri]=null,bs=ni[--ri],ni[ri]=null}var Br=null,Fr=null,Jt=!1,Si=null;function KE(t,e){var n=si(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Br=t,Fr=ba(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Br=t,Fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eo!==null?{id:bs,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=si(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Br=t,Fr=null,!0):!1;default:return!1}}function Jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ev(t){if(Jt){var e=Fr;if(e){var n=e;if(!Vb(t,e)){if(Jm(t))throw Error(ke(418));e=ba(n.nextSibling);var r=Br;e&&Vb(t,e)?KE(r,n):(t.flags=t.flags&-4097|2,Jt=!1,Br=t)}}else{if(Jm(t))throw Error(ke(418));t.flags=t.flags&-4097|2,Jt=!1,Br=t}}}function zb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Br=t}function nd(t){if(t!==Br)return!1;if(!Jt)return zb(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qm(t.type,t.memoizedProps)),e&&(e=Fr)){if(Jm(t))throw QE(),Error(ke(418));for(;e;)KE(t,e),e=ba(e.nextSibling)}if(zb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fr=ba(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fr=null}}else Fr=Br?ba(t.stateNode.nextSibling):null;return!0}function QE(){for(var t=Fr;t;)t=ba(t.nextSibling)}function tc(){Fr=Br=null,Jt=!1}function Oy(t){Si===null?Si=[t]:Si.push(t)}var eN=Fs.ReactCurrentBatchConfig;function vi(t,e){if(t&&t.defaultProps){e=on({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lf=Ma(null),cf=null,Sl=null,My=null;function Fy(){My=Sl=cf=null}function jy(t){var e=lf.current;Gt(lf),t._currentValue=e}function tv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dl(t,e){cf=t,My=Sl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Er=!0),t.firstContext=null)}function li(t){var e=t._currentValue;if(My!==t)if(t={context:t,memoizedValue:e,next:null},Sl===null){if(cf===null)throw Error(ke(308));Sl=t,cf.dependencies={lanes:0,firstContext:t}}else Sl=Sl.next=t;return e}var ro=null;function Vy(t){ro===null?ro=[t]:ro.push(t)}function ZE(t,e,n,r){var a=e.interleaved;return a===null?(n.next=n,Vy(e)):(n.next=a.next,a.next=n),e.interleaved=n,Rs(t,r)}function Rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ea=!1;function zy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_t&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,Rs(t,n)}return a=r.interleaved,a===null?(e.next=e,Vy(r)):(e.next=a.next,a.next=e),r.interleaved=e,Rs(t,n)}function Id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ay(t,n)}}function Ub(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=u:l=l.next=u,n=n.next}while(n!==null);l===null?a=l=e:l=l.next=e}else a=l=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uf(t,e,n,r){var a=t.updateQueue;ea=!1;var l=a.firstBaseUpdate,u=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var m=p,w=m.next;m.next=null,u===null?l=w:u.next=w,u=m;var A=t.alternate;A!==null&&(A=A.updateQueue,p=A.lastBaseUpdate,p!==u&&(p===null?A.firstBaseUpdate=w:p.next=w,A.lastBaseUpdate=m))}if(l!==null){var T=a.baseState;u=0,A=w=m=null,p=l;do{var I=p.lane,z=p.eventTime;if((r&I)===I){A!==null&&(A=A.next={eventTime:z,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var $=t,q=p;switch(I=e,z=n,q.tag){case 1:if($=q.payload,typeof $=="function"){T=$.call(z,T,I);break e}T=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=q.payload,I=typeof $=="function"?$.call(z,T,I):$,I==null)break e;T=on({},T,I);break e;case 2:ea=!0}}p.callback!==null&&p.lane!==0&&(t.flags|=64,I=a.effects,I===null?a.effects=[p]:I.push(p))}else z={eventTime:z,lane:I,tag:p.tag,payload:p.payload,callback:p.callback,next:null},A===null?(w=A=z,m=T):A=A.next=z,u|=I;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;I=p,p=I.next,I.next=null,a.lastBaseUpdate=I,a.shared.pending=null}}while(!0);if(A===null&&(m=T),a.baseState=m,a.firstBaseUpdate=w,a.lastBaseUpdate=A,e=a.shared.interleaved,e!==null){a=e;do u|=a.lane,a=a.next;while(a!==e)}else l===null&&(a.shared.lanes=0);ko|=u,t.lanes=u,t.memoizedState=T}}function Bb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ke(191,a));a.call(r)}}}var eA=new Z_.Component().refs;function nv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:on({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ep={isMounted:function(t){return(t=t._reactInternals)?zo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),a=_a(t),l=As(r,a);l.payload=e,n!=null&&(l.callback=n),e=wa(t,l,a),e!==null&&(ki(e,t,a,r),Id(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),a=_a(t),l=As(r,a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=wa(t,l,a),e!==null&&(ki(e,t,a,r),Id(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=_a(t),a=As(n,r);a.tag=2,e!=null&&(a.callback=e),e=wa(t,a,r),e!==null&&(ki(e,t,r,n),Id(e,t,r))}};function Hb(t,e,n,r,a,l,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,u):e.prototype&&e.prototype.isPureReactComponent?!Ou(n,r)||!Ou(a,l):!0}function tA(t,e,n){var r=!1,a=Pa,l=e.contextType;return typeof l=="object"&&l!==null?l=li(l):(a=kr(e)?_o:sr.current,r=e.contextTypes,l=(r=r!=null)?ec(t,a):Pa),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ep,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),e}function $b(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ep.enqueueReplaceState(e,e.state,null)}function rv(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs=eA,zy(t);var l=e.contextType;typeof l=="object"&&l!==null?a.context=li(l):(l=kr(e)?_o:sr.current,a.context=ec(t,l)),a.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(nv(t,e,l,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&ep.enqueueReplaceState(a,a.state,null),uf(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var a=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(u){var p=a.refs;p===eA&&(p=a.refs={}),u===null?delete p[l]:p[l]=u},e._stringRef=l,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function rd(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wb(t){var e=t._init;return e(t._payload)}function nA(t){function e(X,L){if(t){var J=X.deletions;J===null?(X.deletions=[L],X.flags|=16):J.push(L)}}function n(X,L){if(!t)return null;for(;L!==null;)e(X,L),L=L.sibling;return null}function r(X,L){for(X=new Map;L!==null;)L.key!==null?X.set(L.key,L):X.set(L.index,L),L=L.sibling;return X}function a(X,L){return X=Ea(X,L),X.index=0,X.sibling=null,X}function l(X,L,J){return X.index=J,t?(J=X.alternate,J!==null?(J=J.index,J<L?(X.flags|=2,L):J):(X.flags|=2,L)):(X.flags|=1048576,L)}function u(X){return t&&X.alternate===null&&(X.flags|=2),X}function p(X,L,J,re){return L===null||L.tag!==6?(L=jg(J,X.mode,re),L.return=X,L):(L=a(L,J),L.return=X,L)}function m(X,L,J,re){var te=J.type;return te===pl?A(X,L,J.props.children,re,J.key):L!==null&&(L.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Js&&Wb(te)===L.type)?(re=a(L,J.props),re.ref=Vc(X,L,J),re.return=X,re):(re=Od(J.type,J.key,J.props,null,X.mode,re),re.ref=Vc(X,L,J),re.return=X,re)}function w(X,L,J,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==J.containerInfo||L.stateNode.implementation!==J.implementation?(L=Vg(J,X.mode,re),L.return=X,L):(L=a(L,J.children||[]),L.return=X,L)}function A(X,L,J,re,te){return L===null||L.tag!==7?(L=mo(J,X.mode,re,te),L.return=X,L):(L=a(L,J),L.return=X,L)}function T(X,L,J){if(typeof L=="string"&&L!==""||typeof L=="number")return L=jg(""+L,X.mode,J),L.return=X,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Xh:return J=Od(L.type,L.key,L.props,null,X.mode,J),J.ref=Vc(X,null,L),J.return=X,J;case fl:return L=Vg(L,X.mode,J),L.return=X,L;case Js:var re=L._init;return T(X,re(L._payload),J)}if(Jc(L)||Dc(L))return L=mo(L,X.mode,J,null),L.return=X,L;rd(X,L)}return null}function I(X,L,J,re){var te=L!==null?L.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return te!==null?null:p(X,L,""+J,re);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Xh:return J.key===te?m(X,L,J,re):null;case fl:return J.key===te?w(X,L,J,re):null;case Js:return te=J._init,I(X,L,te(J._payload),re)}if(Jc(J)||Dc(J))return te!==null?null:A(X,L,J,re,null);rd(X,J)}return null}function z(X,L,J,re,te){if(typeof re=="string"&&re!==""||typeof re=="number")return X=X.get(J)||null,p(L,X,""+re,te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Xh:return X=X.get(re.key===null?J:re.key)||null,m(L,X,re,te);case fl:return X=X.get(re.key===null?J:re.key)||null,w(L,X,re,te);case Js:var oe=re._init;return z(X,L,J,oe(re._payload),te)}if(Jc(re)||Dc(re))return X=X.get(J)||null,A(L,X,re,te,null);rd(L,re)}return null}function $(X,L,J,re){for(var te=null,oe=null,j=L,W=L=0,Y=null;j!==null&&W<J.length;W++){j.index>W?(Y=j,j=null):Y=j.sibling;var ee=I(X,j,J[W],re);if(ee===null){j===null&&(j=Y);break}t&&j&&ee.alternate===null&&e(X,j),L=l(ee,L,W),oe===null?te=ee:oe.sibling=ee,oe=ee,j=Y}if(W===J.length)return n(X,j),Jt&&qa(X,W),te;if(j===null){for(;W<J.length;W++)j=T(X,J[W],re),j!==null&&(L=l(j,L,W),oe===null?te=j:oe.sibling=j,oe=j);return Jt&&qa(X,W),te}for(j=r(X,j);W<J.length;W++)Y=z(j,X,W,J[W],re),Y!==null&&(t&&Y.alternate!==null&&j.delete(Y.key===null?W:Y.key),L=l(Y,L,W),oe===null?te=Y:oe.sibling=Y,oe=Y);return t&&j.forEach(function(ie){return e(X,ie)}),Jt&&qa(X,W),te}function q(X,L,J,re){var te=Dc(J);if(typeof te!="function")throw Error(ke(150));if(J=te.call(J),J==null)throw Error(ke(151));for(var oe=te=null,j=L,W=L=0,Y=null,ee=J.next();j!==null&&!ee.done;W++,ee=J.next()){j.index>W?(Y=j,j=null):Y=j.sibling;var ie=I(X,j,ee.value,re);if(ie===null){j===null&&(j=Y);break}t&&j&&ie.alternate===null&&e(X,j),L=l(ie,L,W),oe===null?te=ie:oe.sibling=ie,oe=ie,j=Y}if(ee.done)return n(X,j),Jt&&qa(X,W),te;if(j===null){for(;!ee.done;W++,ee=J.next())ee=T(X,ee.value,re),ee!==null&&(L=l(ee,L,W),oe===null?te=ee:oe.sibling=ee,oe=ee);return Jt&&qa(X,W),te}for(j=r(X,j);!ee.done;W++,ee=J.next())ee=z(j,X,W,ee.value,re),ee!==null&&(t&&ee.alternate!==null&&j.delete(ee.key===null?W:ee.key),L=l(ee,L,W),oe===null?te=ee:oe.sibling=ee,oe=ee);return t&&j.forEach(function(le){return e(X,le)}),Jt&&qa(X,W),te}function Z(X,L,J,re){if(typeof J=="object"&&J!==null&&J.type===pl&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case Xh:e:{for(var te=J.key,oe=L;oe!==null;){if(oe.key===te){if(te=J.type,te===pl){if(oe.tag===7){n(X,oe.sibling),L=a(oe,J.props.children),L.return=X,X=L;break e}}else if(oe.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Js&&Wb(te)===oe.type){n(X,oe.sibling),L=a(oe,J.props),L.ref=Vc(X,oe,J),L.return=X,X=L;break e}n(X,oe);break}else e(X,oe);oe=oe.sibling}J.type===pl?(L=mo(J.props.children,X.mode,re,J.key),L.return=X,X=L):(re=Od(J.type,J.key,J.props,null,X.mode,re),re.ref=Vc(X,L,J),re.return=X,X=re)}return u(X);case fl:e:{for(oe=J.key;L!==null;){if(L.key===oe)if(L.tag===4&&L.stateNode.containerInfo===J.containerInfo&&L.stateNode.implementation===J.implementation){n(X,L.sibling),L=a(L,J.children||[]),L.return=X,X=L;break e}else{n(X,L);break}else e(X,L);L=L.sibling}L=Vg(J,X.mode,re),L.return=X,X=L}return u(X);case Js:return oe=J._init,Z(X,L,oe(J._payload),re)}if(Jc(J))return $(X,L,J,re);if(Dc(J))return q(X,L,J,re);rd(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,L!==null&&L.tag===6?(n(X,L.sibling),L=a(L,J),L.return=X,X=L):(n(X,L),L=jg(J,X.mode,re),L.return=X,X=L),u(X)):n(X,L)}return Z}var nc=nA(!0),rA=nA(!1),gh={},Gi=Ma(gh),Vu=Ma(gh),zu=Ma(gh);function io(t){if(t===gh)throw Error(ke(174));return t}function Uy(t,e){switch(Bt(zu,e),Bt(Vu,t),Bt(Gi,gh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Om(e,t)}Gt(Gi),Bt(Gi,e)}function rc(){Gt(Gi),Gt(Vu),Gt(zu)}function iA(t){io(zu.current);var e=io(Gi.current),n=Om(e,t.type);e!==n&&(Bt(Vu,t),Bt(Gi,n))}function By(t){Vu.current===t&&(Gt(Gi),Gt(Vu))}var rn=Ma(0);function hf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function Hy(){for(var t=0;t<Ng.length;t++)Ng[t]._workInProgressVersionPrimary=null;Ng.length=0}var Pd=Fs.ReactCurrentDispatcher,Lg=Fs.ReactCurrentBatchConfig,Ao=0,sn=null,_n=null,Rn=null,df=!1,pu=!1,Uu=0,tN=0;function Qn(){throw Error(ke(321))}function $y(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ti(t[n],e[n]))return!1;return!0}function Wy(t,e,n,r,a,l){if(Ao=l,sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pd.current=t===null||t.memoizedState===null?sN:aN,t=n(r,a),pu){l=0;do{if(pu=!1,Uu=0,25<=l)throw Error(ke(301));l+=1,Rn=_n=null,e.updateQueue=null,Pd.current=oN,t=n(r,a)}while(pu)}if(Pd.current=ff,e=_n!==null&&_n.next!==null,Ao=0,Rn=_n=sn=null,df=!1,e)throw Error(ke(300));return t}function Xy(){var t=Uu!==0;return Uu=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?sn.memoizedState=Rn=t:Rn=Rn.next=t,Rn}function ci(){if(_n===null){var t=sn.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Rn===null?sn.memoizedState:Rn.next;if(e!==null)Rn=e,_n=t;else{if(t===null)throw Error(ke(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Rn===null?sn.memoizedState=Rn=t:Rn=Rn.next=t}return Rn}function Bu(t,e){return typeof e=="function"?e(t):e}function Dg(t){var e=ci(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=_n,a=r.baseQueue,l=n.pending;if(l!==null){if(a!==null){var u=a.next;a.next=l.next,l.next=u}r.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,r=r.baseState;var p=u=null,m=null,w=l;do{var A=w.lane;if((Ao&A)===A)m!==null&&(m=m.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:t(r,w.action);else{var T={lane:A,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};m===null?(p=m=T,u=r):m=m.next=T,sn.lanes|=A,ko|=A}w=w.next}while(w!==null&&w!==l);m===null?u=r:m.next=p,Ti(r,e.memoizedState)||(Er=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=m,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do l=a.lane,sn.lanes|=l,ko|=l,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Og(t){var e=ci(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,l=e.memoizedState;if(a!==null){n.pending=null;var u=a=a.next;do l=t(l,u.action),u=u.next;while(u!==a);Ti(l,e.memoizedState)||(Er=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function sA(){}function aA(t,e){var n=sn,r=ci(),a=e(),l=!Ti(r.memoizedState,a);if(l&&(r.memoizedState=a,Er=!0),r=r.queue,Yy(cA.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||Rn!==null&&Rn.memoizedState.tag&1){if(n.flags|=2048,Hu(9,lA.bind(null,n,r,a,e),void 0,null),Nn===null)throw Error(ke(349));Ao&30||oA(n,e,a)}return a}function oA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lA(t,e,n,r){e.value=n,e.getSnapshot=r,uA(e)&&hA(t)}function cA(t,e,n){return n(function(){uA(e)&&hA(t)})}function uA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ti(t,n)}catch{return!0}}function hA(t){var e=Rs(t,1);e!==null&&ki(e,t,1,-1)}function Xb(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:t},e.queue=t,t=t.dispatch=iN.bind(null,sn,t),[e.memoizedState,t]}function Hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dA(){return ci().memoizedState}function Rd(t,e,n,r){var a=zi();sn.flags|=t,a.memoizedState=Hu(1|e,n,void 0,r===void 0?null:r)}function tp(t,e,n,r){var a=ci();r=r===void 0?null:r;var l=void 0;if(_n!==null){var u=_n.memoizedState;if(l=u.destroy,r!==null&&$y(r,u.deps)){a.memoizedState=Hu(e,n,l,r);return}}sn.flags|=t,a.memoizedState=Hu(1|e,n,l,r)}function Yb(t,e){return Rd(8390656,8,t,e)}function Yy(t,e){return tp(2048,8,t,e)}function fA(t,e){return tp(4,2,t,e)}function pA(t,e){return tp(4,4,t,e)}function gA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mA(t,e,n){return n=n!=null?n.concat([t]):null,tp(4,4,gA.bind(null,e,t),n)}function Gy(){}function vA(t,e){var n=ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$y(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yA(t,e){var n=ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$y(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xA(t,e,n){return Ao&21?(Ti(n,e)||(n=SE(),sn.lanes|=n,ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Er=!0),t.memoizedState=n)}function nN(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=Lg.transition;Lg.transition={};try{t(!1),e()}finally{Dt=n,Lg.transition=r}}function bA(){return ci().memoizedState}function rN(t,e,n){var r=_a(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wA(t))SA(e,n);else if(n=ZE(t,e,n,r),n!==null){var a=dr();ki(n,t,r,a),_A(n,e,r)}}function iN(t,e,n){var r=_a(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wA(t))SA(e,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var u=e.lastRenderedState,p=l(u,n);if(a.hasEagerState=!0,a.eagerState=p,Ti(p,u)){var m=e.interleaved;m===null?(a.next=a,Vy(e)):(a.next=m.next,m.next=a),e.interleaved=a;return}}catch{}finally{}n=ZE(t,e,a,r),n!==null&&(a=dr(),ki(n,t,r,a),_A(n,e,r))}}function wA(t){var e=t.alternate;return t===sn||e!==null&&e===sn}function SA(t,e){pu=df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _A(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ay(t,n)}}var ff={readContext:li,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},sN={readContext:li,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:li,useEffect:Yb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4194308,4,gA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rd(4,2,t,e)},useMemo:function(t,e){var n=zi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rN.bind(null,sn,t),[r.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:Xb,useDebugValue:Gy,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=Xb(!1),e=t[0];return t=nN.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sn,a=zi();if(Jt){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),Nn===null)throw Error(ke(349));Ao&30||oA(r,e,n)}a.memoizedState=n;var l={value:n,getSnapshot:e};return a.queue=l,Yb(cA.bind(null,r,l,t),[t]),r.flags|=2048,Hu(9,lA.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=zi(),e=Nn.identifierPrefix;if(Jt){var n=ws,r=bs;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aN={readContext:li,useCallback:vA,useContext:li,useEffect:Yy,useImperativeHandle:mA,useInsertionEffect:fA,useLayoutEffect:pA,useMemo:yA,useReducer:Dg,useRef:dA,useState:function(){return Dg(Bu)},useDebugValue:Gy,useDeferredValue:function(t){var e=ci();return xA(e,_n.memoizedState,t)},useTransition:function(){var t=Dg(Bu)[0],e=ci().memoizedState;return[t,e]},useMutableSource:sA,useSyncExternalStore:aA,useId:bA,unstable_isNewReconciler:!1},oN={readContext:li,useCallback:vA,useContext:li,useEffect:Yy,useImperativeHandle:mA,useInsertionEffect:fA,useLayoutEffect:pA,useMemo:yA,useReducer:Og,useRef:dA,useState:function(){return Og(Bu)},useDebugValue:Gy,useDeferredValue:function(t){var e=ci();return _n===null?e.memoizedState=t:xA(e,_n.memoizedState,t)},useTransition:function(){var t=Og(Bu)[0],e=ci().memoizedState;return[t,e]},useMutableSource:sA,useSyncExternalStore:aA,useId:bA,unstable_isNewReconciler:!1};function ic(t,e){try{var n="",r=e;do n+=OR(r),r=r.return;while(r);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:a,digest:null}}function Mg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lN=typeof WeakMap=="function"?WeakMap:Map;function EA(t,e,n){n=As(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gf||(gf=!0,pv=r),iv(t,e)},n}function AA(t,e,n){n=As(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;n.payload=function(){return r(a)},n.callback=function(){iv(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){iv(t,e),typeof r!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Gb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lN;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(a.add(n),t=SN.bind(null,t,e,n),e.then(t,t))}function qb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kb(t,e,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=As(-1,1),e.tag=2,wa(n,e,1))),n.lanes|=1),t)}var cN=Fs.ReactCurrentOwner,Er=!1;function ur(t,e,n,r){e.child=t===null?rA(e,null,n,r):nc(e,t.child,n,r)}function Qb(t,e,n,r,a){n=n.render;var l=e.ref;return Dl(e,a),r=Wy(t,e,n,r,l,a),n=Xy(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ns(t,e,a)):(Jt&&n&&Ly(e),e.flags|=1,ur(t,e,r,a),e.child)}function Zb(t,e,n,r,a){if(t===null){var l=n.type;return typeof l=="function"&&!nx(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,kA(t,e,l,r,a)):(t=Od(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&a)){var u=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ou,n(u,r)&&t.ref===e.ref)return Ns(t,e,a)}return e.flags|=1,t=Ea(l,r),t.ref=e.ref,t.return=e,e.child=t}function kA(t,e,n,r,a){if(t!==null){var l=t.memoizedProps;if(Ou(l,r)&&t.ref===e.ref)if(Er=!1,e.pendingProps=r=l,(t.lanes&a)!==0)t.flags&131072&&(Er=!0);else return e.lanes=t.lanes,Ns(t,e,a)}return sv(t,e,n,r,a)}function CA(t,e,n){var r=e.pendingProps,a=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(El,Mr),Mr|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(El,Mr),Mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Bt(El,Mr),Mr|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,Bt(El,Mr),Mr|=r;return ur(t,e,a,n),e.child}function TA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sv(t,e,n,r,a){var l=kr(n)?_o:sr.current;return l=ec(e,l),Dl(e,a),n=Wy(t,e,n,r,l,a),r=Xy(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ns(t,e,a)):(Jt&&r&&Ly(e),e.flags|=1,ur(t,e,n,a),e.child)}function Jb(t,e,n,r,a){if(kr(n)){var l=!0;sf(e)}else l=!1;if(Dl(e,a),e.stateNode===null)Nd(t,e),tA(e,n,r),rv(e,n,r,a),r=!0;else if(t===null){var u=e.stateNode,p=e.memoizedProps;u.props=p;var m=u.context,w=n.contextType;typeof w=="object"&&w!==null?w=li(w):(w=kr(n)?_o:sr.current,w=ec(e,w));var A=n.getDerivedStateFromProps,T=typeof A=="function"||typeof u.getSnapshotBeforeUpdate=="function";T||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==r||m!==w)&&$b(e,u,r,w),ea=!1;var I=e.memoizedState;u.state=I,uf(e,r,u,a),m=e.memoizedState,p!==r||I!==m||Ar.current||ea?(typeof A=="function"&&(nv(e,n,A,r),m=e.memoizedState),(p=ea||Hb(e,n,p,r,I,m,w))?(T||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=m),u.props=r,u.state=m,u.context=w,r=p):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,JE(t,e),p=e.memoizedProps,w=e.type===e.elementType?p:vi(e.type,p),u.props=w,T=e.pendingProps,I=u.context,m=n.contextType,typeof m=="object"&&m!==null?m=li(m):(m=kr(n)?_o:sr.current,m=ec(e,m));var z=n.getDerivedStateFromProps;(A=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==T||I!==m)&&$b(e,u,r,m),ea=!1,I=e.memoizedState,u.state=I,uf(e,r,u,a);var $=e.memoizedState;p!==T||I!==$||Ar.current||ea?(typeof z=="function"&&(nv(e,n,z,r),$=e.memoizedState),(w=ea||Hb(e,n,w,r,I,$,m)||!1)?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,$,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,$,m)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=$),u.props=r,u.state=$,u.context=m,r=w):(typeof u.componentDidUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),r=!1)}return av(t,e,n,r,l,a)}function av(t,e,n,r,a,l){TA(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return a&&jb(e,n,!1),Ns(t,e,l);r=e.stateNode,cN.current=e;var p=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=nc(e,t.child,null,l),e.child=nc(e,null,p,l)):ur(t,e,p,l),e.memoizedState=r.state,a&&jb(e,n,!0),e.child}function IA(t){var e=t.stateNode;e.pendingContext?Fb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fb(t,e.context,!1),Uy(t,e.containerInfo)}function ew(t,e,n,r,a){return tc(),Oy(a),e.flags|=256,ur(t,e,n,r),e.child}var ov={dehydrated:null,treeContext:null,retryLane:0};function lv(t){return{baseLanes:t,cachePool:null,transitions:null}}function PA(t,e,n){var r=e.pendingProps,a=rn.current,l=!1,u=(e.flags&128)!==0,p;if((p=u)||(p=t!==null&&t.memoizedState===null?!1:(a&2)!==0),p?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Bt(rn,a&1),t===null)return ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,l?(r=e.mode,l=e.child,u={mode:"hidden",children:u},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=u):l=ip(u,r,0,null),t=mo(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=lv(n),e.memoizedState=ov,t):qy(e,u));if(a=t.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return uN(t,e,u,r,p,a,n);if(l){l=r.fallback,u=e.mode,a=t.child,p=a.sibling;var m={mode:"hidden",children:r.children};return!(u&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=m,e.deletions=null):(r=Ea(a,m),r.subtreeFlags=a.subtreeFlags&14680064),p!==null?l=Ea(p,l):(l=mo(l,u,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,u=t.child.memoizedState,u=u===null?lv(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=t.childLanes&~n,e.memoizedState=ov,r}return l=t.child,t=l.sibling,r=Ea(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qy(t,e){return e=ip({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function id(t,e,n,r){return r!==null&&Oy(r),nc(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uN(t,e,n,r,a,l,u){if(n)return e.flags&256?(e.flags&=-257,r=Mg(Error(ke(422))),id(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,a=e.mode,r=ip({mode:"visible",children:r.children},a,0,null),l=mo(l,a,u,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&nc(e,t.child,null,u),e.child.memoizedState=lv(u),e.memoizedState=ov,l);if(!(e.mode&1))return id(t,e,u,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var p=r.dgst;return r=p,l=Error(ke(419)),r=Mg(l,r,void 0),id(t,e,u,r)}if(p=(u&t.childLanes)!==0,Er||p){if(r=Nn,r!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|u)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Rs(t,a),ki(r,t,a,-1))}return tx(),r=Mg(Error(ke(421))),id(t,e,u,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=_N.bind(null,t),a._reactRetry=e,null):(t=l.treeContext,Fr=ba(a.nextSibling),Br=e,Jt=!0,Si=null,t!==null&&(ni[ri++]=bs,ni[ri++]=ws,ni[ri++]=Eo,bs=t.id,ws=t.overflow,Eo=e),e=qy(e,r.children),e.flags|=4096,e)}function tw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tv(t.return,e,n)}function Fg(t,e,n,r,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function RA(t,e,n){var r=e.pendingProps,a=r.revealOrder,l=r.tail;if(ur(t,e,r.children,n),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tw(t,n,e);else if(t.tag===19)tw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bt(rn,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&hf(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Fg(e,!1,a,n,l);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&hf(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Fg(e,!0,n,null,l);break;case"together":Fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=Ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hN(t,e,n){switch(e.tag){case 3:IA(e),tc();break;case 5:iA(e);break;case 1:kr(e.type)&&sf(e);break;case 4:Uy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;Bt(lf,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bt(rn,rn.current&1),e.flags|=128,null):n&e.child.childLanes?PA(t,e,n):(Bt(rn,rn.current&1),t=Ns(t,e,n),t!==null?t.sibling:null);Bt(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RA(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Bt(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,CA(t,e,n)}return Ns(t,e,n)}var NA,cv,LA,DA;NA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cv=function(){};LA=function(t,e,n,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,io(Gi.current);var l=null;switch(n){case"input":a=Rm(t,a),r=Rm(t,r),l=[];break;case"select":a=on({},a,{value:void 0}),r=on({},r,{value:void 0}),l=[];break;case"textarea":a=Dm(t,a),r=Dm(t,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nf)}Mm(n,r);var u;n=null;for(w in a)if(!r.hasOwnProperty(w)&&a.hasOwnProperty(w)&&a[w]!=null)if(w==="style"){var p=a[w];for(u in p)p.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Tu.hasOwnProperty(w)?l||(l=[]):(l=l||[]).push(w,null));for(w in r){var m=r[w];if(p=a!=null?a[w]:void 0,r.hasOwnProperty(w)&&m!==p&&(m!=null||p!=null))if(w==="style")if(p){for(u in p)!p.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in m)m.hasOwnProperty(u)&&p[u]!==m[u]&&(n||(n={}),n[u]=m[u])}else n||(l||(l=[]),l.push(w,n)),n=m;else w==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,p=p?p.__html:void 0,m!=null&&p!==m&&(l=l||[]).push(w,m)):w==="children"?typeof m!="string"&&typeof m!="number"||(l=l||[]).push(w,""+m):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(w)?(m!=null&&w==="onScroll"&&$t("scroll",t),l||p===m||(l=[])):(l=l||[]).push(w,m))}n&&(l=l||[]).push("style",n);var w=l;(e.updateQueue=w)&&(e.flags|=4)}};DA=function(t,e,n,r){n!==r&&(e.flags|=4)};function zc(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dN(t,e,n){var r=e.pendingProps;switch(Dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return kr(e.type)&&rf(),Zn(e),null;case 3:return r=e.stateNode,rc(),Gt(Ar),Gt(sr),Hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Si!==null&&(vv(Si),Si=null))),cv(t,e),Zn(e),null;case 5:By(e);var a=io(zu.current);if(n=e.type,t!==null&&e.stateNode!=null)LA(t,e,n,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return Zn(e),null}if(t=io(Gi.current),nd(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[Wi]=e,r[ju]=l,t=(e.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(a=0;a<tu.length;a++)$t(tu[a],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":ub(r,l),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},$t("invalid",r);break;case"textarea":db(r,l),$t("invalid",r)}Mm(n,l),a=null;for(var u in l)if(l.hasOwnProperty(u)){var p=l[u];u==="children"?typeof p=="string"?r.textContent!==p&&(l.suppressHydrationWarning!==!0&&td(r.textContent,p,t),a=["children",p]):typeof p=="number"&&r.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&td(r.textContent,p,t),a=["children",""+p]):Tu.hasOwnProperty(u)&&p!=null&&u==="onScroll"&&$t("scroll",r)}switch(n){case"input":Yh(r),hb(r,l,!0);break;case"textarea":Yh(r),fb(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=nf)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Wi]=e,t[ju]=r,NA(t,e,!1,!1),e.stateNode=t;e:{switch(u=Fm(n,r),n){case"dialog":$t("cancel",t),$t("close",t),a=r;break;case"iframe":case"object":case"embed":$t("load",t),a=r;break;case"video":case"audio":for(a=0;a<tu.length;a++)$t(tu[a],t);a=r;break;case"source":$t("error",t),a=r;break;case"img":case"image":case"link":$t("error",t),$t("load",t),a=r;break;case"details":$t("toggle",t),a=r;break;case"input":ub(t,r),a=Rm(t,r),$t("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=on({},r,{value:void 0}),$t("invalid",t);break;case"textarea":db(t,r),a=Dm(t,r),$t("invalid",t);break;default:a=r}Mm(n,a),p=a;for(l in p)if(p.hasOwnProperty(l)){var m=p[l];l==="style"?uE(t,m):l==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&lE(t,m)):l==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&Iu(t,m):typeof m=="number"&&Iu(t,""+m):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Tu.hasOwnProperty(l)?m!=null&&l==="onScroll"&&$t("scroll",t):m!=null&&xy(t,l,m,u))}switch(n){case"input":Yh(t),hb(t,r,!1);break;case"textarea":Yh(t),fb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ia(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Pl(t,!!r.multiple,l,!1):r.defaultValue!=null&&Pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=nf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)DA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=io(zu.current),io(Gi.current),nd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wi]=e,(l=r.nodeValue!==n)&&(t=Br,t!==null))switch(t.tag){case 3:td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&td(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wi]=e,e.stateNode=r}return Zn(e),null;case 13:if(Gt(rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&Fr!==null&&e.mode&1&&!(e.flags&128))QE(),tc(),e.flags|=98560,l=!1;else if(l=nd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(ke(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ke(317));l[Wi]=e}else tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),l=!1}else Si!==null&&(vv(Si),Si=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?En===0&&(En=3):tx())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return rc(),cv(t,e),t===null&&Mu(e.stateNode.containerInfo),Zn(e),null;case 10:return jy(e.type._context),Zn(e),null;case 17:return kr(e.type)&&rf(),Zn(e),null;case 19:if(Gt(rn),l=e.memoizedState,l===null)return Zn(e),null;if(r=(e.flags&128)!==0,u=l.rendering,u===null)if(r)zc(l,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=hf(t),u!==null){for(e.flags|=128,zc(l,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,u=l.alternate,u===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,t=u.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bt(rn,rn.current&1|2),e.child}t=t.sibling}l.tail!==null&&gn()>sc&&(e.flags|=128,r=!0,zc(l,!1),e.lanes=4194304)}else{if(!r)if(t=hf(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Jt)return Zn(e),null}else 2*gn()-l.renderingStartTime>sc&&n!==1073741824&&(e.flags|=128,r=!0,zc(l,!1),e.lanes=4194304);l.isBackwards?(u.sibling=e.child,e.child=u):(n=l.last,n!==null?n.sibling=u:e.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=gn(),e.sibling=null,n=rn.current,Bt(rn,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return ex(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mr&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function fN(t,e){switch(Dy(e),e.tag){case 1:return kr(e.type)&&rf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rc(),Gt(Ar),Gt(sr),Hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return By(e),null;case 13:if(Gt(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gt(rn),null;case 4:return rc(),null;case 10:return jy(e.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var sd=!1,nr=!1,pN=typeof WeakSet=="function"?WeakSet:Set,ze=null;function _l(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fn(t,e,r)}else n.current=null}function uv(t,e,n){try{n()}catch(r){fn(t,e,r)}}var nw=!1;function gN(t,e){if(Ym=Jd,t=jE(),Ny(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var u=0,p=-1,m=-1,w=0,A=0,T=t,I=null;t:for(;;){for(var z;T!==n||a!==0&&T.nodeType!==3||(p=u+a),T!==l||r!==0&&T.nodeType!==3||(m=u+r),T.nodeType===3&&(u+=T.nodeValue.length),(z=T.firstChild)!==null;)I=T,T=z;for(;;){if(T===t)break t;if(I===n&&++w===a&&(p=u),I===l&&++A===r&&(m=u),(z=T.nextSibling)!==null)break;T=I,I=T.parentNode}T=z}n=p===-1||m===-1?null:{start:p,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gm={focusedElem:t,selectionRange:n},Jd=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var $=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if($!==null){var q=$.memoizedProps,Z=$.memoizedState,X=e.stateNode,L=X.getSnapshotBeforeUpdate(e.elementType===e.type?q:vi(e.type,q),Z);X.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var J=e.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(re){fn(e,e.return,re)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return $=nw,nw=!1,$}function gu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&uv(e,n,l)}a=a.next}while(a!==r)}}function np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OA(t){var e=t.alternate;e!==null&&(t.alternate=null,OA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wi],delete e[ju],delete e[Qm],delete e[Q2],delete e[Z2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MA(t){return t.tag===5||t.tag===3||t.tag===4}function rw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nf));else if(r!==4&&(t=t.child,t!==null))for(dv(t,e,n),t=t.sibling;t!==null;)dv(t,e,n),t=t.sibling}function fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fv(t,e,n),t=t.sibling;t!==null;)fv(t,e,n),t=t.sibling}var Fn=null,bi=!1;function qs(t,e,n){for(n=n.child;n!==null;)FA(t,e,n),n=n.sibling}function FA(t,e,n){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Gf,n)}catch{}switch(n.tag){case 5:nr||_l(n,e);case 6:var r=Fn,a=bi;Fn=null,qs(t,e,n),Fn=r,bi=a,Fn!==null&&(bi?(t=Fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(bi?(t=Fn,n=n.stateNode,t.nodeType===8?Pg(t.parentNode,n):t.nodeType===1&&Pg(t,n),Lu(t)):Pg(Fn,n.stateNode));break;case 4:r=Fn,a=bi,Fn=n.stateNode.containerInfo,bi=!0,qs(t,e,n),Fn=r,bi=a;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,u=l.destroy;l=l.tag,u!==void 0&&(l&2||l&4)&&uv(n,e,u),a=a.next}while(a!==r)}qs(t,e,n);break;case 1:if(!nr&&(_l(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(p){fn(n,e,p)}qs(t,e,n);break;case 21:qs(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,qs(t,e,n),nr=r):qs(t,e,n);break;default:qs(t,e,n)}}function iw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pN),e.forEach(function(r){var a=EN.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var l=t,u=e,p=u;e:for(;p!==null;){switch(p.tag){case 5:Fn=p.stateNode,bi=!1;break e;case 3:Fn=p.stateNode.containerInfo,bi=!0;break e;case 4:Fn=p.stateNode.containerInfo,bi=!0;break e}p=p.return}if(Fn===null)throw Error(ke(160));FA(l,u,a),Fn=null,bi=!1;var m=a.alternate;m!==null&&(m.return=null),a.return=null}catch(w){fn(a,e,w)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jA(e,t),e=e.sibling}function jA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),Vi(t),r&4){try{gu(3,t,t.return),np(3,t)}catch(q){fn(t,t.return,q)}try{gu(5,t,t.return)}catch(q){fn(t,t.return,q)}}break;case 1:mi(e,t),Vi(t),r&512&&n!==null&&_l(n,n.return);break;case 5:if(mi(e,t),Vi(t),r&512&&n!==null&&_l(n,n.return),t.flags&32){var a=t.stateNode;try{Iu(a,"")}catch(q){fn(t,t.return,q)}}if(r&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,u=n!==null?n.memoizedProps:l,p=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&sE(a,l),Fm(p,u);var w=Fm(p,l);for(u=0;u<m.length;u+=2){var A=m[u],T=m[u+1];A==="style"?uE(a,T):A==="dangerouslySetInnerHTML"?lE(a,T):A==="children"?Iu(a,T):xy(a,A,T,w)}switch(p){case"input":Nm(a,l);break;case"textarea":aE(a,l);break;case"select":var I=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var z=l.value;z!=null?Pl(a,!!l.multiple,z,!1):I!==!!l.multiple&&(l.defaultValue!=null?Pl(a,!!l.multiple,l.defaultValue,!0):Pl(a,!!l.multiple,l.multiple?[]:"",!1))}a[ju]=l}catch(q){fn(t,t.return,q)}}break;case 6:if(mi(e,t),Vi(t),r&4){if(t.stateNode===null)throw Error(ke(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(q){fn(t,t.return,q)}}break;case 3:if(mi(e,t),Vi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lu(e.containerInfo)}catch(q){fn(t,t.return,q)}break;case 4:mi(e,t),Vi(t);break;case 13:mi(e,t),Vi(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Zy=gn())),r&4&&iw(t);break;case 22:if(A=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(w=nr)||A,mi(e,t),nr=w):mi(e,t),Vi(t),r&8192){if(w=t.memoizedState!==null,(t.stateNode.isHidden=w)&&!A&&t.mode&1)for(ze=t,A=t.child;A!==null;){for(T=ze=A;ze!==null;){switch(I=ze,z=I.child,I.tag){case 0:case 11:case 14:case 15:gu(4,I,I.return);break;case 1:_l(I,I.return);var $=I.stateNode;if(typeof $.componentWillUnmount=="function"){r=I,n=I.return;try{e=r,$.props=e.memoizedProps,$.state=e.memoizedState,$.componentWillUnmount()}catch(q){fn(r,n,q)}}break;case 5:_l(I,I.return);break;case 22:if(I.memoizedState!==null){aw(T);continue}}z!==null?(z.return=I,ze=z):aw(T)}A=A.sibling}e:for(A=null,T=t;;){if(T.tag===5){if(A===null){A=T;try{a=T.stateNode,w?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=T.stateNode,m=T.memoizedProps.style,u=m!=null&&m.hasOwnProperty("display")?m.display:null,p.style.display=cE("display",u))}catch(q){fn(t,t.return,q)}}}else if(T.tag===6){if(A===null)try{T.stateNode.nodeValue=w?"":T.memoizedProps}catch(q){fn(t,t.return,q)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===t)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;A===T&&(A=null),T=T.return}A===T&&(A=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:mi(e,t),Vi(t),r&4&&iw(t);break;case 21:break;default:mi(e,t),Vi(t)}}function Vi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MA(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Iu(a,""),r.flags&=-33);var l=rw(t);fv(t,l,a);break;case 3:case 4:var u=r.stateNode.containerInfo,p=rw(t);dv(t,p,u);break;default:throw Error(ke(161))}}catch(m){fn(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mN(t,e,n){ze=t,VA(t)}function VA(t,e,n){for(var r=(t.mode&1)!==0;ze!==null;){var a=ze,l=a.child;if(a.tag===22&&r){var u=a.memoizedState!==null||sd;if(!u){var p=a.alternate,m=p!==null&&p.memoizedState!==null||nr;p=sd;var w=nr;if(sd=u,(nr=m)&&!w)for(ze=a;ze!==null;)u=ze,m=u.child,u.tag===22&&u.memoizedState!==null?ow(a):m!==null?(m.return=u,ze=m):ow(a);for(;l!==null;)ze=l,VA(l),l=l.sibling;ze=a,sd=p,nr=w}sw(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ze=l):sw(t)}}function sw(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||np(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:vi(e.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&Bb(e,l,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bb(e,u,n)}break;case 5:var p=e.stateNode;if(n===null&&e.flags&4){n=p;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var w=e.alternate;if(w!==null){var A=w.memoizedState;if(A!==null){var T=A.dehydrated;T!==null&&Lu(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}nr||e.flags&512&&hv(e)}catch(I){fn(e,e.return,I)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function aw(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function ow(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{np(4,e)}catch(m){fn(e,n,m)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(m){fn(e,a,m)}}var l=e.return;try{hv(e)}catch(m){fn(e,l,m)}break;case 5:var u=e.return;try{hv(e)}catch(m){fn(e,u,m)}}}catch(m){fn(e,e.return,m)}if(e===t){ze=null;break}var p=e.sibling;if(p!==null){p.return=e.return,ze=p;break}ze=e.return}}var vN=Math.ceil,pf=Fs.ReactCurrentDispatcher,Ky=Fs.ReactCurrentOwner,ai=Fs.ReactCurrentBatchConfig,_t=0,Nn=null,xn=null,Un=0,Mr=0,El=Ma(0),En=0,$u=null,ko=0,rp=0,Qy=0,mu=null,wr=null,Zy=0,sc=1/0,ys=null,gf=!1,pv=null,Sa=null,ad=!1,pa=null,mf=0,vu=0,gv=null,Ld=-1,Dd=0;function dr(){return _t&6?gn():Ld!==-1?Ld:Ld=gn()}function _a(t){return t.mode&1?_t&2&&Un!==0?Un&-Un:eN.transition!==null?(Dd===0&&(Dd=SE()),Dd):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:IE(t.type)),t):1}function ki(t,e,n,r){if(50<vu)throw vu=0,gv=null,Error(ke(185));dh(t,n,r),(!(_t&2)||t!==Nn)&&(t===Nn&&(!(_t&2)&&(rp|=n),En===4&&ra(t,Un)),Cr(t,r),n===1&&_t===0&&!(e.mode&1)&&(sc=gn()+500,Jf&&Fa()))}function Cr(t,e){var n=t.callbackNode;e2(t,e);var r=Zd(t,t===Nn?Un:0);if(r===0)n!==null&&mb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mb(n),e===1)t.tag===0?J2(lw.bind(null,t)):GE(lw.bind(null,t)),q2(function(){!(_t&6)&&Fa()}),n=null;else{switch(_E(r)){case 1:n=Ey;break;case 4:n=bE;break;case 16:n=Qd;break;case 536870912:n=wE;break;default:n=Qd}n=YA(n,zA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zA(t,e){if(Ld=-1,Dd=0,_t&6)throw Error(ke(327));var n=t.callbackNode;if(Ol()&&t.callbackNode!==n)return null;var r=Zd(t,t===Nn?Un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vf(t,r);else{e=r;var a=_t;_t|=2;var l=BA();(Nn!==t||Un!==e)&&(ys=null,sc=gn()+500,go(t,e));do try{bN();break}catch(p){UA(t,p)}while(!0);Fy(),pf.current=l,_t=a,xn!==null?e=0:(Nn=null,Un=0,e=En)}if(e!==0){if(e===2&&(a=Bm(t),a!==0&&(r=a,e=mv(t,a))),e===1)throw n=$u,go(t,0),ra(t,r),Cr(t,gn()),n;if(e===6)ra(t,r);else{if(a=t.current.alternate,!(r&30)&&!yN(a)&&(e=vf(t,r),e===2&&(l=Bm(t),l!==0&&(r=l,e=mv(t,l))),e===1))throw n=$u,go(t,0),ra(t,r),Cr(t,gn()),n;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:Ka(t,wr,ys);break;case 3:if(ra(t,r),(r&130023424)===r&&(e=Zy+500-gn(),10<e)){if(Zd(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){dr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Km(Ka.bind(null,t,wr,ys),e);break}Ka(t,wr,ys);break;case 4:if(ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var u=31-Ai(r);l=1<<u,u=e[u],u>a&&(a=u),r&=~l}if(r=a,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vN(r/1960))-r,10<r){t.timeoutHandle=Km(Ka.bind(null,t,wr,ys),r);break}Ka(t,wr,ys);break;case 5:Ka(t,wr,ys);break;default:throw Error(ke(329))}}}return Cr(t,gn()),t.callbackNode===n?zA.bind(null,t):null}function mv(t,e){var n=mu;return t.current.memoizedState.isDehydrated&&(go(t,e).flags|=256),t=vf(t,e),t!==2&&(e=wr,wr=n,e!==null&&vv(e)),t}function vv(t){wr===null?wr=t:wr.push.apply(wr,t)}function yN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!Ti(l(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~Qy,e&=~rp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),r=1<<n;t[n]=-1,e&=~r}}function lw(t){if(_t&6)throw Error(ke(327));Ol();var e=Zd(t,0);if(!(e&1))return Cr(t,gn()),null;var n=vf(t,e);if(t.tag!==0&&n===2){var r=Bm(t);r!==0&&(e=r,n=mv(t,r))}if(n===1)throw n=$u,go(t,0),ra(t,e),Cr(t,gn()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ka(t,wr,ys),Cr(t,gn()),null}function Jy(t,e){var n=_t;_t|=1;try{return t(e)}finally{_t=n,_t===0&&(sc=gn()+500,Jf&&Fa())}}function Co(t){pa!==null&&pa.tag===0&&!(_t&6)&&Ol();var e=_t;_t|=1;var n=ai.transition,r=Dt;try{if(ai.transition=null,Dt=1,t)return t()}finally{Dt=r,ai.transition=n,_t=e,!(_t&6)&&Fa()}}function ex(){Mr=El.current,Gt(El)}function go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,G2(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(Dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rf();break;case 3:rc(),Gt(Ar),Gt(sr),Hy();break;case 5:By(r);break;case 4:rc();break;case 13:Gt(rn);break;case 19:Gt(rn);break;case 10:jy(r.type._context);break;case 22:case 23:ex()}n=n.return}if(Nn=t,xn=t=Ea(t.current,null),Un=Mr=e,En=0,$u=null,Qy=rp=ko=0,wr=mu=null,ro!==null){for(e=0;e<ro.length;e++)if(n=ro[e],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,l=n.pending;if(l!==null){var u=l.next;l.next=a,r.next=u}n.pending=r}ro=null}return t}function UA(t,e){do{var n=xn;try{if(Fy(),Pd.current=ff,df){for(var r=sn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}df=!1}if(Ao=0,Rn=_n=sn=null,pu=!1,Uu=0,Ky.current=null,n===null||n.return===null){En=1,$u=e,xn=null;break}e:{var l=t,u=n.return,p=n,m=e;if(e=Un,p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var w=m,A=p,T=A.tag;if(!(A.mode&1)&&(T===0||T===11||T===15)){var I=A.alternate;I?(A.updateQueue=I.updateQueue,A.memoizedState=I.memoizedState,A.lanes=I.lanes):(A.updateQueue=null,A.memoizedState=null)}var z=qb(u);if(z!==null){z.flags&=-257,Kb(z,u,p,l,e),z.mode&1&&Gb(l,w,e),e=z,m=w;var $=e.updateQueue;if($===null){var q=new Set;q.add(m),e.updateQueue=q}else $.add(m);break e}else{if(!(e&1)){Gb(l,w,e),tx();break e}m=Error(ke(426))}}else if(Jt&&p.mode&1){var Z=qb(u);if(Z!==null){!(Z.flags&65536)&&(Z.flags|=256),Kb(Z,u,p,l,e),Oy(ic(m,p));break e}}l=m=ic(m,p),En!==4&&(En=2),mu===null?mu=[l]:mu.push(l),l=u;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var X=EA(l,m,e);Ub(l,X);break e;case 1:p=m;var L=l.type,J=l.stateNode;if(!(l.flags&128)&&(typeof L.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Sa===null||!Sa.has(J)))){l.flags|=65536,e&=-e,l.lanes|=e;var re=AA(l,p,e);Ub(l,re);break e}}l=l.return}while(l!==null)}$A(n)}catch(te){e=te,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(!0)}function BA(){var t=pf.current;return pf.current=ff,t===null?ff:t}function tx(){(En===0||En===3||En===2)&&(En=4),Nn===null||!(ko&268435455)&&!(rp&268435455)||ra(Nn,Un)}function vf(t,e){var n=_t;_t|=2;var r=BA();(Nn!==t||Un!==e)&&(ys=null,go(t,e));do try{xN();break}catch(a){UA(t,a)}while(!0);if(Fy(),_t=n,pf.current=r,xn!==null)throw Error(ke(261));return Nn=null,Un=0,En}function xN(){for(;xn!==null;)HA(xn)}function bN(){for(;xn!==null&&!WR();)HA(xn)}function HA(t){var e=XA(t.alternate,t,Mr);t.memoizedProps=t.pendingProps,e===null?$A(t):xn=e,Ky.current=null}function $A(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fN(n,e),n!==null){n.flags&=32767,xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,xn=null;return}}else if(n=dN(n,e,Mr),n!==null){xn=n;return}if(e=e.sibling,e!==null){xn=e;return}xn=e=t}while(e!==null);En===0&&(En=5)}function Ka(t,e,n){var r=Dt,a=ai.transition;try{ai.transition=null,Dt=1,wN(t,e,n,r)}finally{ai.transition=a,Dt=r}return null}function wN(t,e,n,r){do Ol();while(pa!==null);if(_t&6)throw Error(ke(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(t2(t,l),t===Nn&&(xn=Nn=null,Un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,YA(Qd,function(){return Ol(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=ai.transition,ai.transition=null;var u=Dt;Dt=1;var p=_t;_t|=4,Ky.current=null,gN(t,n),jA(n,t),U2(Gm),Jd=!!Ym,Gm=Ym=null,t.current=n,mN(n),XR(),_t=p,Dt=u,ai.transition=l}else t.current=n;if(ad&&(ad=!1,pa=t,mf=a),l=t.pendingLanes,l===0&&(Sa=null),qR(n.stateNode),Cr(t,gn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(gf)throw gf=!1,t=pv,pv=null,t;return mf&1&&t.tag!==0&&Ol(),l=t.pendingLanes,l&1?t===gv?vu++:(vu=0,gv=t):vu=0,Fa(),null}function Ol(){if(pa!==null){var t=_E(mf),e=ai.transition,n=Dt;try{if(ai.transition=null,Dt=16>t?16:t,pa===null)var r=!1;else{if(t=pa,pa=null,mf=0,_t&6)throw Error(ke(331));var a=_t;for(_t|=4,ze=t.current;ze!==null;){var l=ze,u=l.child;if(ze.flags&16){var p=l.deletions;if(p!==null){for(var m=0;m<p.length;m++){var w=p[m];for(ze=w;ze!==null;){var A=ze;switch(A.tag){case 0:case 11:case 15:gu(8,A,l)}var T=A.child;if(T!==null)T.return=A,ze=T;else for(;ze!==null;){A=ze;var I=A.sibling,z=A.return;if(OA(A),A===w){ze=null;break}if(I!==null){I.return=z,ze=I;break}ze=z}}}var $=l.alternate;if($!==null){var q=$.child;if(q!==null){$.child=null;do{var Z=q.sibling;q.sibling=null,q=Z}while(q!==null)}}ze=l}}if(l.subtreeFlags&2064&&u!==null)u.return=l,ze=u;else e:for(;ze!==null;){if(l=ze,l.flags&2048)switch(l.tag){case 0:case 11:case 15:gu(9,l,l.return)}var X=l.sibling;if(X!==null){X.return=l.return,ze=X;break e}ze=l.return}}var L=t.current;for(ze=L;ze!==null;){u=ze;var J=u.child;if(u.subtreeFlags&2064&&J!==null)J.return=u,ze=J;else e:for(u=L;ze!==null;){if(p=ze,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:np(9,p)}}catch(te){fn(p,p.return,te)}if(p===u){ze=null;break e}var re=p.sibling;if(re!==null){re.return=p.return,ze=re;break e}ze=p.return}}if(_t=a,Fa(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Gf,t)}catch{}r=!0}return r}finally{Dt=n,ai.transition=e}}return!1}function cw(t,e,n){e=ic(n,e),e=EA(t,e,1),t=wa(t,e,1),e=dr(),t!==null&&(dh(t,1,e),Cr(t,e))}function fn(t,e,n){if(t.tag===3)cw(t,t,n);else for(;e!==null;){if(e.tag===3){cw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sa===null||!Sa.has(r))){t=ic(n,t),t=AA(e,t,1),e=wa(e,t,1),t=dr(),e!==null&&(dh(e,1,t),Cr(e,t));break}}e=e.return}}function SN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dr(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(Un&n)===n&&(En===4||En===3&&(Un&130023424)===Un&&500>gn()-Zy?go(t,0):Qy|=n),Cr(t,e)}function WA(t,e){e===0&&(t.mode&1?(e=Kh,Kh<<=1,!(Kh&130023424)&&(Kh=4194304)):e=1);var n=dr();t=Rs(t,e),t!==null&&(dh(t,e,n),Cr(t,n))}function _N(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WA(t,n)}function EN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),WA(t,n)}var XA;XA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ar.current)Er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Er=!1,hN(t,e,n);Er=!!(t.flags&131072)}else Er=!1,Jt&&e.flags&1048576&&qE(e,of,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nd(t,e),t=e.pendingProps;var a=ec(e,sr.current);Dl(e,n),a=Wy(null,e,r,t,a,n);var l=Xy();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(r)?(l=!0,sf(e)):l=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zy(e),a.updater=ep,e.stateNode=a,a._reactInternals=e,rv(e,r,t,n),e=av(null,e,r,!0,l,n)):(e.tag=0,Jt&&l&&Ly(e),ur(null,e,a,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=kN(r),t=vi(r,t),a){case 0:e=sv(null,e,r,t,n);break e;case 1:e=Jb(null,e,r,t,n);break e;case 11:e=Qb(null,e,r,t,n);break e;case 14:e=Zb(null,e,r,vi(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:vi(r,a),sv(t,e,r,a,n);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:vi(r,a),Jb(t,e,r,a,n);case 3:e:{if(IA(e),t===null)throw Error(ke(387));r=e.pendingProps,l=e.memoizedState,a=l.element,JE(t,e),uf(e,r,null,n);var u=e.memoizedState;if(r=u.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){a=ic(Error(ke(423)),e),e=ew(t,e,r,n,a);break e}else if(r!==a){a=ic(Error(ke(424)),e),e=ew(t,e,r,n,a);break e}else for(Fr=ba(e.stateNode.containerInfo.firstChild),Br=e,Jt=!0,Si=null,n=rA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tc(),r===a){e=Ns(t,e,n);break e}ur(t,e,r,n)}e=e.child}return e;case 5:return iA(e),t===null&&ev(e),r=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,u=a.children,qm(r,a)?u=null:l!==null&&qm(r,l)&&(e.flags|=32),TA(t,e),ur(t,e,u,n),e.child;case 6:return t===null&&ev(e),null;case 13:return PA(t,e,n);case 4:return Uy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nc(e,null,r,n):ur(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:vi(r,a),Qb(t,e,r,a,n);case 7:return ur(t,e,e.pendingProps,n),e.child;case 8:return ur(t,e,e.pendingProps.children,n),e.child;case 12:return ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,l=e.memoizedProps,u=a.value,Bt(lf,r._currentValue),r._currentValue=u,l!==null)if(Ti(l.value,u)){if(l.children===a.children&&!Ar.current){e=Ns(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var p=l.dependencies;if(p!==null){u=l.child;for(var m=p.firstContext;m!==null;){if(m.context===r){if(l.tag===1){m=As(-1,n&-n),m.tag=2;var w=l.updateQueue;if(w!==null){w=w.shared;var A=w.pending;A===null?m.next=m:(m.next=A.next,A.next=m),w.pending=m}}l.lanes|=n,m=l.alternate,m!==null&&(m.lanes|=n),tv(l.return,n,e),p.lanes|=n;break}m=m.next}}else if(l.tag===10)u=l.type===e.type?null:l.child;else if(l.tag===18){if(u=l.return,u===null)throw Error(ke(341));u.lanes|=n,p=u.alternate,p!==null&&(p.lanes|=n),tv(u,n,e),u=l.sibling}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===e){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}ur(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,Dl(e,n),a=li(a),r=r(a),e.flags|=1,ur(t,e,r,n),e.child;case 14:return r=e.type,a=vi(r,e.pendingProps),a=vi(r.type,a),Zb(t,e,r,a,n);case 15:return kA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:vi(r,a),Nd(t,e),e.tag=1,kr(r)?(t=!0,sf(e)):t=!1,Dl(e,n),tA(e,r,a),rv(e,r,a,n),av(null,e,r,!0,t,n);case 19:return RA(t,e,n);case 22:return CA(t,e,n)}throw Error(ke(156,e.tag))};function YA(t,e){return xE(t,e)}function AN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,e,n,r){return new AN(t,e,n,r)}function nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kN(t){if(typeof t=="function")return nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wy)return 11;if(t===Sy)return 14}return 2}function Ea(t,e){var n=t.alternate;return n===null?(n=si(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Od(t,e,n,r,a,l){var u=2;if(r=t,typeof t=="function")nx(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case pl:return mo(n.children,a,l,e);case by:u=8,a|=8;break;case Cm:return t=si(12,n,e,a|2),t.elementType=Cm,t.lanes=l,t;case Tm:return t=si(13,n,e,a),t.elementType=Tm,t.lanes=l,t;case Im:return t=si(19,n,e,a),t.elementType=Im,t.lanes=l,t;case nE:return ip(n,a,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eE:u=10;break e;case tE:u=9;break e;case wy:u=11;break e;case Sy:u=14;break e;case Js:u=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=si(u,n,e,a),e.elementType=t,e.type=r,e.lanes=l,e}function mo(t,e,n,r){return t=si(7,t,r,e),t.lanes=n,t}function ip(t,e,n,r){return t=si(22,t,r,e),t.elementType=nE,t.lanes=n,t.stateNode={isHidden:!1},t}function jg(t,e,n){return t=si(6,t,null,e),t.lanes=n,t}function Vg(t,e,n){return e=si(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CN(t,e,n,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xg(0),this.expirationTimes=xg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xg(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function rx(t,e,n,r,a,l,u,p,m){return t=new CN(t,e,n,p,m),e===1?(e=1,l===!0&&(e|=8)):e=0,l=si(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zy(l),t}function TN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GA(t){if(!t)return Pa;t=t._reactInternals;e:{if(zo(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(kr(n))return YE(t,n,e)}return e}function qA(t,e,n,r,a,l,u,p,m){return t=rx(n,r,!0,t,a,l,u,p,m),t.context=GA(null),n=t.current,r=dr(),a=_a(n),l=As(r,a),l.callback=e??null,wa(n,l,a),t.current.lanes=a,dh(t,a,r),Cr(t,r),t}function sp(t,e,n,r){var a=e.current,l=dr(),u=_a(a);return n=GA(n),e.context===null?e.context=n:e.pendingContext=n,e=As(l,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wa(a,e,u),t!==null&&(ki(t,a,u,l),Id(t,a,u)),u}function yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ix(t,e){uw(t,e),(t=t.alternate)&&uw(t,e)}function IN(){return null}var KA=typeof reportError=="function"?reportError:function(t){console.error(t)};function sx(t){this._internalRoot=t}ap.prototype.render=sx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));sp(t,e,null,null)};ap.prototype.unmount=sx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Co(function(){sp(null,t,null,null)}),e[Ps]=null}};function ap(t){this._internalRoot=t}ap.prototype.unstable_scheduleHydration=function(t){if(t){var e=kE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&TE(t)}};function ax(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function op(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hw(){}function PN(t,e,n,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var w=yf(u);l.call(w)}}var u=qA(e,r,t,0,null,!1,!1,"",hw);return t._reactRootContainer=u,t[Ps]=u.current,Mu(t.nodeType===8?t.parentNode:t),Co(),u}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var p=r;r=function(){var w=yf(m);p.call(w)}}var m=rx(t,0,!1,null,null,!1,!1,"",hw);return t._reactRootContainer=m,t[Ps]=m.current,Mu(t.nodeType===8?t.parentNode:t),Co(function(){sp(e,m,n,r)}),m}function lp(t,e,n,r,a){var l=n._reactRootContainer;if(l){var u=l;if(typeof a=="function"){var p=a;a=function(){var m=yf(u);p.call(m)}}sp(e,u,t,a)}else u=PN(n,e,t,a,r);return yf(u)}EE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Ay(e,n|1),Cr(e,gn()),!(_t&6)&&(sc=gn()+500,Fa()))}break;case 13:Co(function(){var r=Rs(t,1);if(r!==null){var a=dr();ki(r,t,1,a)}}),ix(t,1)}};ky=function(t){if(t.tag===13){var e=Rs(t,134217728);if(e!==null){var n=dr();ki(e,t,134217728,n)}ix(t,134217728)}};AE=function(t){if(t.tag===13){var e=_a(t),n=Rs(t,e);if(n!==null){var r=dr();ki(n,t,e,r)}ix(t,e)}};kE=function(){return Dt};CE=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};Vm=function(t,e,n){switch(e){case"input":if(Nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=Zf(r);if(!a)throw Error(ke(90));iE(r),Nm(r,a)}}}break;case"textarea":aE(t,n);break;case"select":e=n.value,e!=null&&Pl(t,!!n.multiple,e,!1)}};fE=Jy;pE=Co;var RN={usingClientEntryPoint:!1,Events:[ph,yl,Zf,hE,dE,Jy]},Uc={findFiberByHostInstance:no,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NN={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vE(t),t===null?null:t.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||IN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Gf=od.inject(NN),Yi=od}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;Wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ax(e))throw Error(ke(200));return TN(t,e,null,n)};Wr.createRoot=function(t,e){if(!ax(t))throw Error(ke(299));var n=!1,r="",a=KA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=rx(t,1,!1,null,null,n,!1,r,a),t[Ps]=e.current,Mu(t.nodeType===8?t.parentNode:t),new sx(e)};Wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=vE(e),t=t===null?null:t.stateNode,t};Wr.flushSync=function(t){return Co(t)};Wr.hydrate=function(t,e,n){if(!op(e))throw Error(ke(200));return lp(null,t,e,!0,n)};Wr.hydrateRoot=function(t,e,n){if(!ax(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,a=!1,l="",u=KA;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=qA(e,null,t,1,n??null,a,!1,l,u),t[Ps]=e.current,Mu(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new ap(e)};Wr.render=function(t,e,n){if(!op(e))throw Error(ke(200));return lp(null,t,e,!1,n)};Wr.unmountComponentAtNode=function(t){if(!op(t))throw Error(ke(40));return t._reactRootContainer?(Co(function(){lp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ps]=null})}),!0):!1};Wr.unstable_batchedUpdates=Jy;Wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!op(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return lp(t,e,n,!1,r)};Wr.version="18.2.0-next-9e3b772b8-20220608";function QA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QA)}catch(t){console.error(t)}}QA(),q_.exports=Wr;var cp=q_.exports;const LN=Ms(cp),DN=j_({__proto__:null,default:LN},[cp]);var dw=cp;Am.createRoot=dw.createRoot,Am.hydrateRoot=dw.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nn(){return nn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nn.apply(this,arguments)}var pn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pn||(pn={}));const fw="popstate";function ON(t){t===void 0&&(t={});function e(r,a){let{pathname:l,search:u,hash:p}=r.location;return Wu("",{pathname:l,search:u,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:To(a)}return FN(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ac(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substr(2,8)}function pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Wu(t,e,n,r){return n===void 0&&(n=null),nn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:n,key:e&&e.key||r||MN()})}function To(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FN(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,p=pn.Pop,m=null,w=A();w==null&&(w=0,u.replaceState(nn({},u.state,{idx:w}),""));function A(){return(u.state||{idx:null}).idx}function T(){p=pn.Pop;let Z=A(),X=Z==null?null:Z-w;w=Z,m&&m({action:p,location:q.location,delta:X})}function I(Z,X){p=pn.Push;let L=Wu(q.location,Z,X);n&&n(L,Z),w=A()+1;let J=pw(L,w),re=q.createHref(L);try{u.pushState(J,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}l&&m&&m({action:p,location:q.location,delta:1})}function z(Z,X){p=pn.Replace;let L=Wu(q.location,Z,X);n&&n(L,Z),w=A();let J=pw(L,w),re=q.createHref(L);u.replaceState(J,"",re),l&&m&&m({action:p,location:q.location,delta:0})}function $(Z){let X=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof Z=="string"?Z:To(Z);return L=L.replace(/ $/,"%20"),vt(X,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,X)}let q={get action(){return p},get location(){return t(a,u)},listen(Z){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(fw,T),m=Z,()=>{a.removeEventListener(fw,T),m=null}},createHref(Z){return e(a,Z)},createURL:$,encodeLocation(Z){let X=$(Z);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:I,replace:z,go(Z){return u.go(Z)}};return q}var Zt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zt||(Zt={}));const jN=new Set(["lazy","caseSensitive","path","id","index","children"]);function VN(t){return t.index===!0}function yv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((a,l)=>{let u=[...n,l],p=typeof a.id=="string"?a.id:u.join("-");if(vt(a.index!==!0||!a.children,"Cannot specify children on an index route"),vt(!r[p],'Found a route id collision on id "'+p+`".  Route id's must be globally unique within Data Router usages`),VN(a)){let m=nn({},a,e(a),{id:p});return r[p]=m,m}else{let m=nn({},a,e(a),{id:p,children:void 0});return r[p]=m,a.children&&(m.children=yv(a.children,e,u,r)),m}})}function Al(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?js(e):e,a=bc(r.pathname||"/",n);if(a==null)return null;let l=ZA(t);UN(l);let u=null;for(let p=0;u==null&&p<l.length;++p){let m=JN(a);u=KN(l[p],m)}return u}function zN(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function ZA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(l,u,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(vt(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let w=ks([r,m.relativePath]),A=n.concat(m);l.children&&l.children.length>0&&(vt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),ZA(l.children,e,A,w)),!(l.path==null&&!l.index)&&e.push({path:w,score:GN(w,l.index),routesMeta:A})};return t.forEach((l,u)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))a(l,u);else for(let m of JA(l.path))a(l,u,m)}),e}function JA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=JA(r.join("/")),p=[];return p.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&p.push(...u),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function UN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BN=/^:[\w-]+$/,HN=3,$N=2,WN=1,XN=10,YN=-2,gw=t=>t==="*";function GN(t,e){let n=t.split("/"),r=n.length;return n.some(gw)&&(r+=YN),e&&(r+=$N),n.filter(a=>!gw(a)).reduce((a,l)=>a+(BN.test(l)?HN:l===""?WN:XN),r)}function qN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function KN(t,e){let{routesMeta:n}=t,r={},a="/",l=[];for(let u=0;u<n.length;++u){let p=n[u],m=u===n.length-1,w=a==="/"?e:e.slice(a.length)||"/",A=QN({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},w);if(!A)return null;Object.assign(r,A.params);let T=p.route;l.push({params:r,pathname:ks([a,A.pathname]),pathnameBase:nL(ks([a,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(a=ks([a,A.pathnameBase]))}return l}function QN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:r.reduce((w,A,T)=>{let{paramName:I,isOptional:z}=A;if(I==="*"){let q=p[T]||"";u=l.slice(0,l.length-q.length).replace(/(.)\/+$/,"$1")}const $=p[T];return z&&!$?w[I]=void 0:w[I]=($||"").replace(/%2F/g,"/"),w},{}),pathname:l,pathnameBase:u,pattern:t}}function ZN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ac(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,m)=>(r.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function JN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ac(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?js(t):t;return{pathname:n?n.startsWith("/")?n:tL(n,e):e,search:rL(r),hash:iL(a)}}function tL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function zg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ek(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ox(t,e){let n=ek(t);return e?n.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lx(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=js(t):(a=nn({},t),vt(!a.pathname||!a.pathname.includes("?"),zg("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),zg("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),zg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,p;if(u==null)p=n;else{let T=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),T-=1;a.pathname=I.join("/")}p=T>=0?e[T]:"/"}let m=eL(a,p),w=u&&u!=="/"&&u.endsWith("/"),A=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(w||A)&&(m.pathname+="/"),m}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),nL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class cx{constructor(e,n,r,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ux(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tk=["post","put","patch","delete"],sL=new Set(tk),aL=["get",...tk],oL=new Set(aL),lL=new Set([301,302,303,307,308]),cL=new Set([307,308]),Ug={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),nk="remix-router-transitions";function dL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;vt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let ce=t.detectErrorBoundary;a=de=>({hasErrorBoundary:ce(de)})}else a=hL;let l={},u=yv(t.routes,a,void 0,l),p,m=t.basename||"/",w=t.unstable_dataStrategy||mL,A=nn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),T=null,I=new Set,z=null,$=null,q=null,Z=t.hydrationData!=null,X=Al(u,t.history.location,m),L=null;if(X==null){let ce=ti(404,{pathname:t.history.location.pathname}),{matches:de,route:ye}=Aw(u);X=de,L={[ye.id]:ce}}let J,re=X.some(ce=>ce.route.lazy),te=X.some(ce=>ce.route.loader);if(re)J=!1;else if(!te)J=!0;else if(A.v7_partialHydration){let ce=t.hydrationData?t.hydrationData.loaderData:null,de=t.hydrationData?t.hydrationData.errors:null,ye=Ce=>Ce.route.loader?typeof Ce.route.loader=="function"&&Ce.route.loader.hydrate===!0?!1:ce&&ce[Ce.route.id]!==void 0||de&&de[Ce.route.id]!==void 0:!0;if(de){let Ce=X.findIndex(Le=>de[Le.route.id]!==void 0);J=X.slice(0,Ce+1).every(ye)}else J=X.every(ye)}else J=t.hydrationData!=null;let oe,j={historyAction:t.history.action,location:t.history.location,matches:X,initialized:J,navigation:Ug,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},W=pn.Pop,Y=!1,ee,ie=!1,le=new Map,ne=null,rt=!1,gt=!1,An=[],Kt=[],Se=new Map,Ue=0,Ae=-1,Xe=new Map,$e=new Set,Oe=new Map,ht=new Map,_e=new Set,Pe=new Map,Ne=new Map,lt=!1;function kt(){if(T=t.history.listen(ce=>{let{action:de,location:ye,delta:Ce}=ce;if(lt){lt=!1;return}ac(Ne.size===0||Ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Le=Jo({currentLocation:j.location,nextLocation:ye,historyAction:de});if(Le&&Ce!=null){lt=!0,t.history.go(Ce*-1),cs(Le,{state:"blocked",location:ye,proceed(){cs(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),t.history.go(Ce)},reset(){let st=new Map(j.blockers);st.set(Le,Bc),cn({blockers:st})}});return}return xr(de,ye)}),n){TL(e,le);let ce=()=>IL(e,le);e.addEventListener("pagehide",ce),ne=()=>e.removeEventListener("pagehide",ce)}return j.initialized||xr(pn.Pop,j.location,{initialHydration:!0}),oe}function jt(){T&&T(),ne&&ne(),I.clear(),ee&&ee.abort(),j.fetchers.forEach((ce,de)=>un(de)),j.blockers.forEach((ce,de)=>Ys(de))}function Rr(ce){return I.add(ce),()=>I.delete(ce)}function cn(ce,de){de===void 0&&(de={}),j=nn({},j,ce);let ye=[],Ce=[];A.v7_fetcherPersist&&j.fetchers.forEach((Le,st)=>{Le.state==="idle"&&(_e.has(st)?Ce.push(st):ye.push(st))}),[...I].forEach(Le=>Le(j,{deletedFetchers:Ce,unstable_viewTransitionOpts:de.viewTransitionOpts,unstable_flushSync:de.flushSync===!0})),A.v7_fetcherPersist&&(ye.forEach(Le=>j.fetchers.delete(Le)),Ce.forEach(Le=>un(Le)))}function Wn(ce,de,ye){var Ce,Le;let{flushSync:st}=ye===void 0?{}:ye,De=j.actionData!=null&&j.navigation.formMethod!=null&&wi(j.navigation.formMethod)&&j.navigation.state==="loading"&&((Ce=ce.state)==null?void 0:Ce._isRedirect)!==!0,Fe;de.actionData?Object.keys(de.actionData).length>0?Fe=de.actionData:Fe=null:De?Fe=j.actionData:Fe=null;let tt=de.loaderData?_w(j.loaderData,de.loaderData,de.matches||[],de.errors):j.loaderData,Qe=j.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((Ye,Mt)=>Qe.set(Mt,Bc)));let en=Y===!0||j.navigation.formMethod!=null&&wi(j.navigation.formMethod)&&((Le=ce.state)==null?void 0:Le._isRedirect)!==!0;p&&(u=p,p=void 0),rt||W===pn.Pop||(W===pn.Push?t.history.push(ce,ce.state):W===pn.Replace&&t.history.replace(ce,ce.state));let Vt;if(W===pn.Pop){let Ye=le.get(j.location.pathname);Ye&&Ye.has(ce.pathname)?Vt={currentLocation:j.location,nextLocation:ce}:le.has(ce.pathname)&&(Vt={currentLocation:ce,nextLocation:j.location})}else if(ie){let Ye=le.get(j.location.pathname);Ye?Ye.add(ce.pathname):(Ye=new Set([ce.pathname]),le.set(j.location.pathname,Ye)),Vt={currentLocation:j.location,nextLocation:ce}}cn(nn({},de,{actionData:Fe,loaderData:tt,historyAction:W,location:ce,initialized:!0,navigation:Ug,revalidation:"idle",restoreScrollPosition:hs(ce,de.matches||j.matches),preventScrollReset:en,blockers:Qe}),{viewTransitionOpts:Vt,flushSync:st===!0}),W=pn.Pop,Y=!1,ie=!1,rt=!1,gt=!1,An=[],Kt=[]}async function Gr(ce,de){if(typeof ce=="number"){t.history.go(ce);return}let ye=xv(j.location,j.matches,m,A.v7_prependBasename,ce,A.v7_relativeSplatPath,de==null?void 0:de.fromRouteId,de==null?void 0:de.relative),{path:Ce,submission:Le,error:st}=mw(A.v7_normalizeFormMethod,!1,ye,de),De=j.location,Fe=Wu(j.location,Ce,de&&de.state);Fe=nn({},Fe,t.history.encodeLocation(Fe));let tt=de&&de.replace!=null?de.replace:void 0,Qe=pn.Push;tt===!0?Qe=pn.Replace:tt===!1||Le!=null&&wi(Le.formMethod)&&Le.formAction===j.location.pathname+j.location.search&&(Qe=pn.Replace);let en=de&&"preventScrollReset"in de?de.preventScrollReset===!0:void 0,Vt=(de&&de.unstable_flushSync)===!0,Ye=Jo({currentLocation:De,nextLocation:Fe,historyAction:Qe});if(Ye){cs(Ye,{state:"blocked",location:Fe,proceed(){cs(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),Gr(ce,de)},reset(){let Mt=new Map(j.blockers);Mt.set(Ye,Bc),cn({blockers:Mt})}});return}return await xr(Qe,Fe,{submission:Le,pendingError:st,preventScrollReset:en,replace:de&&de.replace,enableViewTransition:de&&de.unstable_viewTransition,flushSync:Vt})}function as(){if(We(),cn({revalidation:"loading"}),j.navigation.state!=="submitting"){if(j.navigation.state==="idle"){xr(j.historyAction,j.location,{startUninterruptedRevalidation:!0});return}xr(W||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation})}}async function xr(ce,de,ye){ee&&ee.abort(),ee=null,W=ce,rt=(ye&&ye.startUninterruptedRevalidation)===!0,fi(j.location,j.matches),Y=(ye&&ye.preventScrollReset)===!0,ie=(ye&&ye.enableViewTransition)===!0;let Ce=p||u,Le=ye&&ye.overrideNavigation,st=Al(Ce,de,m),De=(ye&&ye.flushSync)===!0;if(!st){let Ye=ti(404,{pathname:de.pathname}),{matches:Mt,route:tn}=Aw(Ce);us(),Wn(de,{matches:Mt,loaderData:{},errors:{[tn.id]:Ye}},{flushSync:De});return}if(j.initialized&&!gt&&SL(j.location,de)&&!(ye&&ye.submission&&wi(ye.submission.formMethod))){Wn(de,{matches:st},{flushSync:De});return}ee=new AbortController;let Fe=il(t.history,de,ee.signal,ye&&ye.submission),tt;if(ye&&ye.pendingError)tt=[yu(st).route.id,{type:Zt.error,error:ye.pendingError}];else if(ye&&ye.submission&&wi(ye.submission.formMethod)){let Ye=await Hs(Fe,de,ye.submission,st,{replace:ye.replace,flushSync:De});if(Ye.shortCircuited)return;tt=Ye.pendingActionResult,Le=Bg(de,ye.submission),De=!1,Fe=il(t.history,Fe.url,Fe.signal)}let{shortCircuited:Qe,loaderData:en,errors:Vt}=await os(Fe,de,st,Le,ye&&ye.submission,ye&&ye.fetcherSubmission,ye&&ye.replace,ye&&ye.initialHydration===!0,De,tt);Qe||(ee=null,Wn(de,nn({matches:st},Ew(tt),{loaderData:en,errors:Vt})))}async function Hs(ce,de,ye,Ce,Le){Le===void 0&&(Le={}),We();let st=kL(de,ye);cn({navigation:st},{flushSync:Le.flushSync===!0});let De,Fe=wv(Ce,de);if(!Fe.route.action&&!Fe.route.lazy)De={type:Zt.error,error:ti(405,{method:ce.method,pathname:de.pathname,routeId:Fe.route.id})};else if(De=(await Re("action",ce,[Fe],Ce))[0],ce.signal.aborted)return{shortCircuited:!0};if(ao(De)){let tt;return Le&&Le.replace!=null?tt=Le.replace:tt=bw(De.response.headers.get("Location"),new URL(ce.url),m)===j.location.pathname+j.location.search,await pe(ce,De,{submission:ye,replace:tt}),{shortCircuited:!0}}if(so(De))throw ti(400,{type:"defer-action"});if(ii(De)){let tt=yu(Ce,Fe.route.id);return(Le&&Le.replace)!==!0&&(W=pn.Push),{pendingActionResult:[tt.route.id,De]}}return{pendingActionResult:[Fe.route.id,De]}}async function os(ce,de,ye,Ce,Le,st,De,Fe,tt,Qe){let en=Ce||Bg(de,Le),Vt=Le||st||Tw(en),Ye=p||u,[Mt,tn]=vw(t.history,j,ye,Vt,de,A.v7_partialHydration&&Fe===!0,A.unstable_skipActionErrorRevalidation,gt,An,Kt,_e,Oe,$e,Ye,m,Qe);if(us(i=>!(ye&&ye.some(s=>s.route.id===i))||Mt&&Mt.some(s=>s.route.id===i)),Ae=++Ue,Mt.length===0&&tn.length===0){let i=qr();return Wn(de,nn({matches:ye,loaderData:{},errors:Qe&&ii(Qe[1])?{[Qe[0]]:Qe[1].error}:null},Ew(Qe),i?{fetchers:new Map(j.fetchers)}:{}),{flushSync:tt}),{shortCircuited:!0}}if(!rt&&(!A.v7_partialHydration||!Fe)){tn.forEach(s=>{let o=j.fetchers.get(s.key),c=Hc(void 0,o?o.data:void 0);j.fetchers.set(s.key,c)});let i;Qe&&!ii(Qe[1])?i={[Qe[0]]:Qe[1].data}:j.actionData&&(Object.keys(j.actionData).length===0?i=null:i=j.actionData),cn(nn({navigation:en},i!==void 0?{actionData:i}:{},tn.length>0?{fetchers:new Map(j.fetchers)}:{}),{flushSync:tt})}tn.forEach(i=>{Se.has(i.key)&&kn(i.key),i.controller&&Se.set(i.key,i.controller)});let Kr=()=>tn.forEach(i=>kn(i.key));ee&&ee.signal.addEventListener("abort",Kr);let{loaderResults:Nr,fetcherResults:Qr}=await Ve(j.matches,ye,Mt,tn,ce);if(ce.signal.aborted)return{shortCircuited:!0};ee&&ee.signal.removeEventListener("abort",Kr),tn.forEach(i=>Se.delete(i.key));let Lr=kw([...Nr,...Qr]);if(Lr){if(Lr.idx>=Mt.length){let i=tn[Lr.idx-Mt.length].key;$e.add(i)}return await pe(ce,Lr.result,{replace:De}),{shortCircuited:!0}}let{loaderData:Cn,errors:Xn}=Sw(j,ye,Mt,Nr,Qe,tn,Qr,Pe);Pe.forEach((i,s)=>{i.subscribe(o=>{(o||i.done)&&Pe.delete(s)})}),A.v7_partialHydration&&Fe&&j.errors&&Object.entries(j.errors).filter(i=>{let[s]=i;return!Mt.some(o=>o.route.id===s)}).forEach(i=>{let[s,o]=i;Xn=Object.assign(Xn||{},{[s]:o})});let pi=qr(),ji=Fi(Ae),V=pi||ji||tn.length>0;return nn({loaderData:Cn,errors:Xn},V?{fetchers:new Map(j.fetchers)}:{})}function Oi(ce,de,ye,Ce){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se.has(ce)&&kn(ce);let Le=(Ce&&Ce.unstable_flushSync)===!0,st=p||u,De=xv(j.location,j.matches,m,A.v7_prependBasename,ye,A.v7_relativeSplatPath,de,Ce==null?void 0:Ce.relative),Fe=Al(st,De,m);if(!Fe){Ke(ce,de,ti(404,{pathname:De}),{flushSync:Le});return}let{path:tt,submission:Qe,error:en}=mw(A.v7_normalizeFormMethod,!0,De,Ce);if(en){Ke(ce,de,en,{flushSync:Le});return}let Vt=wv(Fe,tt);if(Y=(Ce&&Ce.preventScrollReset)===!0,Qe&&wi(Qe.formMethod)){$s(ce,de,tt,Vt,Fe,Le,Qe);return}Oe.set(ce,{routeId:de,path:tt}),ls(ce,de,tt,Vt,Fe,Le,Qe)}async function $s(ce,de,ye,Ce,Le,st,De){if(We(),Oe.delete(ce),!Ce.route.action&&!Ce.route.lazy){let c=ti(405,{method:De.formMethod,pathname:ye,routeId:de});Ke(ce,de,c,{flushSync:st});return}let Fe=j.fetchers.get(ce);Ge(ce,CL(De,Fe),{flushSync:st});let tt=new AbortController,Qe=il(t.history,ye,tt.signal,De);Se.set(ce,tt);let en=Ue,Ye=(await Re("action",Qe,[Ce],Le))[0];if(Qe.signal.aborted){Se.get(ce)===tt&&Se.delete(ce);return}if(A.v7_fetcherPersist&&_e.has(ce)){if(ao(Ye)||ii(Ye)){Ge(ce,Qs(void 0));return}}else{if(ao(Ye))if(Se.delete(ce),Ae>en){Ge(ce,Qs(void 0));return}else return $e.add(ce),Ge(ce,Hc(De)),pe(Qe,Ye,{fetcherSubmission:De});if(ii(Ye)){Ke(ce,de,Ye.error);return}}if(so(Ye))throw ti(400,{type:"defer-action"});let Mt=j.navigation.location||j.location,tn=il(t.history,Mt,tt.signal),Kr=p||u,Nr=j.navigation.state!=="idle"?Al(Kr,j.navigation.location,m):j.matches;vt(Nr,"Didn't find any matches after fetcher action");let Qr=++Ue;Xe.set(ce,Qr);let Lr=Hc(De,Ye.data);j.fetchers.set(ce,Lr);let[Cn,Xn]=vw(t.history,j,Nr,De,Mt,!1,A.unstable_skipActionErrorRevalidation,gt,An,Kt,_e,Oe,$e,Kr,m,[Ce.route.id,Ye]);Xn.filter(c=>c.key!==ce).forEach(c=>{let h=c.key,d=j.fetchers.get(h),f=Hc(void 0,d?d.data:void 0);j.fetchers.set(h,f),Se.has(h)&&kn(h),c.controller&&Se.set(h,c.controller)}),cn({fetchers:new Map(j.fetchers)});let pi=()=>Xn.forEach(c=>kn(c.key));tt.signal.addEventListener("abort",pi);let{loaderResults:ji,fetcherResults:V}=await Ve(j.matches,Nr,Cn,Xn,tn);if(tt.signal.aborted)return;tt.signal.removeEventListener("abort",pi),Xe.delete(ce),Se.delete(ce),Xn.forEach(c=>Se.delete(c.key));let i=kw([...ji,...V]);if(i){if(i.idx>=Cn.length){let c=Xn[i.idx-Cn.length].key;$e.add(c)}return pe(tn,i.result)}let{loaderData:s,errors:o}=Sw(j,j.matches,Cn,ji,void 0,Xn,V,Pe);if(j.fetchers.has(ce)){let c=Qs(Ye.data);j.fetchers.set(ce,c)}Fi(Qr),j.navigation.state==="loading"&&Qr>Ae?(vt(W,"Expected pending action"),ee&&ee.abort(),Wn(j.navigation.location,{matches:Nr,loaderData:s,errors:o,fetchers:new Map(j.fetchers)})):(cn({errors:o,loaderData:_w(j.loaderData,s,Nr,o),fetchers:new Map(j.fetchers)}),gt=!1)}async function ls(ce,de,ye,Ce,Le,st,De){let Fe=j.fetchers.get(ce);Ge(ce,Hc(De,Fe?Fe.data:void 0),{flushSync:st});let tt=new AbortController,Qe=il(t.history,ye,tt.signal);Se.set(ce,tt);let en=Ue,Ye=(await Re("loader",Qe,[Ce],Le))[0];if(so(Ye)&&(Ye=await ak(Ye,Qe.signal,!0)||Ye),Se.get(ce)===tt&&Se.delete(ce),!Qe.signal.aborted){if(_e.has(ce)){Ge(ce,Qs(void 0));return}if(ao(Ye))if(Ae>en){Ge(ce,Qs(void 0));return}else{$e.add(ce),await pe(Qe,Ye);return}if(ii(Ye)){Ke(ce,de,Ye.error);return}vt(!so(Ye),"Unhandled fetcher deferred data"),Ge(ce,Qs(Ye.data))}}async function pe(ce,de,ye){let{submission:Ce,fetcherSubmission:Le,replace:st}=ye===void 0?{}:ye;de.response.headers.has("X-Remix-Revalidate")&&(gt=!0);let De=de.response.headers.get("Location");vt(De,"Expected a Location header on the redirect Response"),De=bw(De,new URL(ce.url),m);let Fe=Wu(j.location,De,{_isRedirect:!0});if(n){let Mt=!1;if(de.response.headers.has("X-Remix-Reload-Document"))Mt=!0;else if(hx.test(De)){const tn=t.history.createURL(De);Mt=tn.origin!==e.location.origin||bc(tn.pathname,m)==null}if(Mt){st?e.location.replace(De):e.location.assign(De);return}}ee=null;let tt=st===!0?pn.Replace:pn.Push,{formMethod:Qe,formAction:en,formEncType:Vt}=j.navigation;!Ce&&!Le&&Qe&&en&&Vt&&(Ce=Tw(j.navigation));let Ye=Ce||Le;if(cL.has(de.response.status)&&Ye&&wi(Ye.formMethod))await xr(tt,Fe,{submission:nn({},Ye,{formAction:De}),preventScrollReset:Y});else{let Mt=Bg(Fe,Ce);await xr(tt,Fe,{overrideNavigation:Mt,fetcherSubmission:Le,preventScrollReset:Y})}}async function Re(ce,de,ye,Ce){try{let Le=await vL(w,ce,de,ye,Ce,l,a);return await Promise.all(Le.map((st,De)=>{if(_L(st)){let Fe=st.result;return{type:Zt.redirect,response:bL(Fe,de,ye[De].route.id,Ce,m,A.v7_relativeSplatPath)}}return xL(st)}))}catch(Le){return ye.map(()=>({type:Zt.error,error:Le}))}}async function Ve(ce,de,ye,Ce,Le){let[st,...De]=await Promise.all([ye.length?Re("loader",Le,ye,de):[],...Ce.map(Fe=>{if(Fe.matches&&Fe.match&&Fe.controller){let tt=il(t.history,Fe.path,Fe.controller.signal);return Re("loader",tt,[Fe.match],Fe.matches).then(Qe=>Qe[0])}else return Promise.resolve({type:Zt.error,error:ti(404,{pathname:Fe.path})})})]);return await Promise.all([Cw(ce,ye,st,st.map(()=>Le.signal),!1,j.loaderData),Cw(ce,Ce.map(Fe=>Fe.match),De,Ce.map(Fe=>Fe.controller?Fe.controller.signal:null),!0)]),{loaderResults:st,fetcherResults:De}}function We(){gt=!0,An.push(...us()),Oe.forEach((ce,de)=>{Se.has(de)&&(Kt.push(de),kn(de))})}function Ge(ce,de,ye){ye===void 0&&(ye={}),j.fetchers.set(ce,de),cn({fetchers:new Map(j.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function Ke(ce,de,ye,Ce){Ce===void 0&&(Ce={});let Le=yu(j.matches,de);un(ce),cn({errors:{[Le.route.id]:ye},fetchers:new Map(j.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function dt(ce){return A.v7_fetcherPersist&&(ht.set(ce,(ht.get(ce)||0)+1),_e.has(ce)&&_e.delete(ce)),j.fetchers.get(ce)||uL}function un(ce){let de=j.fetchers.get(ce);Se.has(ce)&&!(de&&de.state==="loading"&&Xe.has(ce))&&kn(ce),Oe.delete(ce),Xe.delete(ce),$e.delete(ce),_e.delete(ce),j.fetchers.delete(ce)}function Mi(ce){if(A.v7_fetcherPersist){let de=(ht.get(ce)||0)-1;de<=0?(ht.delete(ce),_e.add(ce)):ht.set(ce,de)}else un(ce);cn({fetchers:new Map(j.fetchers)})}function kn(ce){let de=Se.get(ce);vt(de,"Expected fetch controller: "+ce),de.abort(),Se.delete(ce)}function Ws(ce){for(let de of ce){let ye=dt(de),Ce=Qs(ye.data);j.fetchers.set(de,Ce)}}function qr(){let ce=[],de=!1;for(let ye of $e){let Ce=j.fetchers.get(ye);vt(Ce,"Expected fetcher: "+ye),Ce.state==="loading"&&($e.delete(ye),ce.push(ye),de=!0)}return Ws(ce),de}function Fi(ce){let de=[];for(let[ye,Ce]of Xe)if(Ce<ce){let Le=j.fetchers.get(ye);vt(Le,"Expected fetcher: "+ye),Le.state==="loading"&&(kn(ye),Xe.delete(ye),de.push(ye))}return Ws(de),de.length>0}function Xs(ce,de){let ye=j.blockers.get(ce)||Bc;return Ne.get(ce)!==de&&Ne.set(ce,de),ye}function Ys(ce){j.blockers.delete(ce),Ne.delete(ce)}function cs(ce,de){let ye=j.blockers.get(ce)||Bc;vt(ye.state==="unblocked"&&de.state==="blocked"||ye.state==="blocked"&&de.state==="blocked"||ye.state==="blocked"&&de.state==="proceeding"||ye.state==="blocked"&&de.state==="unblocked"||ye.state==="proceeding"&&de.state==="unblocked","Invalid blocker state transition: "+ye.state+" -> "+de.state);let Ce=new Map(j.blockers);Ce.set(ce,de),cn({blockers:Ce})}function Jo(ce){let{currentLocation:de,nextLocation:ye,historyAction:Ce}=ce;if(Ne.size===0)return;Ne.size>1&&ac(!1,"A router only supports one blocker at a time");let Le=Array.from(Ne.entries()),[st,De]=Le[Le.length-1],Fe=j.blockers.get(st);if(!(Fe&&Fe.state==="proceeding")&&De({currentLocation:de,nextLocation:ye,historyAction:Ce}))return st}function us(ce){let de=[];return Pe.forEach((ye,Ce)=>{(!ce||ce(Ce))&&(ye.cancel(),de.push(Ce),Pe.delete(Ce))}),de}function di(ce,de,ye){if(z=ce,q=de,$=ye||null,!Z&&j.navigation===Ug){Z=!0;let Ce=hs(j.location,j.matches);Ce!=null&&cn({restoreScrollPosition:Ce})}return()=>{z=null,q=null,$=null}}function Gs(ce,de){return $&&$(ce,de.map(Ce=>zN(Ce,j.loaderData)))||ce.key}function fi(ce,de){if(z&&q){let ye=Gs(ce,de);z[ye]=q()}}function hs(ce,de){if(z){let ye=Gs(ce,de),Ce=z[ye];if(typeof Ce=="number")return Ce}return null}function Wa(ce){l={},p=yv(ce,a,void 0,l)}return oe={get basename(){return m},get future(){return A},get state(){return j},get routes(){return u},get window(){return e},initialize:kt,subscribe:Rr,enableScrollRestoration:di,navigate:Gr,fetch:Oi,revalidate:as,createHref:ce=>t.history.createHref(ce),encodeLocation:ce=>t.history.encodeLocation(ce),getFetcher:dt,deleteFetcher:Mi,dispose:jt,getBlocker:Xs,deleteBlocker:Ys,_internalFetchControllers:Se,_internalActiveDeferreds:Pe,_internalSetRoutes:Wa},oe}function fL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xv(t,e,n,r,a,l,u,p){let m,w;if(u){m=[];for(let T of e)if(m.push(T),T.route.id===u){w=T;break}}else m=e,w=e[e.length-1];let A=lx(a||".",ox(m,l),bc(t.pathname,n)||t.pathname,p==="path");return a==null&&(A.search=t.search,A.hash=t.hash),(a==null||a===""||a===".")&&w&&w.route.index&&!dx(A.search)&&(A.search=A.search?A.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(A.pathname=A.pathname==="/"?n:ks([n,A.pathname])),To(A)}function mw(t,e,n,r){if(!r||!fL(r))return{path:n};if(r.formMethod&&!AL(r.formMethod))return{path:n,error:ti(405,{method:r.formMethod})};let a=()=>({path:n,error:ti(400,{type:"invalid-body"})}),l=r.formMethod||"get",u=t?l.toUpperCase():l.toLowerCase(),p=ik(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wi(u))return a();let I=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((z,$)=>{let[q,Z]=$;return""+z+q+"="+Z+`
`},""):String(r.body);return{path:n,submission:{formMethod:u,formAction:p,formEncType:r.formEncType,formData:void 0,json:void 0,text:I}}}else if(r.formEncType==="application/json"){if(!wi(u))return a();try{let I=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:p,formEncType:r.formEncType,formData:void 0,json:I,text:void 0}}}catch{return a()}}}vt(typeof FormData=="function","FormData is not available in this environment");let m,w;if(r.formData)m=bv(r.formData),w=r.formData;else if(r.body instanceof FormData)m=bv(r.body),w=r.body;else if(r.body instanceof URLSearchParams)m=r.body,w=ww(m);else if(r.body==null)m=new URLSearchParams,w=new FormData;else try{m=new URLSearchParams(r.body),w=ww(m)}catch{return a()}let A={formMethod:u,formAction:p,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:w,json:void 0,text:void 0};if(wi(A.formMethod))return{path:n,submission:A};let T=js(n);return e&&T.search&&dx(T.search)&&m.append("index",""),T.search="?"+m,{path:To(T),submission:A}}function pL(t,e){let n=t;if(e){let r=t.findIndex(a=>a.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function vw(t,e,n,r,a,l,u,p,m,w,A,T,I,z,$,q){let Z=q?ii(q[1])?q[1].error:q[1].data:void 0,X=t.createURL(e.location),L=t.createURL(a),J=q&&ii(q[1])?q[0]:void 0,re=J?pL(n,J):n,te=q?q[1].statusCode:void 0,oe=u&&te&&te>=400,j=re.filter((Y,ee)=>{let{route:ie}=Y;if(ie.lazy)return!0;if(ie.loader==null)return!1;if(l)return typeof ie.loader!="function"||ie.loader.hydrate?!0:e.loaderData[ie.id]===void 0&&(!e.errors||e.errors[ie.id]===void 0);if(gL(e.loaderData,e.matches[ee],Y)||m.some(rt=>rt===Y.route.id))return!0;let le=e.matches[ee],ne=Y;return yw(Y,nn({currentUrl:X,currentParams:le.params,nextUrl:L,nextParams:ne.params},r,{actionResult:Z,unstable_actionStatus:te,defaultShouldRevalidate:oe?!1:p||X.pathname+X.search===L.pathname+L.search||X.search!==L.search||rk(le,ne)}))}),W=[];return T.forEach((Y,ee)=>{if(l||!n.some(gt=>gt.route.id===Y.routeId)||A.has(ee))return;let ie=Al(z,Y.path,$);if(!ie){W.push({key:ee,routeId:Y.routeId,path:Y.path,matches:null,match:null,controller:null});return}let le=e.fetchers.get(ee),ne=wv(ie,Y.path),rt=!1;I.has(ee)?rt=!1:w.includes(ee)?rt=!0:le&&le.state!=="idle"&&le.data===void 0?rt=p:rt=yw(ne,nn({currentUrl:X,currentParams:e.matches[e.matches.length-1].params,nextUrl:L,nextParams:n[n.length-1].params},r,{actionResult:Z,unstable_actionStatus:te,defaultShouldRevalidate:oe?!1:p})),rt&&W.push({key:ee,routeId:Y.routeId,path:Y.path,matches:ie,match:ne,controller:new AbortController})}),[j,W]}function gL(t,e,n){let r=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return r||a}function rk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function yw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function xw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let a=n[t.id];vt(a,"No route found in manifest");let l={};for(let u in r){let m=a[u]!==void 0&&u!=="hasErrorBoundary";ac(!m,'Route "'+a.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!m&&!jN.has(u)&&(l[u]=r[u])}Object.assign(a,l),Object.assign(a,nn({},e(a),{lazy:void 0}))}function mL(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function vL(t,e,n,r,a,l,u,p){let m=r.reduce((T,I)=>T.add(I.route.id),new Set),w=new Set,A=await t({matches:a.map(T=>{let I=m.has(T.route.id);return nn({},T,{shouldLoad:I,resolve:$=>(w.add(T.route.id),I?yL(e,n,T,l,u,$,p):Promise.resolve({type:Zt.data,result:void 0}))})}),request:n,params:a[0].params,context:p});return a.forEach(T=>vt(w.has(T.route.id),'`match.resolve()` was not called for route id "'+T.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),A.filter((T,I)=>m.has(a[I].route.id))}async function yL(t,e,n,r,a,l,u){let p,m,w=A=>{let T,I=new Promise((q,Z)=>T=Z);m=()=>T(),e.signal.addEventListener("abort",m);let z=q=>typeof A!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):A({request:e,params:n.params,context:u},...q!==void 0?[q]:[]),$;return l?$=l(q=>z(q)):$=(async()=>{try{return{type:"data",result:await z()}}catch(q){return{type:"error",result:q}}})(),Promise.race([$,I])};try{let A=n.route[t];if(n.route.lazy)if(A){let T,[I]=await Promise.all([w(A).catch(z=>{T=z}),xw(n.route,a,r)]);if(T!==void 0)throw T;p=I}else if(await xw(n.route,a,r),A=n.route[t],A)p=await w(A);else if(t==="action"){let T=new URL(e.url),I=T.pathname+T.search;throw ti(405,{method:e.method,pathname:I,routeId:n.route.id})}else return{type:Zt.data,result:void 0};else if(A)p=await w(A);else{let T=new URL(e.url),I=T.pathname+T.search;throw ti(404,{pathname:I})}vt(p.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(A){return{type:Zt.error,result:A}}finally{m&&e.signal.removeEventListener("abort",m)}return p}async function xL(t){let{result:e,type:n,status:r}=t;if(sk(e)){let u;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(p){return{type:Zt.error,error:p}}return n===Zt.error?{type:Zt.error,error:new cx(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Zt.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Zt.error)return{type:Zt.error,error:e,statusCode:ux(e)?e.status:r};if(EL(e)){var a,l;return{type:Zt.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}return{type:Zt.data,data:e,statusCode:r}}function bL(t,e,n,r,a,l){let u=t.headers.get("Location");if(vt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!hx.test(u)){let p=r.slice(0,r.findIndex(m=>m.route.id===n)+1);u=xv(new URL(e.url),p,a,!0,u,l),t.headers.set("Location",u)}return t}function bw(t,e,n){if(hx.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),l=bc(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function il(t,e,n,r){let a=t.createURL(ik(e)).toString(),l={signal:n};if(r&&wi(r.formMethod)){let{formMethod:u,formEncType:p}=r;l.method=u.toUpperCase(),p==="application/json"?(l.headers=new Headers({"Content-Type":p}),l.body=JSON.stringify(r.json)):p==="text/plain"?l.body=r.text:p==="application/x-www-form-urlencoded"&&r.formData?l.body=bv(r.formData):l.body=r.formData}return new Request(a,l)}function bv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ww(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function wL(t,e,n,r,a,l){let u={},p=null,m,w=!1,A={},T=r&&ii(r[1])?r[1].error:void 0;return n.forEach((I,z)=>{let $=e[z].route.id;if(vt(!ao(I),"Cannot handle redirect results in processLoaderData"),ii(I)){let q=I.error;if(T!==void 0&&(q=T,T=void 0),p=p||{},l)p[$]=q;else{let Z=yu(t,$);p[Z.route.id]==null&&(p[Z.route.id]=q)}u[$]=void 0,w||(w=!0,m=ux(I.error)?I.error.status:500),I.headers&&(A[$]=I.headers)}else so(I)?(a.set($,I.deferredData),u[$]=I.deferredData.data,I.statusCode!=null&&I.statusCode!==200&&!w&&(m=I.statusCode),I.headers&&(A[$]=I.headers)):(u[$]=I.data,I.statusCode&&I.statusCode!==200&&!w&&(m=I.statusCode),I.headers&&(A[$]=I.headers))}),T!==void 0&&r&&(p={[r[0]]:T},u[r[0]]=void 0),{loaderData:u,errors:p,statusCode:m||200,loaderHeaders:A}}function Sw(t,e,n,r,a,l,u,p){let{loaderData:m,errors:w}=wL(e,n,r,a,p,!1);for(let A=0;A<l.length;A++){let{key:T,match:I,controller:z}=l[A];vt(u!==void 0&&u[A]!==void 0,"Did not find corresponding fetcher result");let $=u[A];if(!(z&&z.signal.aborted))if(ii($)){let q=yu(t.matches,I==null?void 0:I.route.id);w&&w[q.route.id]||(w=nn({},w,{[q.route.id]:$.error})),t.fetchers.delete(T)}else if(ao($))vt(!1,"Unhandled fetcher revalidation redirect");else if(so($))vt(!1,"Unhandled fetcher deferred data");else{let q=Qs($.data);t.fetchers.set(T,q)}}return{loaderData:m,errors:w}}function _w(t,e,n,r){let a=nn({},e);for(let l of n){let u=l.route.id;if(e.hasOwnProperty(u)?e[u]!==void 0&&(a[u]=e[u]):t[u]!==void 0&&l.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function Ew(t){return t?ii(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function yu(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Aw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ti(t,e){let{pathname:n,routeId:r,method:a,type:l}=e===void 0?{}:e,u="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(u="Bad Request",a&&n&&r?p="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":l==="defer-action"?p="defer() is not supported in actions":l==="invalid-body"&&(p="Unable to encode submission body")):t===403?(u="Forbidden",p='Route "'+r+'" does not match URL "'+n+'"'):t===404?(u="Not Found",p='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",a&&n&&r?p="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(p='Invalid request method "'+a.toUpperCase()+'"')),new cx(t||500,u,new Error(p),!0)}function kw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ao(n))return{result:n,idx:e}}}function ik(t){let e=typeof t=="string"?js(t):t;return To(nn({},e,{hash:""}))}function SL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _L(t){return sk(t.result)&&lL.has(t.result.status)}function so(t){return t.type===Zt.deferred}function ii(t){return t.type===Zt.error}function ao(t){return(t&&t.type)===Zt.redirect}function EL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function sk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function AL(t){return oL.has(t.toLowerCase())}function wi(t){return sL.has(t.toLowerCase())}async function Cw(t,e,n,r,a,l){for(let u=0;u<n.length;u++){let p=n[u],m=e[u];if(!m)continue;let w=t.find(T=>T.route.id===m.route.id),A=w!=null&&!rk(w,m)&&(l&&l[m.route.id])!==void 0;if(so(p)&&(a||A)){let T=r[u];vt(T,"Expected an AbortSignal for revalidating fetcher deferred result"),await ak(p,T,a).then(I=>{I&&(n[u]=I||n[u])})}}}async function ak(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Zt.data,data:t.deferredData.unwrappedData}}catch(a){return{type:Zt.error,error:a}}return{type:Zt.data,data:t.deferredData.data}}}function dx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wv(t,e){let n=typeof e=="string"?js(e).search:e.search;if(t[t.length-1].route.index&&dx(n||""))return t[t.length-1];let r=ek(t);return r[r.length-1]}function Tw(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:l,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:r,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Bg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Qs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function TL(t,e){try{let n=t.sessionStorage.getItem(nk);if(n){let r=JSON.parse(n);for(let[a,l]of Object.entries(r||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function IL(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(nk,JSON.stringify(n))}catch(r){ac(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}const up=K.createContext(null),ok=K.createContext(null),Uo=K.createContext(null),hp=K.createContext(null),Vs=K.createContext({outlet:null,matches:[],isDataRoute:!1}),lk=K.createContext(null);function PL(t,e){let{relative:n}=e===void 0?{}:e;mh()||vt(!1);let{basename:r,navigator:a}=K.useContext(Uo),{hash:l,pathname:u,search:p}=hk(t,{relative:n}),m=u;return r!=="/"&&(m=u==="/"?r:ks([r,u])),a.createHref({pathname:m,search:p,hash:l})}function mh(){return K.useContext(hp)!=null}function vh(){return mh()||vt(!1),K.useContext(hp).location}function ck(t){K.useContext(Uo).static||K.useLayoutEffect(t)}function Di(){let{isDataRoute:t}=K.useContext(Vs);return t?$L():RL()}function RL(){mh()||vt(!1);let t=K.useContext(up),{basename:e,future:n,navigator:r}=K.useContext(Uo),{matches:a}=K.useContext(Vs),{pathname:l}=vh(),u=JSON.stringify(ox(a,n.v7_relativeSplatPath)),p=K.useRef(!1);return ck(()=>{p.current=!0}),K.useCallback(function(w,A){if(A===void 0&&(A={}),!p.current)return;if(typeof w=="number"){r.go(w);return}let T=lx(w,JSON.parse(u),l,A.relative==="path");t==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ks([e,T.pathname])),(A.replace?r.replace:r.push)(T,A.state,A)},[e,r,u,l,t])}const NL=K.createContext(null);function LL(t){let e=K.useContext(Vs).outlet;return e&&K.createElement(NL.Provider,{value:t},e)}function uk(){let{matches:t}=K.useContext(Vs),e=t[t.length-1];return e?e.params:{}}function hk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=K.useContext(Uo),{matches:a}=K.useContext(Vs),{pathname:l}=vh(),u=JSON.stringify(ox(a,r.v7_relativeSplatPath));return K.useMemo(()=>lx(t,JSON.parse(u),l,n==="path"),[t,u,l,n])}function DL(t,e,n,r){mh()||vt(!1);let{navigator:a}=K.useContext(Uo),{matches:l}=K.useContext(Vs),u=l[l.length-1],p=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let w=vh(),A;if(e){var T;let Z=typeof e=="string"?js(e):e;m==="/"||(T=Z.pathname)!=null&&T.startsWith(m)||vt(!1),A=Z}else A=w;let I=A.pathname||"/",z=I;if(m!=="/"){let Z=m.replace(/^\//,"").split("/");z="/"+I.replace(/^\//,"").split("/").slice(Z.length).join("/")}let $=Al(t,{pathname:z}),q=VL($&&$.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:ks([m,a.encodeLocation?a.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?m:ks([m,a.encodeLocation?a.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),l,n,r);return e&&q?K.createElement(hp.Provider,{value:{location:Xu({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:pn.Pop}},q):q}function OL(){let t=HL(),e=ux(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:a},n):null,null)}const ML=K.createElement(OL,null);class FL extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(Vs.Provider,{value:this.props.routeContext},K.createElement(lk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jL(t){let{routeContext:e,match:n,children:r}=t,a=K.useContext(up);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(Vs.Provider,{value:e},r)}function VL(t,e,n,r){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var l;if((l=n)!=null&&l.errors)t=n.matches;else return null}let u=t,p=(a=n)==null?void 0:a.errors;if(p!=null){let A=u.findIndex(T=>T.route.id&&(p==null?void 0:p[T.route.id])!==void 0);A>=0||vt(!1),u=u.slice(0,Math.min(u.length,A+1))}let m=!1,w=-1;if(n&&r&&r.v7_partialHydration)for(let A=0;A<u.length;A++){let T=u[A];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(w=A),T.route.id){let{loaderData:I,errors:z}=n,$=T.route.loader&&I[T.route.id]===void 0&&(!z||z[T.route.id]===void 0);if(T.route.lazy||$){m=!0,w>=0?u=u.slice(0,w+1):u=[u[0]];break}}}return u.reduceRight((A,T,I)=>{let z,$=!1,q=null,Z=null;n&&(z=p&&T.route.id?p[T.route.id]:void 0,q=T.route.errorElement||ML,m&&(w<0&&I===0?(WL("route-fallback",!1),$=!0,Z=null):w===I&&($=!0,Z=T.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,I+1)),L=()=>{let J;return z?J=q:$?J=Z:T.route.Component?J=K.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=A,K.createElement(jL,{match:T,routeContext:{outlet:A,matches:X,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||I===0)?K.createElement(FL,{location:n.location,revalidation:n.revalidation,component:q,error:z,children:L(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):L()},null)}var dk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dk||{}),xf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xf||{});function zL(t){let e=K.useContext(up);return e||vt(!1),e}function UL(t){let e=K.useContext(ok);return e||vt(!1),e}function BL(t){let e=K.useContext(Vs);return e||vt(!1),e}function fk(t){let e=BL(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function HL(){var t;let e=K.useContext(lk),n=UL(xf.UseRouteError),r=fk(xf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $L(){let{router:t}=zL(dk.UseNavigateStable),e=fk(xf.UseNavigateStable),n=K.useRef(!1);return ck(()=>{n.current=!0}),K.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Xu({fromRouteId:e},l)))},[t,e])}const Iw={};function WL(t,e,n){!e&&!Iw[t]&&(Iw[t]=!0)}function fx(t){return LL(t.context)}function XL(t){let{basename:e="/",children:n=null,location:r,navigationType:a=pn.Pop,navigator:l,static:u=!1,future:p}=t;mh()&&vt(!1);let m=e.replace(/^\/*/,"/"),w=K.useMemo(()=>({basename:m,navigator:l,static:u,future:Xu({v7_relativeSplatPath:!1},p)}),[m,p,l,u]);typeof r=="string"&&(r=js(r));let{pathname:A="/",search:T="",hash:I="",state:z=null,key:$="default"}=r,q=K.useMemo(()=>{let Z=bc(A,m);return Z==null?null:{location:{pathname:Z,search:T,hash:I,state:z,key:$},navigationType:a}},[m,A,T,I,z,$,a]);return q==null?null:K.createElement(Uo.Provider,{value:w},K.createElement(hp.Provider,{children:n,value:q}))}new Promise(()=>{});function YL(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:K.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:K.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:K.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(this,arguments)}function GL(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,l;for(l=0;l<r.length;l++)a=r[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function qL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KL(t,e){return t.button===0&&(!e||e==="_self")&&!qL(t)}const QL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZL="6";try{window.__reactRouterVersion=ZL}catch{}function JL(t,e){return dL({basename:e==null?void 0:e.basename,future:Yu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:ON({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||eD(),routes:t,mapRouteProperties:YL,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,window:e==null?void 0:e.window}).initialize()}function eD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Yu({},e,{errors:tD(e.errors)})),e}function tD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new cx(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let u=new l(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let l=new Error(a.message);l.stack="",n[r]=l}}else n[r]=a;return n}const nD=K.createContext({isTransitioning:!1}),rD=K.createContext(new Map),iD="startTransition",Pw=_R[iD],sD="flushSync",Rw=DN[sD];function aD(t){Pw?Pw(t):t()}function $c(t){Rw?Rw(t):t()}let oD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function lD(t){let{fallbackElement:e,router:n,future:r}=t,[a,l]=K.useState(n.state),[u,p]=K.useState(),[m,w]=K.useState({isTransitioning:!1}),[A,T]=K.useState(),[I,z]=K.useState(),[$,q]=K.useState(),Z=K.useRef(new Map),{v7_startTransition:X}=r||{},L=K.useCallback(j=>{X?aD(j):j()},[X]),J=K.useCallback((j,W)=>{let{deletedFetchers:Y,unstable_flushSync:ee,unstable_viewTransitionOpts:ie}=W;Y.forEach(ne=>Z.current.delete(ne)),j.fetchers.forEach((ne,rt)=>{ne.data!==void 0&&Z.current.set(rt,ne.data)});let le=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!ie||le){ee?$c(()=>l(j)):L(()=>l(j));return}if(ee){$c(()=>{I&&(A&&A.resolve(),I.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let ne=n.window.document.startViewTransition(()=>{$c(()=>l(j))});ne.finished.finally(()=>{$c(()=>{T(void 0),z(void 0),p(void 0),w({isTransitioning:!1})})}),$c(()=>z(ne));return}I?(A&&A.resolve(),I.skipTransition(),q({state:j,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(p(j),w({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[n.window,I,A,Z,L]);K.useLayoutEffect(()=>n.subscribe(J),[n,J]),K.useEffect(()=>{m.isTransitioning&&!m.flushSync&&T(new oD)},[m]),K.useEffect(()=>{if(A&&u&&n.window){let j=u,W=A.promise,Y=n.window.document.startViewTransition(async()=>{L(()=>l(j)),await W});Y.finished.finally(()=>{T(void 0),z(void 0),p(void 0),w({isTransitioning:!1})}),z(Y)}},[L,u,A,n.window]),K.useEffect(()=>{A&&u&&a.location.key===u.location.key&&A.resolve()},[A,I,a.location,u]),K.useEffect(()=>{!m.isTransitioning&&$&&(p($.state),w({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}),q(void 0))},[m.isTransitioning,$]),K.useEffect(()=>{},[]);let re=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:j=>n.navigate(j),push:(j,W,Y)=>n.navigate(j,{state:W,preventScrollReset:Y==null?void 0:Y.preventScrollReset}),replace:(j,W,Y)=>n.navigate(j,{replace:!0,state:W,preventScrollReset:Y==null?void 0:Y.preventScrollReset})}),[n]),te=n.basename||"/",oe=K.useMemo(()=>({router:n,navigator:re,static:!1,basename:te}),[n,re,te]);return K.createElement(K.Fragment,null,K.createElement(up.Provider,{value:oe},K.createElement(ok.Provider,{value:a},K.createElement(rD.Provider,{value:Z.current},K.createElement(nD.Provider,{value:m},K.createElement(XL,{basename:te,location:a.location,navigationType:a.historyAction,navigator:re,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},a.initialized||n.future.v7_partialHydration?K.createElement(cD,{routes:n.routes,future:n.future,state:a}):e))))),null)}function cD(t){let{routes:e,future:n,state:r}=t;return DL(e,void 0,r,n)}const uD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ir=K.forwardRef(function(e,n){let{onClick:r,relative:a,reloadDocument:l,replace:u,state:p,target:m,to:w,preventScrollReset:A,unstable_viewTransition:T}=e,I=GL(e,QL),{basename:z}=K.useContext(Uo),$,q=!1;if(typeof w=="string"&&hD.test(w)&&($=w,uD))try{let J=new URL(window.location.href),re=w.startsWith("//")?new URL(J.protocol+w):new URL(w),te=bc(re.pathname,z);re.origin===J.origin&&te!=null?w=te+re.search+re.hash:q=!0}catch{}let Z=PL(w,{relative:a}),X=dD(w,{replace:u,state:p,target:m,preventScrollReset:A,relative:a,unstable_viewTransition:T});function L(J){r&&r(J),J.defaultPrevented||X(J)}return K.createElement("a",Yu({},I,{href:$||Z,onClick:q||l?r:L,ref:n,target:m}))});var Nw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Nw||(Nw={}));var Lw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lw||(Lw={}));function dD(t,e){let{target:n,replace:r,state:a,preventScrollReset:l,relative:u,unstable_viewTransition:p}=e===void 0?{}:e,m=Di(),w=vh(),A=hk(t,{relative:u});return K.useCallback(T=>{if(KL(T,n)){T.preventDefault();let I=r!==void 0?r:To(w)===To(A);m(t,{replace:I,state:a,preventScrollReset:l,relative:u,unstable_viewTransition:p})}},[w,m,A,r,a,n,t,l,u,p])}var pk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dw=at.createContext&&at.createContext(pk),fD=["attr","size","title"];function pD(t,e){if(t==null)return{};var n=gD(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gD(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bf.apply(this,arguments)}function Ow(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ow(Object(n),!0).forEach(function(r){mD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ow(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mD(t,e,n){return e=vD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vD(t){var e=yD(t,"string");return typeof e=="symbol"?e:e+""}function yD(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gk(t){return t&&t.map((e,n)=>at.createElement(e.tag,wf({key:n},e.attr),gk(e.child)))}function ja(t){return e=>at.createElement(xD,bf({attr:wf({},t.attr)},e),gk(t.child))}function xD(t){var e=n=>{var{attr:r,size:a,title:l}=t,u=pD(t,fD),p=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),at.createElement("svg",bf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:m,style:wf(wf({color:t.color||n.color},n.style),t.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&at.createElement("title",null,l),t.children)};return Dw!==void 0?at.createElement(Dw.Consumer,null,n=>e(n)):e(pk)}function bD(t){return ja({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(t)}function wD(t){return ja({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function mk(t){return ja({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function vk(t){return ja({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function SD(t){return ja({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Qa(t){return ja({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function _D(t){return ja({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ED(t){return ja({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function yk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=yk(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Bo(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=yk(t))&&(r&&(r+=" "),r+=e);return r}let AD={data:""},kD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||AD,CD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,TD=/\/\*[^]*?\*\/|  +/g,Mw=/\n+/g,to=(t,e)=>{let n="",r="",a="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":r+=l[1]=="f"?to(u,l):l+"{"+to(u,l[1]=="k"?"":e)+"}":typeof u=="object"?r+=to(u,e?e.replace(/([^,])+/g,p=>l.replace(/(^:.*)|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,p):p?p+" "+m:m)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=to.p?to.p(l,u):l+":"+u+";")}return n+(e&&a?e+"{"+a+"}":a)+r},ps={},xk=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+xk(t[n]);return e}return t},ID=(t,e,n,r,a)=>{let l=xk(t),u=ps[l]||(ps[l]=(m=>{let w=0,A=11;for(;w<m.length;)A=101*A+m.charCodeAt(w++)>>>0;return"go"+A})(l));if(!ps[u]){let m=l!==t?t:(w=>{let A,T,I=[{}];for(;A=CD.exec(w.replace(TD,""));)A[4]?I.shift():A[3]?(T=A[3].replace(Mw," ").trim(),I.unshift(I[0][T]=I[0][T]||{})):I[0][A[1]]=A[2].replace(Mw," ").trim();return I[0]})(t);ps[u]=to(a?{["@keyframes "+u]:m}:m,n?"":"."+u)}let p=n&&ps.g?ps.g:null;return n&&(ps.g=ps[u]),((m,w,A,T)=>{T?w.data=w.data.replace(T,m):w.data.indexOf(m)===-1&&(w.data=A?m+w.data:w.data+m)})(ps[u],e,r,p),u},PD=(t,e,n)=>t.reduce((r,a,l)=>{let u=e[l];if(u&&u.call){let p=u(n),m=p&&p.props&&p.props.className||/^go/.test(p)&&p;u=m?"."+m:p&&typeof p=="object"?p.props?"":to(p,""):p===!1?"":p}return r+a+(u??"")},"");function px(t){let e=this||{},n=t.call?t(e.p):t;return ID(n.unshift?n.raw?PD(n,[].slice.call(arguments,1),e.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):n,kD(e.target),e.g,e.o,e.k)}px.bind({g:1});px.bind({k:1});function Fw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bk(t,e,n){return e&&Fw(t.prototype,e),n&&Fw(t,n),t}function Ft(){return Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ft.apply(this,arguments)}function wk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function yh(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,l;for(l=0;l<r.length;l++)a=r[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function jw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Vw=function(){return""},Sk=at.createContext({enqueueSnackbar:Vw,closeSnackbar:Vw}),Za={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},zw=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},gx=function(e){return""+zw(e.vertical)+zw(e.horizontal)},ld=function(e){return!!e||e===0},cd="unmounted",sl="exited",al="entering",Wc="entered",Uw="exiting",mx=function(t){wk(e,t);function e(r){var a;a=t.call(this,r)||this;var l=r.appear,u;return a.appearStatus=null,r.in?l?(u=sl,a.appearStatus=al):u=Wc:r.unmountOnExit||r.mountOnEnter?u=cd:u=sl,a.state={status:u},a.nextCallback=null,a}e.getDerivedStateFromProps=function(a,l){var u=a.in;return u&&l.status===cd?{status:sl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var l=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==al&&u!==Wc&&(l=al):(u===al||u===Wc)&&(l=Uw)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,l=a,u=a;return a!=null&&typeof a!="number"&&typeof a!="string"&&(u=a.exit,l=a.enter),{exit:u,enter:l}},n.updateStatus=function(a,l){a===void 0&&(a=!1),l!==null?(this.cancelNextCallback(),l===al?this.performEnter(a):this.performExit()):this.props.unmountOnExit&&this.state.status===sl&&this.setState({status:cd})},n.performEnter=function(a){var l=this,u=this.props.enter,p=a,m=this.getTimeouts();if(!a&&!u){this.safeSetState({status:Wc},function(){l.props.onEntered&&l.props.onEntered(l.node,p)});return}this.props.onEnter&&this.props.onEnter(this.node,p),this.safeSetState({status:al},function(){l.props.onEntering&&l.props.onEntering(l.node,p),l.onTransitionEnd(m.enter,function(){l.safeSetState({status:Wc},function(){l.props.onEntered&&l.props.onEntered(l.node,p)})})})},n.performExit=function(){var a=this,l=this.props.exit,u=this.getTimeouts();if(!l){this.safeSetState({status:sl},function(){a.props.onExited&&a.props.onExited(a.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:Uw},function(){a.props.onExiting&&a.props.onExiting(a.node),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:sl},function(){a.props.onExited&&a.props.onExited(a.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},n.setNextCallback=function(a){var l=this,u=!0;return this.nextCallback=function(){u&&(u=!1,l.nextCallback=null,a())},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(a,l){this.setNextCallback(l);var u=a==null&&!this.props.addEndListener;if(!this.node||u){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===cd)return null;var l=this.props,u=l.children,p=yh(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return u(a,p)},bk(e,[{key:"node",get:function(){var a,l=(a=this.props.nodeRef)===null||a===void 0?void 0:a.current;if(!l)throw new Error("notistack - Custom snackbar is not refForwarding");return l}}]),e}(at.Component);function ol(){}mx.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ol,onEntering:ol,onEntered:ol,onExit:ol,onExiting:ol,onExited:ol};function Bw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Sv(t,e){return K.useMemo(function(){return t==null&&e==null?null:function(n){Bw(t,n),Bw(e,n)}},[t,e])}function Sf(t){var e=t.timeout,n=t.style,r=n===void 0?{}:n,a=t.mode;return{duration:typeof e=="object"?e[a]||0:e,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var _v={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_k=function(e){e.scrollTop=e.scrollTop},Hw=function(e){return Math.round(e)+"ms"};function kl(t,e){t===void 0&&(t=["all"]);var n=e||{},r=n.duration,a=r===void 0?300:r,l=n.easing,u=l===void 0?_v.easeInOut:l,p=n.delay,m=p===void 0?0:p,w=Array.isArray(t)?t:[t];return w.map(function(A){var T=typeof a=="string"?a:Hw(a),I=typeof m=="string"?m:Hw(m);return A+" "+T+" "+u+" "+I}).join(",")}function RD(t){return t&&t.ownerDocument||document}function Ek(t){var e=RD(t);return e.defaultView||window}function ND(t,e){e===void 0&&(e=166);var n;function r(){for(var a=this,l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];var m=function(){t.apply(a,u)};clearTimeout(n),n=setTimeout(m,e)}return r.clear=function(){clearTimeout(n)},r}function LD(t,e){var n=e.getBoundingClientRect(),r=Ek(e),a;if(e.fakeTransform)a=e.fakeTransform;else{var l=r.getComputedStyle(e);a=l.getPropertyValue("-webkit-transform")||l.getPropertyValue("transform")}var u=0,p=0;if(a&&a!=="none"&&typeof a=="string"){var m=a.split("(")[1].split(")")[0].split(",");u=parseInt(m[4],10),p=parseInt(m[5],10)}switch(t){case"left":return"translateX("+(r.innerWidth+u-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-u)+"px)";case"up":return"translateY("+(r.innerHeight+p-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-p)+"px)"}}function ud(t,e){if(e){var n=LD(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var Ak=K.forwardRef(function(t,e){var n=t.children,r=t.direction,a=r===void 0?"down":r,l=t.in,u=t.style,p=t.timeout,m=p===void 0?0:p,w=t.onEnter,A=t.onEntered,T=t.onExit,I=t.onExited,z=yh(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),$=K.useRef(null),q=Sv(n.ref,$),Z=Sv(q,e),X=function(j,W){ud(a,j),_k(j),w&&w(j,W)},L=function(j){var W=(u==null?void 0:u.transitionTimingFunction)||_v.easeOut,Y=Sf({timeout:m,mode:"enter",style:Ft({},u,{transitionTimingFunction:W})});j.style.webkitTransition=kl("-webkit-transform",Y),j.style.transition=kl("transform",Y),j.style.webkitTransform="none",j.style.transform="none"},J=function(j){var W=(u==null?void 0:u.transitionTimingFunction)||_v.sharp,Y=Sf({timeout:m,mode:"exit",style:Ft({},u,{transitionTimingFunction:W})});j.style.webkitTransition=kl("-webkit-transform",Y),j.style.transition=kl("transform",Y),ud(a,j),T&&T(j)},re=function(j){j.style.webkitTransition="",j.style.transition="",I&&I(j)},te=K.useCallback(function(){$.current&&ud(a,$.current)},[a]);return K.useEffect(function(){if(!(l||a==="down"||a==="right")){var oe=ND(function(){$.current&&ud(a,$.current)}),j=Ek($.current);return j.addEventListener("resize",oe),function(){oe.clear(),j.removeEventListener("resize",oe)}}},[a,l]),K.useEffect(function(){l||te()},[l,te]),K.createElement(mx,Object.assign({appear:!0,nodeRef:$,onEnter:X,onEntered:A,onEntering:L,onExit:J,onExited:re,in:l,timeout:m},z),function(oe,j){return K.cloneElement(n,Ft({ref:Z,style:Ft({visibility:oe==="exited"&&!l?"hidden":void 0},u,{},n.props.style)},j))})});Ak.displayName="Slide";var dp=function(e){return at.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},e))},DD=function(){return at.createElement(dp,null,at.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},OD=function(){return at.createElement(dp,null,at.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},MD=function(){return at.createElement(dp,null,at.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},FD=function(){return at.createElement(dp,null,at.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},jD={default:void 0,success:at.createElement(DD,null),warning:at.createElement(OD,null),error:at.createElement(MD,null),info:at.createElement(FD,null)},vo={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:jD,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Ak,transitionDuration:{enter:225,exit:195}},VD=function(e,n){var r=function(l){return typeof l=="number"||l===null};return r(e)?e:r(n)?n:vo.autoHideDuration},zD=function(e,n){var r=function(l,u){return u.some(function(p){return typeof l===p})};return r(e,["string","number"])?e:r(e,["object"])?Ft({},vo.transitionDuration,{},r(n,["object"])&&n,{},e):r(n,["string","number"])?n:r(n,["object"])?Ft({},vo.transitionDuration,{},n):vo.transitionDuration},UD=function(e,n){return function(r,a){return a===void 0&&(a=!1),a?Ft({},vo[r],{},n[r],{},e[r]):r==="autoHideDuration"?VD(e.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?zD(e.transitionDuration,n.transitionDuration):e[r]||n[r]||vo[r]}};function xh(t){return Object.entries(t).reduce(function(e,n){var r,a=n[0],l=n[1];return Ft({},e,(r={},r[a]=px(l),r))},{})}var oc={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},$w=xh({root:{height:0},entered:{height:"auto"}}),Hg="0px",$g=175,kk=K.forwardRef(function(t,e){var n=t.children,r=t.in,a=t.onExited,l=K.useRef(null),u=K.useRef(null),p=Sv(e,u),m=function(){return l.current?l.current.clientHeight:0},w=function(q){q.style.height=Hg},A=function(q){var Z=m(),X=Sf({timeout:$g,mode:"enter"}),L=X.duration,J=X.easing;q.style.transitionDuration=typeof L=="string"?L:L+"ms",q.style.height=Z+"px",q.style.transitionTimingFunction=J||""},T=function(q){q.style.height="auto"},I=function(q){q.style.height=m()+"px"},z=function(q){_k(q);var Z=Sf({timeout:$g,mode:"exit"}),X=Z.duration,L=Z.easing;q.style.transitionDuration=typeof X=="string"?X:X+"ms",q.style.height=Hg,q.style.transitionTimingFunction=L||""};return K.createElement(mx,{in:r,unmountOnExit:!0,onEnter:w,onEntered:T,onEntering:A,onExit:I,onExited:a,onExiting:z,nodeRef:u,timeout:$g},function($,q){return K.createElement("div",Object.assign({ref:p,className:Bo($w.root,$==="entered"&&$w.entered),style:Ft({pointerEvents:"all",overflow:"hidden",minHeight:Hg,transition:kl("height")},$==="entered"&&{overflow:"visible"},{},$==="exited"&&!r&&{visibility:"hidden"})},q),K.createElement("div",{ref:l,className:oc.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});kk.displayName="Collapse";var Ww={right:"left",left:"right",bottom:"up",top:"down"},BD=function(e){return e.horizontal!=="center"?Ww[e.horizontal]:Ww[e.vertical]},HD=function(e){return"anchorOrigin"+gx(e)},$D=function(e){e===void 0&&(e={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(e).filter(function(r){return!n[r]}).reduce(function(r,a){var l;return Ft({},r,(l={},l[a]=e[a],l))},{})},WD=function(){};function xu(t,e){return t.reduce(function(n,r){return r==null?n:function(){for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];var m=[].concat(u);e&&m.indexOf(e)===-1&&m.push(e),n.apply(this,m),r.apply(this,m)}},WD)}var XD=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Xw(t){var e=K.useRef(t);return XD(function(){e.current=t}),K.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var Ck=K.forwardRef(function(t,e){var n=t.children,r=t.className,a=t.autoHideDuration,l=t.disableWindowBlurListener,u=l===void 0?!1:l,p=t.onClose,m=t.id,w=t.open,A=t.SnackbarProps,T=A===void 0?{}:A,I=K.useRef(),z=Xw(function(){p&&p.apply(void 0,arguments)}),$=Xw(function(J){!p||J==null||(I.current&&clearTimeout(I.current),I.current=setTimeout(function(){z(null,"timeout",m)},J))});K.useEffect(function(){return w&&$(a),function(){I.current&&clearTimeout(I.current)}},[w,a,$]);var q=function(){I.current&&clearTimeout(I.current)},Z=K.useCallback(function(){a!=null&&$(a*.5)},[a,$]),X=function(re){T.onMouseEnter&&T.onMouseEnter(re),q()},L=function(re){T.onMouseLeave&&T.onMouseLeave(re),Z()};return K.useEffect(function(){if(!u&&w)return window.addEventListener("focus",Z),window.addEventListener("blur",q),function(){window.removeEventListener("focus",Z),window.removeEventListener("blur",q)}},[u,Z,w]),K.createElement("div",Object.assign({ref:e},T,{className:Bo(oc.Snackbar,r),onMouseEnter:X,onMouseLeave:L}),n)});Ck.displayName="Snackbar";var Wg,YD=xh({root:(Wg={display:"flex",flexWrap:"wrap",flexGrow:1},Wg[Za.upSm]={flexGrow:"initial",minWidth:"288px"},Wg)}),Tk=K.forwardRef(function(t,e){var n=t.className,r=yh(t,["className"]);return at.createElement("div",Object.assign({ref:e,className:Bo(YD.root,n)},r))});Tk.displayName="SnackbarContent";var Xc=xh({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),Yw="notistack-snackbar",Ik=K.forwardRef(function(t,e){var n=t.id,r=t.message,a=t.action,l=t.iconVariant,u=t.variant,p=t.hideIconVariant,m=t.style,w=t.className,A=l[u],T=a;return typeof T=="function"&&(T=T(n)),at.createElement(Tk,{ref:e,role:"alert","aria-describedby":Yw,style:m,className:Bo(oc.MuiContent,oc.MuiContentVariant(u),Xc.root,Xc[u],w,!p&&A&&Xc.lessPadding)},at.createElement("div",{id:Yw,className:Xc.message},p?null:A,r),T&&at.createElement("div",{className:Xc.action},T))});Ik.displayName="MaterialDesignContent";var GD=K.memo(Ik),qD=xh({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),KD=function(e){var n=K.useRef(),r=K.useState(!0),a=r[0],l=r[1],u=xu([e.snack.onClose,e.onClose]),p=function(){e.snack.requestClose&&u(null,"instructed",e.snack.id)},m=K.useCallback(function(){n.current=setTimeout(function(){l(function(Y){return!Y})},125)},[]);K.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var w=e.snack,A=e.classes,T=e.Component,I=T===void 0?GD:T,z=K.useMemo(function(){return $D(A)},[A]),$=w.open,q=w.SnackbarProps,Z=w.TransitionComponent,X=w.TransitionProps,L=w.transitionDuration,J=w.disableWindowBlurListener,re=w.content,te=yh(w,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),oe=Ft({direction:BD(te.anchorOrigin),timeout:L},X),j=re;typeof j=="function"&&(j=j(te.id,te.message));var W=["onEnter","onEntered","onExit","onExited"].reduce(function(Y,ee){var ie;return Ft({},Y,(ie={},ie[ee]=xu([e.snack[ee],e[ee]],te.id),ie))},{});return at.createElement(kk,{in:a,onExited:W.onExited},at.createElement(Ck,{open:$,id:te.id,disableWindowBlurListener:J,autoHideDuration:te.autoHideDuration,className:Bo(qD.wrappedRoot,z.root,z[HD(te.anchorOrigin)]),SnackbarProps:q,onClose:u},at.createElement(Z,Object.assign({},oe,{appear:!0,in:$,onExit:W.onExit,onExited:m,onEnter:W.onEnter,onEntered:xu([W.onEntered,p],te.id)}),j||at.createElement(I,Object.assign({},te)))))},Yc,Xg,hd,dd,Yg,gs={view:{default:20,dense:4},snackbar:{default:6,dense:2}},Gw="."+oc.CollapseWrapper,Gg=16,fd=xh({root:(Yc={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:kl(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Yc[Gw]={padding:gs.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Yc.maxWidth="calc(100% - "+gs.view.default*2+"px)",Yc[Za.downXs]={width:"100%",maxWidth:"calc(100% - "+Gg*2+"px)"},Yc),rootDense:(Xg={},Xg[Gw]={padding:gs.snackbar.dense+"px 0px"},Xg),top:{top:gs.view.default-gs.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:gs.view.default-gs.snackbar.default+"px",flexDirection:"column-reverse"},left:(hd={left:gs.view.default+"px"},hd[Za.upSm]={alignItems:"flex-start"},hd[Za.downXs]={left:Gg+"px"},hd),right:(dd={right:gs.view.default+"px"},dd[Za.upSm]={alignItems:"flex-end"},dd[Za.downXs]={right:Gg+"px"},dd),center:(Yg={left:"50%",transform:"translateX(-50%)"},Yg[Za.upSm]={alignItems:"center"},Yg)}),QD=function(e){var n=e.classes,r=n===void 0?{}:n,a=e.anchorOrigin,l=e.dense,u=e.children,p=Bo(oc.SnackbarContainer,fd[a.vertical],fd[a.horizontal],fd.root,r.containerRoot,r["containerAnchorOrigin"+gx(a)],l&&fd.rootDense);return at.createElement("div",{className:p},u)},ZD=K.memo(QD),qw=function(e){var n=typeof e=="string"||K.isValidElement(e);return!n},JD=function(t){wk(e,t);function e(r){var a;return a=t.call(this,r)||this,a.enqueueSnackbar=function(l,u){if(u===void 0&&(u={}),l==null)throw new Error("enqueueSnackbar called with invalid argument");var p=qw(l)?l:u,m=qw(l)?l.message:l,w=p.key,A=p.preventDuplicate,T=yh(p,["key","preventDuplicate"]),I=ld(w),z=I?w:new Date().getTime()+Math.random(),$=UD(T,a.props),q=Ft({id:z},T,{message:m,open:!0,entered:!1,requestClose:!1,persist:$("persist"),action:$("action"),content:$("content"),variant:$("variant"),anchorOrigin:$("anchorOrigin"),disableWindowBlurListener:$("disableWindowBlurListener"),autoHideDuration:$("autoHideDuration"),hideIconVariant:$("hideIconVariant"),TransitionComponent:$("TransitionComponent"),transitionDuration:$("transitionDuration"),TransitionProps:$("TransitionProps",!0),iconVariant:$("iconVariant",!0),style:$("style",!0),SnackbarProps:$("SnackbarProps",!0),className:Bo(a.props.className,T.className)});return q.persist&&(q.autoHideDuration=void 0),a.setState(function(Z){if(A===void 0&&a.props.preventDuplicate||A){var X=function(te){return I?te.id===z:te.message===m},L=Z.queue.findIndex(X)>-1,J=Z.snacks.findIndex(X)>-1;if(L||J)return Z}return a.handleDisplaySnack(Ft({},Z,{queue:[].concat(Z.queue,[q])}))}),z},a.handleDisplaySnack=function(l){var u=l.snacks;return u.length>=a.maxSnack?a.handleDismissOldest(l):a.processQueue(l)},a.processQueue=function(l){var u=l.queue,p=l.snacks;return u.length>0?Ft({},l,{snacks:[].concat(p,[u[0]]),queue:u.slice(1,u.length)}):l},a.handleDismissOldest=function(l){if(l.snacks.some(function(A){return!A.open||A.requestClose}))return l;var u=!1,p=!1,m=l.snacks.reduce(function(A,T){return A+(T.open&&T.persist?1:0)},0);m===a.maxSnack&&(p=!0);var w=l.snacks.map(function(A){return!u&&(!A.persist||p)?(u=!0,A.entered?(A.onClose&&A.onClose(null,"maxsnack",A.id),a.props.onClose&&a.props.onClose(null,"maxsnack",A.id),Ft({},A,{open:!1})):Ft({},A,{requestClose:!0})):Ft({},A)});return Ft({},l,{snacks:w})},a.handleEnteredSnack=function(l,u,p){if(!ld(p))throw new Error("handleEnteredSnack Cannot be called with undefined key");a.setState(function(m){var w=m.snacks;return{snacks:w.map(function(A){return A.id===p?Ft({},A,{entered:!0}):Ft({},A)})}})},a.handleCloseSnack=function(l,u,p){a.props.onClose&&a.props.onClose(l,u,p);var m=p===void 0;a.setState(function(w){var A=w.snacks,T=w.queue;return{snacks:A.map(function(I){return!m&&I.id!==p?Ft({},I):I.entered?Ft({},I,{open:!1}):Ft({},I,{requestClose:!0})}),queue:T.filter(function(I){return I.id!==p})}})},a.closeSnackbar=function(l){var u=a.state.snacks.find(function(p){return p.id===l});ld(l)&&u&&u.onClose&&u.onClose(null,"instructed",l),a.handleCloseSnack(null,"instructed",l)},a.handleExitedSnack=function(l,u){if(!ld(u))throw new Error("handleExitedSnack Cannot be called with undefined key");a.setState(function(p){var m=a.processQueue(Ft({},p,{snacks:p.snacks.filter(function(w){return w.id!==u})}));return m.queue.length===0?m:a.handleDismissOldest(m)})},a.enqueueSnackbar,a.closeSnackbar,a.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:a.enqueueSnackbar.bind(jw(a)),closeSnackbar:a.closeSnackbar.bind(jw(a))}},a}var n=e.prototype;return n.render=function(){var a=this,l=this.state.contextValue,u=this.props,p=u.domRoot,m=u.children,w=u.dense,A=w===void 0?!1:w,T=u.Components,I=T===void 0?{}:T,z=u.classes,$=this.state.snacks.reduce(function(Z,X){var L,J=gx(X.anchorOrigin),re=Z[J]||[];return Ft({},Z,(L={},L[J]=[].concat(re,[X]),L))},{}),q=Object.keys($).map(function(Z){var X=$[Z],L=X[0];return at.createElement(ZD,{key:Z,dense:A,anchorOrigin:L.anchorOrigin,classes:z},X.map(function(J){return at.createElement(KD,{key:J.id,snack:J,classes:z,Component:I[J.variant],onClose:a.handleCloseSnack,onEnter:a.props.onEnter,onExit:a.props.onExit,onExited:xu([a.handleExitedSnack,a.props.onExited],J.id),onEntered:xu([a.handleEnteredSnack,a.props.onEntered],J.id)})}))});return at.createElement(Sk.Provider,{value:l},m,p?cp.createPortal(q,p):q)},bk(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||vo.maxSnack}}]),e}(K.Component),yr=function(){return K.useContext(Sk)},Kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},eO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],p=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,p=u?t[a+1]:0,m=a+2<t.length,w=m?t[a+2]:0,A=l>>2,T=(l&3)<<4|p>>4;let I=(p&15)<<2|w>>6,z=w&63;m||(z=64,u||(I=64)),r.push(n[A],n[T],n[I],n[z])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],p=a<t.length?n[t.charAt(a)]:0;++a;const w=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||p==null||w==null||T==null)throw new tO;const I=l<<2|p>>4;if(r.push(I),w!==64){const z=p<<4&240|w>>2;if(r.push(z),T!==64){const $=w<<6&192|T;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nO=function(t){const e=Pk(t);return Rk.encodeByteArray(e,!0)},_f=function(t){return nO(t).replace(/\./g,"")},Nk=function(t){try{return Rk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=()=>rO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof Kw>"u")return;const t=Kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nk(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return iO()||sO()||aO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lk=t=>{var e,n;return(n=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Dk=t=>{const e=Lk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ok=()=>{var t;return(t=fp())===null||t===void 0?void 0:t.config},Mk=t=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_f(JSON.stringify(n)),_f(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function cO(){var t;const e=(t=fp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hO(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dO(){return!cO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vk(){try{return typeof indexedDB=="object"}catch{return!1}}function zk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}function fO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pO,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?gO(l,r):"Error",p=`${this.serviceName}: ${u} (${a}).`;return new hi(a,p,r)}}function gO(t,e){return t.replace(mO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mO=/\{\$([^}]+)}/g;function vO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(Qw(l)&&Qw(u)){if(!Gu(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Qw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yO(t,e){const n=new xO(t,e);return n.subscribe.bind(n)}class xO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=qg),a.error===void 0&&(a.error=qg),a.complete===void 0&&(a.complete=qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=1e3,SO=2,_O=4*60*60*1e3,EO=.5;function Zw(t,e=wO,n=SO){const r=e*Math.pow(n,t),a=Math.round(EO*r*(Math.random()-.5)*2);return Math.min(_O,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CO(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kO(t){return t===Ja?void 0:t}function CO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const IO={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},PO=bt.INFO,RO={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},NO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=RO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=PO,this._logHandler=NO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const LO=(t,e)=>e.some(n=>t instanceof n);let Jw,e1;function DO(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OO(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uk=new WeakMap,Ev=new WeakMap,Bk=new WeakMap,Kg=new WeakMap,vx=new WeakMap;function MO(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Aa(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Uk.set(n,t)}).catch(()=>{}),vx.set(e,t),e}function FO(t){if(Ev.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ev.set(t,e)}let Av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ev.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jO(t){Av=t(Av)}function VO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qg(this),e,...n);return Bk.set(r,e.sort?e.sort():[e]),Aa(r)}:OO().includes(t)?function(...e){return t.apply(Qg(this),e),Aa(Uk.get(this))}:function(...e){return Aa(t.apply(Qg(this),e))}}function zO(t){return typeof t=="function"?VO(t):(t instanceof IDBTransaction&&FO(t),LO(t,DO())?new Proxy(t,Av):t)}function Aa(t){if(t instanceof IDBRequest)return MO(t);if(Kg.has(t))return Kg.get(t);const e=zO(t);return e!==t&&(Kg.set(t,e),vx.set(e,t)),e}const Qg=t=>vx.get(t);function Hk(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),p=Aa(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Aa(u.result),m.oldVersion,m.newVersion,Aa(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",w=>a(w.oldVersion,w.newVersion,w))}).catch(()=>{}),p}const UO=["get","getKey","getAll","getAllKeys","count"],BO=["put","add","delete","clear"],Zg=new Map;function t1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=BO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||UO.includes(n)))return;const l=async function(u,...p){const m=this.transaction(u,a?"readwrite":"readonly");let w=m.store;return r&&(w=w.index(p.shift())),(await Promise.all([w[n](...p),a&&m.done]))[0]};return Zg.set(e,l),l}jO(t=>({...t,get:(e,n,r)=>t1(e,n)||t.get(e,n,r),has:(e,n)=>!!t1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($O(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $O(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kv="@firebase/app",n1="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new pp("@firebase/app"),WO="@firebase/app-compat",XO="@firebase/analytics-compat",YO="@firebase/analytics",GO="@firebase/app-check-compat",qO="@firebase/app-check",KO="@firebase/auth",QO="@firebase/auth-compat",ZO="@firebase/database",JO="@firebase/database-compat",eM="@firebase/functions",tM="@firebase/functions-compat",nM="@firebase/installations",rM="@firebase/installations-compat",iM="@firebase/messaging",sM="@firebase/messaging-compat",aM="@firebase/performance",oM="@firebase/performance-compat",lM="@firebase/remote-config",cM="@firebase/remote-config-compat",uM="@firebase/storage",hM="@firebase/storage-compat",dM="@firebase/firestore",fM="@firebase/vertexai-preview",pM="@firebase/firestore-compat",gM="firebase",mM="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="[DEFAULT]",vM={[kv]:"fire-core",[WO]:"fire-core-compat",[YO]:"fire-analytics",[XO]:"fire-analytics-compat",[qO]:"fire-app-check",[GO]:"fire-app-check-compat",[KO]:"fire-auth",[QO]:"fire-auth-compat",[ZO]:"fire-rtdb",[JO]:"fire-rtdb-compat",[eM]:"fire-fn",[tM]:"fire-fn-compat",[nM]:"fire-iid",[rM]:"fire-iid-compat",[iM]:"fire-fcm",[sM]:"fire-fcm-compat",[aM]:"fire-perf",[oM]:"fire-perf-compat",[lM]:"fire-rc",[cM]:"fire-rc-compat",[uM]:"fire-gcs",[hM]:"fire-gcs-compat",[dM]:"fire-fst",[pM]:"fire-fst-compat",[fM]:"fire-vertex","fire-js":"fire-js",[gM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,yM=new Map,Tv=new Map;function r1(t,e){try{t.container.addComponent(e)}catch(n){Io.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ii(t){const e=t.name;if(Tv.has(e))return Io.debug(`There were multiple attempts to register component ${e}.`),!1;Tv.set(e,t);for(const n of Ef.values())r1(n,t);for(const n of yM.values())r1(n,t);return!0}function Va(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new Ho("app","Firebase",xM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=mM;function $k(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cv,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw ka.create("bad-app-name",{appName:String(a)});if(n||(n=Ok()),!n)throw ka.create("no-options");const l=Ef.get(a);if(l){if(Gu(n,l.options)&&Gu(r,l.config))return l;throw ka.create("duplicate-app",{appName:a})}const u=new TO(a);for(const m of Tv.values())u.addComponent(m);const p=new bM(n,r,u);return Ef.set(a,p),p}function gp(t=Cv){const e=Ef.get(t);if(!e&&t===Cv&&Ok())return $k();if(!e)throw ka.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let a=(r=vM[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&p.push("and"),u&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Io.warn(p.join(" "));return}Ii(new ui(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="firebase-heartbeat-database",SM=1,qu="firebase-heartbeat-store";let Jg=null;function Wk(){return Jg||(Jg=Hk(wM,SM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),Jg}async function _M(t){try{const n=(await Wk()).transaction(qu),r=await n.objectStore(qu).get(Xk(t));return await n.done,r}catch(e){if(e instanceof hi)Io.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Io.warn(n.message)}}}async function i1(t,e){try{const r=(await Wk()).transaction(qu,"readwrite");await r.objectStore(qu).put(e,Xk(t)),await r.done}catch(n){if(n instanceof hi)Io.warn(n.message);else{const r=ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Io.warn(r.message)}}}function Xk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=1024,AM=30*24*60*60*1e3;class kM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=s1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const p=new Date(u.date).valueOf();return Date.now()-p<=AM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s1(),{heartbeatsToSend:r,unsentEntries:a}=CM(this._heartbeatsCache.heartbeats),l=_f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function s1(){return new Date().toISOString().substring(0,10)}function CM(t,e=EM){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),a1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),a1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vk()?zk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _M(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function a1(t){return _f(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){Ii(new ui("platform-logger",e=>new HO(e),"PRIVATE")),Ii(new ui("heartbeat",e=>new kM(e),"PRIVATE")),Tr(kv,n1,t),Tr(kv,n1,"esm2017"),Tr("fire-js","")}IM("");var PM="firebase",RM="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(PM,RM,"app");function yx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Yk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NM=Yk,Gk=new Ho("auth","Firebase",Yk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new pp("@firebase/auth");function LM(t,...e){Af.logLevel<=bt.WARN&&Af.warn(`Auth (${$o}): ${t}`,...e)}function Md(t,...e){Af.logLevel<=bt.ERROR&&Af.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw xx(t,...e)}function qi(t,...e){return xx(t,...e)}function qk(t,e,n){const r=Object.assign(Object.assign({},NM()),{[e]:n});return new Ho("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return qk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gk.create(t,...e)}function Je(t,e,...n){if(!t)throw xx(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Md(e),new Error(e)}function Ls(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DM(){return o1()==="http:"||o1()==="https:"}function o1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DM()||jk()||"connection"in navigator)?navigator.onLine:!0}function MM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=lO()||uO()}get(){return OM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new wh(3e4,6e4);function zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rs(t,e,n,r,a={}){return Qk(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const p=bh(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Kk.fetch()(Zk(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))})}async function Qk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FM),e);try{const a=new zM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw pd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[m,w]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw pd(t,"user-disabled",u);const A=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw qk(t,A,w);Pi(t,A)}}catch(a){if(a instanceof hi)throw a;Pi(t,"network-request-failed",{message:String(a)})}}async function Sh(t,e,n,r,a={}){const l=await rs(t,e,n,r,a);return"mfaPendingCredential"in l&&Pi(t,"multi-factor-auth-required",{_serverResponse:l}),l}function Zk(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?bx(t.config,a):`${t.config.apiScheme}://${a}`}function VM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),jM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=qi(t,e,r);return a.customData._tokenResponse=n,a}function l1(t){return t!==void 0&&t.enterprise!==void 0}class UM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BM(t,e){return rs(t,"GET","/v2/recaptchaConfig",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function Jk(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $M(t,e=!1){const n=mn(t),r=await n.getIdToken(e),a=wx(r);Je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:bu(em(a.auth_time)),issuedAtTime:bu(em(a.iat)),expirationTime:bu(em(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function em(t){return Number(t)*1e3}function wx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{const a=Nk(n);return a?JSON.parse(a):(Md("Failed to decode base64 JWT payload"),null)}catch(a){return Md("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function c1(t){const e=wx(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&WM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){var e;const n=t.auth,r=await t.getIdToken(),a=await lc(t,Jk(n,{idToken:r}));Je(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?eC(l.providerUserInfo):[],p=GM(t.providerData,u),m=t.isAnonymous,w=!(t.email&&l.passwordHash)&&!(p!=null&&p.length),A=m?w:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Pv(l.createdAt,l.lastLoginAt),isAnonymous:A};Object.assign(t,T)}async function YM(t){const e=mn(t);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GM(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function eC(t){return t.map(e=>{var{providerId:n}=e,r=yx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){const n=await Qk(t,{},async()=>{const r=bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=Zk(t,a,"/v1/token",`key=${l}`),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",Kk.fetch()(u,{method:"POST",headers:p,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KM(t,e){return rs(t,"POST","/v2/accounts:revokeToken",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=c1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await qM(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new Ml;return r&&(Je(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Je(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Je(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _s{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=yx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Pv(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $M(this,e)}reload(){return YM(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xi(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await lc(this,HM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,u,p,m,w,A;const T=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(a=n.email)!==null&&a!==void 0?a:void 0,z=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,$=(u=n.photoURL)!==null&&u!==void 0?u:void 0,q=(p=n.tenantId)!==null&&p!==void 0?p:void 0,Z=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,X=(w=n.createdAt)!==null&&w!==void 0?w:void 0,L=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:J,emailVerified:re,isAnonymous:te,providerData:oe,stsTokenManager:j}=n;Je(J&&j,e,"internal-error");const W=Ml.fromJSON(this.name,j);Je(typeof J=="string",e,"internal-error"),Ks(T,e.name),Ks(I,e.name),Je(typeof re=="boolean",e,"internal-error"),Je(typeof te=="boolean",e,"internal-error"),Ks(z,e.name),Ks($,e.name),Ks(q,e.name),Ks(Z,e.name),Ks(X,e.name),Ks(L,e.name);const Y=new _s({uid:J,auth:e,email:I,emailVerified:re,displayName:T,isAnonymous:te,photoURL:$,phoneNumber:z,tenantId:q,stsTokenManager:W,createdAt:X,lastLoginAt:L});return oe&&Array.isArray(oe)&&(Y.providerData=oe.map(ee=>Object.assign({},ee))),Z&&(Y._redirectEventId=Z),Y}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ml;a.updateFromServerResponse(n);const l=new _s({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await kf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?eC(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),p=new Ml;p.updateFromIdToken(r);const m=new _s({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:u}),w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Pv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,w),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function Es(t){Ls(t instanceof Function,"Expected a class definition");let e=u1.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tC.type="NONE";const h1=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Fd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Fd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_s._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fl(Es(h1),e,r);const a=(await Promise.all(n.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let l=a[0]||Es(h1);const u=Fd(r,e.config.apiKey,e.name);let p=null;for(const w of n)try{const A=await w._get(u);if(A){const T=_s._fromJSON(e,A);w!==l&&(p=T),l=w;break}}catch{}const m=a.filter(w=>w._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Fl(l,e,r):(l=m[0],p&&await l._set(u,p.toJSON()),await Promise.all(n.map(async w=>{if(w!==l)try{await w._remove(u)}catch{}})),new Fl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aC(e))return"Blackberry";if(oC(e))return"Webos";if(Sx(e))return"Safari";if((e.includes("chrome/")||rC(e))&&!e.includes("edge/"))return"Chrome";if(sC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nC(t=$n()){return/firefox\//i.test(t)}function Sx(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rC(t=$n()){return/crios\//i.test(t)}function iC(t=$n()){return/iemobile/i.test(t)}function sC(t=$n()){return/android/i.test(t)}function aC(t=$n()){return/blackberry/i.test(t)}function oC(t=$n()){return/webos/i.test(t)}function mp(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QM(t=$n()){var e;return mp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZM(){return hO()&&document.documentMode===10}function lC(t=$n()){return mp(t)||sC(t)||oC(t)||aC(t)||/windows phone/i.test(t)||iC(t)}function JM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e=[]){let n;switch(t){case"Browser":n=d1($n());break;case"Worker":n=`${d1($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,p)=>{try{const m=e(l);u(m)}catch(m){p(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e={}){return rs(t,"GET","/v2/passwordPolicy",zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=6;class rF{constructor(e){var n,r,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:nF,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,u,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new eF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jk(this,{idToken:e}),r=await _s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===p)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xi(this.app))return Promise.reject(Cs(this));const n=e?mn(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xi(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xi(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tF(this),n=new rF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Es(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function za(t){return mn(t)}class f1{constructor(e){this.auth=e,this.observer=null,this.addObserver=yO(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sF(t){vp=t}function uC(t){return vp.loadJS(t)}function aF(){return vp.recaptchaEnterpriseScript}function oF(){return vp.gapiScript}function lF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cF="recaptcha-enterprise",uF="NO_RECAPTCHA";class hF{constructor(e){this.type=cF,this.auth=za(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,p)=>{BM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const w=new UM(m);return l.tenantId==null?l._agentRecaptchaConfig=w:l._tenantRecaptchaConfigs[l.tenantId]=w,u(w.siteKey)}}).catch(m=>{p(m)})})}function a(l,u,p){const m=window.grecaptcha;l1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(w=>{u(w)}).catch(()=>{u(uF)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{r(this.auth).then(p=>{if(!n&&l1(window.grecaptcha))a(p,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=aF();m.length!==0&&(m+=p),uC(m).then(()=>{a(p,l,u)}).catch(w=>{u(w)})}}).catch(p=>{u(p)})})}}async function p1(t,e,n,r=!1){const a=new hF(t);let l;try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Cf(t,e,n,r){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await p1(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await p1(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){const n=Va(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Gu(l,e??{}))return a;Pi(a,"already-initialized")}return n.initialize({options:e})}function fF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pF(t,e,n){const r=za(t);Je(r._canInitEmulator,r,"emulator-config-failed"),Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!!(n!=null&&n.disableWarnings),l=hC(e),{host:u,port:p}=gF(e),m=p===null?"":`:${p}`;r.config.emulator={url:`${l}//${u}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||mF()}function hC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gF(t){const e=hC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:g1(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:g1(u)}}}function g1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function vF(t,e){return rs(t,"POST","/v1/accounts:update",e)}async function yF(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t,e){return Sh(t,"POST","/v1/accounts:signInWithPassword",zs(t,e))}async function dC(t,e){return rs(t,"POST","/v1/accounts:sendOobCode",zs(t,e))}async function bF(t,e){return dC(t,e)}async function wF(t,e){return dC(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return Sh(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}async function _F(t,e){return Sh(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends _x{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,n,"signInWithPassword",xF);case"emailLink":return SF(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,r,"signUpPassword",yF);case"emailLink":return _F(e,{idToken:n,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e){return Sh(t,"POST","/v1/accounts:signInWithIdp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="http://localhost";class Po extends _x{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=yx(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Po(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:EF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kF(t){const e=nu(ru(t)).link,n=e?nu(ru(e)).deep_link_id:null,r=nu(ru(t)).deep_link_id;return(r?nu(ru(r)).link:null)||r||n||e||t}class Ex{constructor(e){var n,r,a,l,u,p;const m=nu(ru(e)),w=(n=m.apiKey)!==null&&n!==void 0?n:null,A=(r=m.oobCode)!==null&&r!==void 0?r:null,T=AF((a=m.mode)!==null&&a!==void 0?a:null);Je(w&&A&&T,"argument-error"),this.apiKey=w,this.operation=T,this.code=A,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=kF(e);try{return new Ex(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.providerId=wc.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ex.parseLink(n);return Je(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}wc.PROVIDER_ID="password";wc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends fC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends _h{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Po._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sa.credential(n,r)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends _h{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends _h{constructor(){super("twitter.com")}static credential(e,n){return Po._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oa.credential(n,r)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e){return Sh(t,"POST","/v1/accounts:signUp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await _s._fromIdTokenResponse(e,r,a),u=m1(r);return new Ro({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=m1(r);return new Ro({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function m1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends hi{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Tf(e,n,r,a)}}function pC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(t,l,e,r):l})}async function TF(t,e,n=!1){const r=await lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IF(t,e,n=!1){const{auth:r}=t;if(Xi(r.app))return Promise.reject(Cs(r));const a="reauthenticate";try{const l=await lc(t,pC(r,a,e,t),n);Je(l.idToken,r,"internal-error");const u=wx(l.idToken);Je(u,r,"internal-error");const{sub:p}=u;return Je(t.uid===p,r,"user-mismatch"),Ro._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e,n=!1){if(Xi(t.app))return Promise.reject(Cs(t));const r="signIn",a=await pC(t,r,e),l=await Ro._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function PF(t,e){return gC(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e,n){var r;Je(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RF(t,e,n){const r=za(t),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&mC(r,a,n),await Cf(r,a,"getOobCode",wF)}async function NF(t,e,n){if(Xi(t.app))return Promise.reject(Cs(t));const r=za(t),u=await Cf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CF).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&vC(t),m}),p=await Ro._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(p.user),p}function yC(t,e,n){return Xi(t.app)?Promise.reject(Cs(t)):PF(mn(t),wc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vC(t),r})}async function LF(t,e){const n=mn(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&mC(n.auth,a,e);const{email:l}=await bF(n.auth,a);l!==t.email&&await t.reload()}function DF(t,e){return OF(mn(t),null,e)}async function OF(t,e,n){const{auth:r}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(l.email=e),n&&(l.password=n);const u=await lc(t,vF(r,l));await t._updateTokensIfNecessary(u,!0)}function MF(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function FF(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(){const t=$n();return Sx(t)||mp(t)}const VF=1e3,zF=10;class bC extends xC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jF()&&JM(),this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);ZM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,zF):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bC.type="LOCAL";const UF=bC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends xC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wC.type="SESSION";const SC=wC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new yp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const p=Array.from(u).map(async w=>w(n.origin,l)),m=await BF(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((p,m)=>{const w=Ax("",20);a.port1.start();const A=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(T){const I=T;if(I.data.eventId===w)switch(I.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(I.data.response);break;default:clearTimeout(A),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:w,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function $F(t){Ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function WF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YF(){return _C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebaseLocalStorageDb",GF=1,Pf="firebaseLocalStorage",AC="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xp(t,e){return t.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function qF(){const t=indexedDB.deleteDatabase(EC);return new Eh(t).toPromise()}function Rv(){const t=indexedDB.open(EC,GF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pf,{keyPath:AC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),await qF(),e(await Rv()))})})}async function v1(t,e,n){const r=xp(t,!0).put({[AC]:e,value:n});return new Eh(r).toPromise()}async function KF(t,e){const n=xp(t,!1).get(e),r=await new Eh(n).toPromise();return r===void 0?null:r.value}function y1(t,e){const n=xp(t,!0).delete(e);return new Eh(n).toPromise()}const QF=800,ZF=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yp._getInstance(YF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WF(),!this.activeServiceWorker)return;this.sender=new HF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rv();return await v1(e,If,"1"),await y1(e,If),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=xp(a,!1).getAll();return new Eh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const JF=kC;new wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){return e?Es(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends _x{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tj(t){return gC(t.auth,new kx(t),t.bypassAuthState)}function nj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),IF(n,new kx(t),t.bypassAuthState)}async function rj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),TF(n,new kx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tj;case"linkViaPopup":case"linkViaRedirect":return rj;case"reauthViaPopup":case"reauthViaRedirect":return nj;default:Pi(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new wh(2e3,1e4);class Cl extends CC{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=Ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ij.get())};e()}}Cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="pendingRedirect",jd=new Map;class aj extends CC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await oj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oj(t,e){const n=uj(e),r=cj(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function lj(t,e){jd.set(t._key(),e)}function cj(t){return Es(t._redirectPersistence)}function uj(t){return Fd(sj,t.config.apiKey,t.name)}async function hj(t,e,n=!1){if(Xi(t.app))return Promise.reject(Cs(t));const r=za(t),a=ej(r,e),u=await new aj(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=10*60*1e3;class fj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TC(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(x1(e))}saveEventToCache(e){this.cachedEventUids.add(x1(e)),this.lastProcessedEventTime=Date.now()}}function x1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vj=/^https?/;async function yj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gj(t);for(const n of e)try{if(xj(n))return}catch{}Pi(t,"unauthorized-domain")}function xj(t){const e=Iv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!vj.test(n))return!1;if(mj.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new wh(3e4,6e4);function b1(){const t=Ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wj(t){return new Promise((e,n)=>{var r,a,l;function u(){b1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b1(),n(qi(t,"network-request-failed"))},timeout:bj.get()})}if(!((a=(r=Ki().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ki().gapi)===null||l===void 0)&&l.load)u();else{const p=lF("iframefcb");return Ki()[p]=()=>{gapi.load?u():n(qi(t,"network-request-failed"))},uC(`${oF()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Vd=null,e})}let Vd=null;function Sj(t){return Vd=Vd||wj(t),Vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new wh(5e3,15e3),Ej="__/auth/iframe",Aj="emulator/auth/iframe",kj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tj(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bx(e,Aj):`https://${t.config.authDomain}/${Ej}`,r={apiKey:e.apiKey,appName:t.name,v:$o},a=Cj.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${bh(r).slice(1)}`}async function Ij(t){const e=await Sj(t),n=Ki().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:Tj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kj,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=qi(t,"network-request-failed"),p=Ki().setTimeout(()=>{l(u)},_j.get());function m(){Ki().clearTimeout(p),a(r)}r.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rj=500,Nj=600,Lj="_blank",Dj="http://localhost";class w1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oj(t,e,n,r=Rj,a=Nj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const m=Object.assign(Object.assign({},Pj),{width:r.toString(),height:a.toString(),top:l,left:u}),w=$n().toLowerCase();n&&(p=rC(w)?Lj:n),nC(w)&&(e=e||Dj,m.scrollbars="yes");const A=Object.entries(m).reduce((I,[z,$])=>`${I}${z}=${$},`,"");if(QM(w)&&p!=="_self")return Mj(e||"",p),new w1(null);const T=window.open(e||"",p,A);Je(T,t,"popup-blocked");try{T.focus()}catch{}return new w1(T)}function Mj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="__/auth/handler",jj="emulator/auth/handler",Vj=encodeURIComponent("fac");async function S1(t,e,n,r,a,l){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:a};if(e instanceof fC){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",vO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,T]of Object.entries(l||{}))u[A]=T}if(e instanceof _h){const A=e.getScopes().filter(T=>T!=="");A.length>0&&(u.scopes=A.join(","))}t.tenantId&&(u.tid=t.tenantId);const p=u;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const m=await t._getAppCheckToken(),w=m?`#${Vj}=${encodeURIComponent(m)}`:"";return`${zj(t)}?${bh(p).slice(1)}${w}`}function zj({config:t}){return t.emulator?bx(t,jj):`https://${t.authDomain}/${Fj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class Uj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SC,this._completeRedirectFn=hj,this._overrideRedirectResult=lj}async _openPopup(e,n,r,a){var l;Ls((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await S1(e,n,r,Iv(),a);return Oj(e,u,Ax())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await S1(e,n,r,Iv(),a);return $F(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ls(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ij(e),r=new fj(e);return n.register("authEvent",a=>(Je(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[tm];u!==void 0&&n(!!u),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lC()||Sx()||mp()}}const Bj=Uj;var _1="@firebase/auth",E1="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wj(t){Ii(new ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=r.options;Je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},w=new iF(r,a,l,m);return fF(w,n),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new ui("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new Hj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(_1,E1,$j(t)),Tr(_1,E1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=5*60,Yj=Mk("authIdTokenMaxAge")||Xj;let A1=null;const Gj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Yj)return;const a=n==null?void 0:n.token;A1!==a&&(A1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qj(t=gp()){const e=Va(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dF(t,{popupRedirectResolver:Bj,persistence:[JF,UF,SC]}),r=Mk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=Gj(l.toString());FF(n,u,()=>u(n.currentUser)),MF(n,p=>u(p))}}const a=Lk("auth");return a&&pF(n,`http://${a}`),n}function Kj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=qi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",Kj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wj("Browser");var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,IC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,W){function Y(){}Y.prototype=W.prototype,j.D=W.prototype,j.prototype=new Y,j.prototype.constructor=j,j.C=function(ee,ie,le){for(var ne=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ne[rt-2]=arguments[rt];return W.prototype[ie].apply(ee,ne)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,W,Y){Y||(Y=0);var ee=Array(16);if(typeof W=="string")for(var ie=0;16>ie;++ie)ee[ie]=W.charCodeAt(Y++)|W.charCodeAt(Y++)<<8|W.charCodeAt(Y++)<<16|W.charCodeAt(Y++)<<24;else for(ie=0;16>ie;++ie)ee[ie]=W[Y++]|W[Y++]<<8|W[Y++]<<16|W[Y++]<<24;W=j.g[0],Y=j.g[1],ie=j.g[2];var le=j.g[3],ne=W+(le^Y&(ie^le))+ee[0]+3614090360&4294967295;W=Y+(ne<<7&4294967295|ne>>>25),ne=le+(ie^W&(Y^ie))+ee[1]+3905402710&4294967295,le=W+(ne<<12&4294967295|ne>>>20),ne=ie+(Y^le&(W^Y))+ee[2]+606105819&4294967295,ie=le+(ne<<17&4294967295|ne>>>15),ne=Y+(W^ie&(le^W))+ee[3]+3250441966&4294967295,Y=ie+(ne<<22&4294967295|ne>>>10),ne=W+(le^Y&(ie^le))+ee[4]+4118548399&4294967295,W=Y+(ne<<7&4294967295|ne>>>25),ne=le+(ie^W&(Y^ie))+ee[5]+1200080426&4294967295,le=W+(ne<<12&4294967295|ne>>>20),ne=ie+(Y^le&(W^Y))+ee[6]+2821735955&4294967295,ie=le+(ne<<17&4294967295|ne>>>15),ne=Y+(W^ie&(le^W))+ee[7]+4249261313&4294967295,Y=ie+(ne<<22&4294967295|ne>>>10),ne=W+(le^Y&(ie^le))+ee[8]+1770035416&4294967295,W=Y+(ne<<7&4294967295|ne>>>25),ne=le+(ie^W&(Y^ie))+ee[9]+2336552879&4294967295,le=W+(ne<<12&4294967295|ne>>>20),ne=ie+(Y^le&(W^Y))+ee[10]+4294925233&4294967295,ie=le+(ne<<17&4294967295|ne>>>15),ne=Y+(W^ie&(le^W))+ee[11]+2304563134&4294967295,Y=ie+(ne<<22&4294967295|ne>>>10),ne=W+(le^Y&(ie^le))+ee[12]+1804603682&4294967295,W=Y+(ne<<7&4294967295|ne>>>25),ne=le+(ie^W&(Y^ie))+ee[13]+4254626195&4294967295,le=W+(ne<<12&4294967295|ne>>>20),ne=ie+(Y^le&(W^Y))+ee[14]+2792965006&4294967295,ie=le+(ne<<17&4294967295|ne>>>15),ne=Y+(W^ie&(le^W))+ee[15]+1236535329&4294967295,Y=ie+(ne<<22&4294967295|ne>>>10),ne=W+(ie^le&(Y^ie))+ee[1]+4129170786&4294967295,W=Y+(ne<<5&4294967295|ne>>>27),ne=le+(Y^ie&(W^Y))+ee[6]+3225465664&4294967295,le=W+(ne<<9&4294967295|ne>>>23),ne=ie+(W^Y&(le^W))+ee[11]+643717713&4294967295,ie=le+(ne<<14&4294967295|ne>>>18),ne=Y+(le^W&(ie^le))+ee[0]+3921069994&4294967295,Y=ie+(ne<<20&4294967295|ne>>>12),ne=W+(ie^le&(Y^ie))+ee[5]+3593408605&4294967295,W=Y+(ne<<5&4294967295|ne>>>27),ne=le+(Y^ie&(W^Y))+ee[10]+38016083&4294967295,le=W+(ne<<9&4294967295|ne>>>23),ne=ie+(W^Y&(le^W))+ee[15]+3634488961&4294967295,ie=le+(ne<<14&4294967295|ne>>>18),ne=Y+(le^W&(ie^le))+ee[4]+3889429448&4294967295,Y=ie+(ne<<20&4294967295|ne>>>12),ne=W+(ie^le&(Y^ie))+ee[9]+568446438&4294967295,W=Y+(ne<<5&4294967295|ne>>>27),ne=le+(Y^ie&(W^Y))+ee[14]+3275163606&4294967295,le=W+(ne<<9&4294967295|ne>>>23),ne=ie+(W^Y&(le^W))+ee[3]+4107603335&4294967295,ie=le+(ne<<14&4294967295|ne>>>18),ne=Y+(le^W&(ie^le))+ee[8]+1163531501&4294967295,Y=ie+(ne<<20&4294967295|ne>>>12),ne=W+(ie^le&(Y^ie))+ee[13]+2850285829&4294967295,W=Y+(ne<<5&4294967295|ne>>>27),ne=le+(Y^ie&(W^Y))+ee[2]+4243563512&4294967295,le=W+(ne<<9&4294967295|ne>>>23),ne=ie+(W^Y&(le^W))+ee[7]+1735328473&4294967295,ie=le+(ne<<14&4294967295|ne>>>18),ne=Y+(le^W&(ie^le))+ee[12]+2368359562&4294967295,Y=ie+(ne<<20&4294967295|ne>>>12),ne=W+(Y^ie^le)+ee[5]+4294588738&4294967295,W=Y+(ne<<4&4294967295|ne>>>28),ne=le+(W^Y^ie)+ee[8]+2272392833&4294967295,le=W+(ne<<11&4294967295|ne>>>21),ne=ie+(le^W^Y)+ee[11]+1839030562&4294967295,ie=le+(ne<<16&4294967295|ne>>>16),ne=Y+(ie^le^W)+ee[14]+4259657740&4294967295,Y=ie+(ne<<23&4294967295|ne>>>9),ne=W+(Y^ie^le)+ee[1]+2763975236&4294967295,W=Y+(ne<<4&4294967295|ne>>>28),ne=le+(W^Y^ie)+ee[4]+1272893353&4294967295,le=W+(ne<<11&4294967295|ne>>>21),ne=ie+(le^W^Y)+ee[7]+4139469664&4294967295,ie=le+(ne<<16&4294967295|ne>>>16),ne=Y+(ie^le^W)+ee[10]+3200236656&4294967295,Y=ie+(ne<<23&4294967295|ne>>>9),ne=W+(Y^ie^le)+ee[13]+681279174&4294967295,W=Y+(ne<<4&4294967295|ne>>>28),ne=le+(W^Y^ie)+ee[0]+3936430074&4294967295,le=W+(ne<<11&4294967295|ne>>>21),ne=ie+(le^W^Y)+ee[3]+3572445317&4294967295,ie=le+(ne<<16&4294967295|ne>>>16),ne=Y+(ie^le^W)+ee[6]+76029189&4294967295,Y=ie+(ne<<23&4294967295|ne>>>9),ne=W+(Y^ie^le)+ee[9]+3654602809&4294967295,W=Y+(ne<<4&4294967295|ne>>>28),ne=le+(W^Y^ie)+ee[12]+3873151461&4294967295,le=W+(ne<<11&4294967295|ne>>>21),ne=ie+(le^W^Y)+ee[15]+530742520&4294967295,ie=le+(ne<<16&4294967295|ne>>>16),ne=Y+(ie^le^W)+ee[2]+3299628645&4294967295,Y=ie+(ne<<23&4294967295|ne>>>9),ne=W+(ie^(Y|~le))+ee[0]+4096336452&4294967295,W=Y+(ne<<6&4294967295|ne>>>26),ne=le+(Y^(W|~ie))+ee[7]+1126891415&4294967295,le=W+(ne<<10&4294967295|ne>>>22),ne=ie+(W^(le|~Y))+ee[14]+2878612391&4294967295,ie=le+(ne<<15&4294967295|ne>>>17),ne=Y+(le^(ie|~W))+ee[5]+4237533241&4294967295,Y=ie+(ne<<21&4294967295|ne>>>11),ne=W+(ie^(Y|~le))+ee[12]+1700485571&4294967295,W=Y+(ne<<6&4294967295|ne>>>26),ne=le+(Y^(W|~ie))+ee[3]+2399980690&4294967295,le=W+(ne<<10&4294967295|ne>>>22),ne=ie+(W^(le|~Y))+ee[10]+4293915773&4294967295,ie=le+(ne<<15&4294967295|ne>>>17),ne=Y+(le^(ie|~W))+ee[1]+2240044497&4294967295,Y=ie+(ne<<21&4294967295|ne>>>11),ne=W+(ie^(Y|~le))+ee[8]+1873313359&4294967295,W=Y+(ne<<6&4294967295|ne>>>26),ne=le+(Y^(W|~ie))+ee[15]+4264355552&4294967295,le=W+(ne<<10&4294967295|ne>>>22),ne=ie+(W^(le|~Y))+ee[6]+2734768916&4294967295,ie=le+(ne<<15&4294967295|ne>>>17),ne=Y+(le^(ie|~W))+ee[13]+1309151649&4294967295,Y=ie+(ne<<21&4294967295|ne>>>11),ne=W+(ie^(Y|~le))+ee[4]+4149444226&4294967295,W=Y+(ne<<6&4294967295|ne>>>26),ne=le+(Y^(W|~ie))+ee[11]+3174756917&4294967295,le=W+(ne<<10&4294967295|ne>>>22),ne=ie+(W^(le|~Y))+ee[2]+718787259&4294967295,ie=le+(ne<<15&4294967295|ne>>>17),ne=Y+(le^(ie|~W))+ee[9]+3951481745&4294967295,j.g[0]=j.g[0]+W&4294967295,j.g[1]=j.g[1]+(ie+(ne<<21&4294967295|ne>>>11))&4294967295,j.g[2]=j.g[2]+ie&4294967295,j.g[3]=j.g[3]+le&4294967295}r.prototype.u=function(j,W){W===void 0&&(W=j.length);for(var Y=W-this.blockSize,ee=this.B,ie=this.h,le=0;le<W;){if(ie==0)for(;le<=Y;)a(this,j,le),le+=this.blockSize;if(typeof j=="string"){for(;le<W;)if(ee[ie++]=j.charCodeAt(le++),ie==this.blockSize){a(this,ee),ie=0;break}}else for(;le<W;)if(ee[ie++]=j[le++],ie==this.blockSize){a(this,ee),ie=0;break}}this.h=ie,this.o+=W},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var W=1;W<j.length-8;++W)j[W]=0;var Y=8*this.o;for(W=j.length-8;W<j.length;++W)j[W]=Y&255,Y/=256;for(this.u(j),j=Array(16),W=Y=0;4>W;++W)for(var ee=0;32>ee;ee+=8)j[Y++]=this.g[W]>>>ee&255;return j};function l(j,W){var Y=p;return Object.prototype.hasOwnProperty.call(Y,j)?Y[j]:Y[j]=W(j)}function u(j,W){this.h=W;for(var Y=[],ee=!0,ie=j.length-1;0<=ie;ie--){var le=j[ie]|0;ee&&le==W||(Y[ie]=le,ee=!1)}this.g=Y}var p={};function m(j){return-128<=j&&128>j?l(j,function(W){return new u([W|0],0>W?-1:0)}):new u([j|0],0>j?-1:0)}function w(j){if(isNaN(j)||!isFinite(j))return T;if(0>j)return Z(w(-j));for(var W=[],Y=1,ee=0;j>=Y;ee++)W[ee]=j/Y|0,Y*=4294967296;return new u(W,0)}function A(j,W){if(j.length==0)throw Error("number format error: empty string");if(W=W||10,2>W||36<W)throw Error("radix out of range: "+W);if(j.charAt(0)=="-")return Z(A(j.substring(1),W));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var Y=w(Math.pow(W,8)),ee=T,ie=0;ie<j.length;ie+=8){var le=Math.min(8,j.length-ie),ne=parseInt(j.substring(ie,ie+le),W);8>le?(le=w(Math.pow(W,le)),ee=ee.j(le).add(w(ne))):(ee=ee.j(Y),ee=ee.add(w(ne)))}return ee}var T=m(0),I=m(1),z=m(16777216);t=u.prototype,t.m=function(){if(q(this))return-Z(this).m();for(var j=0,W=1,Y=0;Y<this.g.length;Y++){var ee=this.i(Y);j+=(0<=ee?ee:4294967296+ee)*W,W*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if($(this))return"0";if(q(this))return"-"+Z(this).toString(j);for(var W=w(Math.pow(j,6)),Y=this,ee="";;){var ie=re(Y,W).g;Y=X(Y,ie.j(W));var le=((0<Y.g.length?Y.g[0]:Y.h)>>>0).toString(j);if(Y=ie,$(Y))return le+ee;for(;6>le.length;)le="0"+le;ee=le+ee}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function $(j){if(j.h!=0)return!1;for(var W=0;W<j.g.length;W++)if(j.g[W]!=0)return!1;return!0}function q(j){return j.h==-1}t.l=function(j){return j=X(this,j),q(j)?-1:$(j)?0:1};function Z(j){for(var W=j.g.length,Y=[],ee=0;ee<W;ee++)Y[ee]=~j.g[ee];return new u(Y,~j.h).add(I)}t.abs=function(){return q(this)?Z(this):this},t.add=function(j){for(var W=Math.max(this.g.length,j.g.length),Y=[],ee=0,ie=0;ie<=W;ie++){var le=ee+(this.i(ie)&65535)+(j.i(ie)&65535),ne=(le>>>16)+(this.i(ie)>>>16)+(j.i(ie)>>>16);ee=ne>>>16,le&=65535,ne&=65535,Y[ie]=ne<<16|le}return new u(Y,Y[Y.length-1]&-2147483648?-1:0)};function X(j,W){return j.add(Z(W))}t.j=function(j){if($(this)||$(j))return T;if(q(this))return q(j)?Z(this).j(Z(j)):Z(Z(this).j(j));if(q(j))return Z(this.j(Z(j)));if(0>this.l(z)&&0>j.l(z))return w(this.m()*j.m());for(var W=this.g.length+j.g.length,Y=[],ee=0;ee<2*W;ee++)Y[ee]=0;for(ee=0;ee<this.g.length;ee++)for(var ie=0;ie<j.g.length;ie++){var le=this.i(ee)>>>16,ne=this.i(ee)&65535,rt=j.i(ie)>>>16,gt=j.i(ie)&65535;Y[2*ee+2*ie]+=ne*gt,L(Y,2*ee+2*ie),Y[2*ee+2*ie+1]+=le*gt,L(Y,2*ee+2*ie+1),Y[2*ee+2*ie+1]+=ne*rt,L(Y,2*ee+2*ie+1),Y[2*ee+2*ie+2]+=le*rt,L(Y,2*ee+2*ie+2)}for(ee=0;ee<W;ee++)Y[ee]=Y[2*ee+1]<<16|Y[2*ee];for(ee=W;ee<2*W;ee++)Y[ee]=0;return new u(Y,0)};function L(j,W){for(;(j[W]&65535)!=j[W];)j[W+1]+=j[W]>>>16,j[W]&=65535,W++}function J(j,W){this.g=j,this.h=W}function re(j,W){if($(W))throw Error("division by zero");if($(j))return new J(T,T);if(q(j))return W=re(Z(j),W),new J(Z(W.g),Z(W.h));if(q(W))return W=re(j,Z(W)),new J(Z(W.g),W.h);if(30<j.g.length){if(q(j)||q(W))throw Error("slowDivide_ only works with positive integers.");for(var Y=I,ee=W;0>=ee.l(j);)Y=te(Y),ee=te(ee);var ie=oe(Y,1),le=oe(ee,1);for(ee=oe(ee,2),Y=oe(Y,2);!$(ee);){var ne=le.add(ee);0>=ne.l(j)&&(ie=ie.add(Y),le=ne),ee=oe(ee,1),Y=oe(Y,1)}return W=X(j,ie.j(W)),new J(ie,W)}for(ie=T;0<=j.l(W);){for(Y=Math.max(1,Math.floor(j.m()/W.m())),ee=Math.ceil(Math.log(Y)/Math.LN2),ee=48>=ee?1:Math.pow(2,ee-48),le=w(Y),ne=le.j(W);q(ne)||0<ne.l(j);)Y-=ee,le=w(Y),ne=le.j(W);$(le)&&(le=I),ie=ie.add(le),j=X(j,ne)}return new J(ie,j)}t.A=function(j){return re(this,j).h},t.and=function(j){for(var W=Math.max(this.g.length,j.g.length),Y=[],ee=0;ee<W;ee++)Y[ee]=this.i(ee)&j.i(ee);return new u(Y,this.h&j.h)},t.or=function(j){for(var W=Math.max(this.g.length,j.g.length),Y=[],ee=0;ee<W;ee++)Y[ee]=this.i(ee)|j.i(ee);return new u(Y,this.h|j.h)},t.xor=function(j){for(var W=Math.max(this.g.length,j.g.length),Y=[],ee=0;ee<W;ee++)Y[ee]=this.i(ee)^j.i(ee);return new u(Y,this.h^j.h)};function te(j){for(var W=j.g.length+1,Y=[],ee=0;ee<W;ee++)Y[ee]=j.i(ee)<<1|j.i(ee-1)>>>31;return new u(Y,j.h)}function oe(j,W){var Y=W>>5;W%=32;for(var ee=j.g.length-Y,ie=[],le=0;le<ee;le++)ie[le]=0<W?j.i(le+Y)>>>W|j.i(le+Y+1)<<32-W:j.i(le+Y);return new u(ie,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=w,u.fromString=A,yo=u}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PC,RC,iu,NC,zd,Nv,LC,DC,OC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,P,M){return x==Array.prototype||x==Object.prototype||(x[P]=M.value),x};function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var P=0;P<x.length;++P){var M=x[P];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function a(x,P){if(P)e:{var M=r;x=x.split(".");for(var Q=0;Q<x.length-1;Q++){var ue=x[Q];if(!(ue in M))break e;M=M[ue]}x=x[x.length-1],Q=M[x],P=P(Q),P!=Q&&P!=null&&e(M,x,{configurable:!0,writable:!0,value:P})}}function l(x,P){x instanceof String&&(x+="");var M=0,Q=!1,ue={next:function(){if(!Q&&M<x.length){var me=M++;return{value:P(me,x[me]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}a("Array.prototype.values",function(x){return x||function(){return l(this,function(P,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},p=this||self;function m(x){var P=typeof x;return P=P!="object"?P:x?Array.isArray(x)?"array":P:"null",P=="array"||P=="object"&&typeof x.length=="number"}function w(x){var P=typeof x;return P=="object"&&x!=null||P=="function"}function A(x,P,M){return x.call.apply(x.bind,arguments)}function T(x,P,M){if(!x)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,Q),x.apply(P,ue)}}return function(){return x.apply(P,arguments)}}function I(x,P,M){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:T,I.apply(null,arguments)}function z(x,P){var M=Array.prototype.slice.call(arguments,1);return function(){var Q=M.slice();return Q.push.apply(Q,arguments),x.apply(this,Q)}}function $(x,P){function M(){}M.prototype=P.prototype,x.aa=P.prototype,x.prototype=new M,x.prototype.constructor=x,x.Qb=function(Q,ue,me){for(var Ie=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Ie[zt-2]=arguments[zt];return P.prototype[ue].apply(Q,Ie)}}function q(x){const P=x.length;if(0<P){const M=Array(P);for(let Q=0;Q<P;Q++)M[Q]=x[Q];return M}return[]}function Z(x,P){for(let M=1;M<arguments.length;M++){const Q=arguments[M];if(m(Q)){const ue=x.length||0,me=Q.length||0;x.length=ue+me;for(let Ie=0;Ie<me;Ie++)x[ue+Ie]=Q[Ie]}else x.push(Q)}}class X{constructor(P,M){this.i=P,this.j=M,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function L(x){return/^[\s\xa0]*$/.test(x)}function J(){var x=p.navigator;return x&&(x=x.userAgent)?x:""}function re(x){return re[" "](x),x}re[" "]=function(){};var te=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function oe(x,P,M){for(const Q in x)P.call(M,x[Q],Q,x)}function j(x,P){for(const M in x)P.call(void 0,x[M],M,x)}function W(x){const P={};for(const M in x)P[M]=x[M];return P}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(x,P){let M,Q;for(let ue=1;ue<arguments.length;ue++){Q=arguments[ue];for(M in Q)x[M]=Q[M];for(let me=0;me<Y.length;me++)M=Y[me],Object.prototype.hasOwnProperty.call(Q,M)&&(x[M]=Q[M])}}function ie(x){var P=1;x=x.split(":");const M=[];for(;0<P&&x.length;)M.push(x.shift()),P--;return x.length&&M.push(x.join(":")),M}function le(x){p.setTimeout(()=>{throw x},0)}function ne(){var x=Ue;let P=null;return x.g&&(P=x.g,x.g=x.g.next,x.g||(x.h=null),P.next=null),P}class rt{constructor(){this.h=this.g=null}add(P,M){const Q=gt.get();Q.set(P,M),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var gt=new X(()=>new An,x=>x.reset());class An{constructor(){this.next=this.g=this.h=null}set(P,M){this.h=P,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Se=!1,Ue=new rt,Ae=()=>{const x=p.Promise.resolve(void 0);Kt=()=>{x.then(Xe)}};var Xe=()=>{for(var x;x=ne();){try{x.h.call(x.g)}catch(M){le(M)}var P=gt;P.j(x),100>P.h&&(P.h++,x.next=P.g,P.g=x)}Se=!1};function $e(){this.s=this.s,this.C=this.C}$e.prototype.s=!1,$e.prototype.ma=function(){this.s||(this.s=!0,this.N())},$e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(x,P){this.type=x,this.g=this.target=P,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var x=!1,P=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const M=()=>{};p.addEventListener("test",M,P),p.removeEventListener("test",M,P)}catch{}return x}();function _e(x,P){if(Oe.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var M=this.type=x.type,Q=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=P,P=x.relatedTarget){if(te){e:{try{re(P.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(P=null)}}else M=="mouseover"?P=x.fromElement:M=="mouseout"&&(P=x.toElement);this.relatedTarget=P,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:Pe[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&_e.aa.h.call(this)}}$(_e,Oe);var Pe={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),lt=0;function kt(x,P,M,Q,ue){this.listener=x,this.proxy=null,this.src=P,this.type=M,this.capture=!!Q,this.ha=ue,this.key=++lt,this.da=this.fa=!1}function jt(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function Rr(x){this.src=x,this.g={},this.h=0}Rr.prototype.add=function(x,P,M,Q,ue){var me=x.toString();x=this.g[me],x||(x=this.g[me]=[],this.h++);var Ie=Wn(x,P,Q,ue);return-1<Ie?(P=x[Ie],M||(P.fa=!1)):(P=new kt(P,this.src,me,!!Q,ue),P.fa=M,x.push(P)),P};function cn(x,P){var M=P.type;if(M in x.g){var Q=x.g[M],ue=Array.prototype.indexOf.call(Q,P,void 0),me;(me=0<=ue)&&Array.prototype.splice.call(Q,ue,1),me&&(jt(P),x.g[M].length==0&&(delete x.g[M],x.h--))}}function Wn(x,P,M,Q){for(var ue=0;ue<x.length;++ue){var me=x[ue];if(!me.da&&me.listener==P&&me.capture==!!M&&me.ha==Q)return ue}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),as={};function xr(x,P,M,Q,ue){if(Q&&Q.once)return Oi(x,P,M,Q,ue);if(Array.isArray(P)){for(var me=0;me<P.length;me++)xr(x,P[me],M,Q,ue);return null}return M=Ge(M),x&&x[Ne]?x.K(P,M,w(Q)?!!Q.capture:!!Q,ue):Hs(x,P,M,!1,Q,ue)}function Hs(x,P,M,Q,ue,me){if(!P)throw Error("Invalid event type");var Ie=w(ue)?!!ue.capture:!!ue,zt=Ve(x);if(zt||(x[Gr]=zt=new Rr(x)),M=zt.add(P,M,Q,Ie,me),M.proxy)return M;if(Q=os(),M.proxy=Q,Q.src=x,Q.listener=M,x.addEventListener)ht||(ue=Ie),ue===void 0&&(ue=!1),x.addEventListener(P.toString(),Q,ue);else if(x.attachEvent)x.attachEvent(pe(P.toString()),Q);else if(x.addListener&&x.removeListener)x.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return M}function os(){function x(M){return P.call(x.src,x.listener,M)}const P=Re;return x}function Oi(x,P,M,Q,ue){if(Array.isArray(P)){for(var me=0;me<P.length;me++)Oi(x,P[me],M,Q,ue);return null}return M=Ge(M),x&&x[Ne]?x.L(P,M,w(Q)?!!Q.capture:!!Q,ue):Hs(x,P,M,!0,Q,ue)}function $s(x,P,M,Q,ue){if(Array.isArray(P))for(var me=0;me<P.length;me++)$s(x,P[me],M,Q,ue);else Q=w(Q)?!!Q.capture:!!Q,M=Ge(M),x&&x[Ne]?(x=x.i,P=String(P).toString(),P in x.g&&(me=x.g[P],M=Wn(me,M,Q,ue),-1<M&&(jt(me[M]),Array.prototype.splice.call(me,M,1),me.length==0&&(delete x.g[P],x.h--)))):x&&(x=Ve(x))&&(P=x.g[P.toString()],x=-1,P&&(x=Wn(P,M,Q,ue)),(M=-1<x?P[x]:null)&&ls(M))}function ls(x){if(typeof x!="number"&&x&&!x.da){var P=x.src;if(P&&P[Ne])cn(P.i,x);else{var M=x.type,Q=x.proxy;P.removeEventListener?P.removeEventListener(M,Q,x.capture):P.detachEvent?P.detachEvent(pe(M),Q):P.addListener&&P.removeListener&&P.removeListener(Q),(M=Ve(P))?(cn(M,x),M.h==0&&(M.src=null,P[Gr]=null)):jt(x)}}}function pe(x){return x in as?as[x]:as[x]="on"+x}function Re(x,P){if(x.da)x=!0;else{P=new _e(P,this);var M=x.listener,Q=x.ha||x.src;x.fa&&ls(x),x=M.call(Q,P)}return x}function Ve(x){return x=x[Gr],x instanceof Rr?x:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(x){return typeof x=="function"?x:(x[We]||(x[We]=function(P){return x.handleEvent(P)}),x[We])}function Ke(){$e.call(this),this.i=new Rr(this),this.M=this,this.F=null}$(Ke,$e),Ke.prototype[Ne]=!0,Ke.prototype.removeEventListener=function(x,P,M,Q){$s(this,x,P,M,Q)};function dt(x,P){var M,Q=x.F;if(Q)for(M=[];Q;Q=Q.F)M.push(Q);if(x=x.M,Q=P.type||P,typeof P=="string")P=new Oe(P,x);else if(P instanceof Oe)P.target=P.target||x;else{var ue=P;P=new Oe(Q,x),ee(P,ue)}if(ue=!0,M)for(var me=M.length-1;0<=me;me--){var Ie=P.g=M[me];ue=un(Ie,Q,!0,P)&&ue}if(Ie=P.g=x,ue=un(Ie,Q,!0,P)&&ue,ue=un(Ie,Q,!1,P)&&ue,M)for(me=0;me<M.length;me++)Ie=P.g=M[me],ue=un(Ie,Q,!1,P)&&ue}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var x=this.i,P;for(P in x.g){for(var M=x.g[P],Q=0;Q<M.length;Q++)jt(M[Q]);delete x.g[P],x.h--}}this.F=null},Ke.prototype.K=function(x,P,M,Q){return this.i.add(String(x),P,!1,M,Q)},Ke.prototype.L=function(x,P,M,Q){return this.i.add(String(x),P,!0,M,Q)};function un(x,P,M,Q){if(P=x.i.g[String(P)],!P)return!0;P=P.concat();for(var ue=!0,me=0;me<P.length;++me){var Ie=P[me];if(Ie&&!Ie.da&&Ie.capture==M){var zt=Ie.listener,Mn=Ie.ha||Ie.src;Ie.fa&&cn(x.i,Ie),ue=zt.call(Mn,Q)!==!1&&ue}}return ue&&!Q.defaultPrevented}function Mi(x,P,M){if(typeof x=="function")M&&(x=I(x,M));else if(x&&typeof x.handleEvent=="function")x=I(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:p.setTimeout(x,P||0)}function kn(x){x.g=Mi(()=>{x.g=null,x.i&&(x.i=!1,kn(x))},x.l);const P=x.h;x.h=null,x.m.apply(null,P)}class Ws extends $e{constructor(P,M){super(),this.m=P,this.l=M,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(x){$e.call(this),this.h=x,this.g={}}$(qr,$e);var Fi=[];function Xs(x){oe(x.g,function(P,M){this.g.hasOwnProperty(M)&&ls(P)},x),x.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Xs(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=p.JSON.stringify,cs=p.JSON.parse,Jo=class{stringify(x){return p.JSON.stringify(x,void 0)}parse(x){return p.JSON.parse(x,void 0)}};function us(){}us.prototype.h=null;function di(x){return x.h||(x.h=x.i())}function Gs(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hs(){Oe.call(this,"d")}$(hs,Oe);function Wa(){Oe.call(this,"c")}$(Wa,Oe);var ce={},de=null;function ye(){return de=de||new Ke}ce.La="serverreachability";function Ce(x){Oe.call(this,ce.La,x)}$(Ce,Oe);function Le(x){const P=ye();dt(P,new Ce(P))}ce.STAT_EVENT="statevent";function st(x,P){Oe.call(this,ce.STAT_EVENT,x),this.stat=P}$(st,Oe);function De(x){const P=ye();dt(P,new st(P,x))}ce.Ma="timingevent";function Fe(x,P){Oe.call(this,ce.Ma,x),this.size=P}$(Fe,Oe);function tt(x,P){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){x()},P)}function Qe(){this.g=!0}Qe.prototype.xa=function(){this.g=!1};function en(x,P,M,Q,ue,me){x.info(function(){if(x.g)if(me)for(var Ie="",zt=me.split("&"),Mn=0;Mn<zt.length;Mn++){var At=zt[Mn].split("=");if(1<At.length){var Gn=At[0];At=At[1];var qn=Gn.split("_");Ie=2<=qn.length&&qn[1]=="type"?Ie+(Gn+"="+At+"&"):Ie+(Gn+"=redacted&")}}else Ie=null;else Ie=me;return"XMLHTTP REQ ("+Q+") [attempt "+ue+"]: "+P+`
`+M+`
`+Ie})}function Vt(x,P,M,Q,ue,me,Ie){x.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+ue+"]: "+P+`
`+M+`
`+me+" "+Ie})}function Ye(x,P,M,Q){x.info(function(){return"XMLHTTP TEXT ("+P+"): "+tn(x,M)+(Q?" "+Q:"")})}function Mt(x,P){x.info(function(){return"TIMEOUT: "+P})}Qe.prototype.info=function(){};function tn(x,P){if(!x.g)return P;if(!P)return null;try{var M=JSON.parse(P);if(M){for(x=0;x<M.length;x++)if(Array.isArray(M[x])){var Q=M[x];if(!(2>Q.length)){var ue=Q[1];if(Array.isArray(ue)&&!(1>ue.length)){var me=ue[0];if(me!="noop"&&me!="stop"&&me!="close")for(var Ie=1;Ie<ue.length;Ie++)ue[Ie]=""}}}}return Ys(M)}catch{return P}}var Kr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function Lr(){}$(Lr,us),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},Qr=new Lr;function Cn(x,P,M,Q){this.j=x,this.i=P,this.l=M,this.R=Q||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var pi={},ji={};function V(x,P,M){x.L=1,x.v=he(G(P)),x.m=M,x.P=!0,i(x,null)}function i(x,P){x.F=Date.now(),c(x),x.A=G(x.v);var M=x.A,Q=x.R;Array.isArray(Q)||(Q=[String(Q)]),St(M.i,"t",Q),x.C=0,M=x.j.J,x.h=new Xn,x.g=eb(x.j,M?P:null,!x.m),0<x.O&&(x.M=new Ws(I(x.Y,x,x.g),x.O)),P=x.U,M=x.g,Q=x.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(Fi[0]=ue.toString()),ue=Fi);for(var me=0;me<ue.length;me++){var Ie=xr(M,ue[me],Q||P.handleEvent,!1,P.h||P);if(!Ie)break;P.g[Ie.key]=Ie}P=x.H?W(x.H):{},x.m?(x.u||(x.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,P)):(x.u="GET",x.g.ea(x.A,x.u,null,P)),Le(),en(x.i,x.u,x.A,x.l,x.R,x.m)}Cn.prototype.ca=function(x){x=x.target;const P=this.M;P&&ds(x)==3?P.j():this.Y(x)},Cn.prototype.Y=function(x){try{if(x==this.g)e:{const qn=ds(this.g);var P=this.g.Ba();const nl=this.g.Z();if(!(3>qn)&&(qn!=3||this.g&&(this.h.h||this.g.oa()||H0(this.g)))){this.J||qn!=4||P==7||(P==8||0>=nl?Le(3):Le(2)),d(this);var M=this.g.Z();this.X=M;t:if(s(this)){var Q=H0(this.g);x="";var ue=Q.length,me=ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){g(this),f(this);var Ie="";break t}this.h.i=new p.TextDecoder}for(P=0;P<ue;P++)this.h.h=!0,x+=this.h.i.decode(Q[P],{stream:!(me&&P==ue-1)});Q.length=0,this.h.g+=x,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=M==200,Vt(this.i,this.u,this.A,this.l,this.R,qn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,Mn=this.g;if((zt=Mn.g?Mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(zt)){var At=zt;break t}}At=null}if(M=At)Ye(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,y(this,M);else{this.o=!1,this.s=3,De(12),g(this),f(this);break e}}if(this.P){M=!0;let gi;for(;!this.J&&this.C<Ie.length;)if(gi=o(this,Ie),gi==ji){qn==4&&(this.s=4,De(14),M=!1),Ye(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==pi){this.s=4,De(15),Ye(this.i,this.l,Ie,"[Invalid Chunk]"),M=!1;break}else Ye(this.i,this.l,gi,null),y(this,gi);if(s(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qn!=4||Ie.length!=0||this.h.h||(this.s=1,De(16),M=!1),this.o=this.o&&M,!M)Ye(this.i,this.l,Ie,"[Invalid Chunked Response]"),g(this),f(this);else if(0<Ie.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),hg(Gn),Gn.M=!0,De(11))}}else Ye(this.i,this.l,Ie,null),y(this,Ie);qn==4&&g(this),this.o&&!this.J&&(qn==4?K0(this.j,this):(this.o=!1,c(this)))}else rR(this.g),M==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),g(this),f(this)}}}catch{}finally{}};function s(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function o(x,P){var M=x.C,Q=P.indexOf(`
`,M);return Q==-1?ji:(M=Number(P.substring(M,Q)),isNaN(M)?pi:(Q+=1,Q+M>P.length?ji:(P=P.slice(Q,Q+M),x.C=Q+M,P)))}Cn.prototype.cancel=function(){this.J=!0,g(this)};function c(x){x.S=Date.now()+x.I,h(x,x.I)}function h(x,P){if(x.B!=null)throw Error("WatchDog timer not null");x.B=tt(I(x.ba,x),P)}function d(x){x.B&&(p.clearTimeout(x.B),x.B=null)}Cn.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(Mt(this.i,this.A),this.L!=2&&(Le(),De(17)),g(this),this.s=2,f(this)):h(this,this.S-x)};function f(x){x.j.G==0||x.J||K0(x.j,x)}function g(x){d(x);var P=x.M;P&&typeof P.ma=="function"&&P.ma(),x.M=null,Xs(x.U),x.g&&(P=x.g,x.g=null,P.abort(),P.ma())}function y(x,P){try{var M=x.j;if(M.G!=0&&(M.g==x||C(M.h,x))){if(!x.K&&C(M.h,x)&&M.G==3){try{var Q=M.Da.g.parse(P)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var ue=Q;if(ue[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<x.F)Uh(M),Vh(M);else break e;ug(M),De(18)}}else M.za=ue[1],0<M.za-M.T&&37500>ue[2]&&M.F&&M.v==0&&!M.C&&(M.C=tt(I(M.Za,M),6e3));if(1>=k(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Ya(M,11)}else if((x.K||M.g==x)&&Uh(M),!L(P))for(ue=M.Da.g.parse(P),P=0;P<ue.length;P++){let At=ue[P];if(M.T=At[0],At=At[1],M.G==2)if(At[0]=="c"){M.K=At[1],M.ia=At[2];const Gn=At[3];Gn!=null&&(M.la=Gn,M.j.info("VER="+M.la));const qn=At[4];qn!=null&&(M.Aa=qn,M.j.info("SVER="+M.Aa));const nl=At[5];nl!=null&&typeof nl=="number"&&0<nl&&(Q=1.5*nl,M.L=Q,M.j.info("backChannelRequestTimeoutMs_="+Q)),Q=M;const gi=x.g;if(gi){const Hh=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hh){var me=Q.h;me.g||Hh.indexOf("spdy")==-1&&Hh.indexOf("quic")==-1&&Hh.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(R(me,me.h),me.h=null))}if(Q.D){const dg=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;dg&&(Q.ya=dg,fe(Q.I,Q.D,dg))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-x.F,M.j.info("Handshake RTT: "+M.R+"ms")),Q=M;var Ie=x;if(Q.qa=J0(Q,Q.J?Q.ia:null,Q.W),Ie.K){O(Q.h,Ie);var zt=Ie,Mn=Q.L;Mn&&(zt.I=Mn),zt.B&&(d(zt),c(zt)),Q.g=Ie}else G0(Q);0<M.i.length&&zh(M)}else At[0]!="stop"&&At[0]!="close"||Ya(M,7);else M.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Ya(M,7):cg(M):At[0]!="noop"&&M.l&&M.l.ta(At),M.v=0)}}Le(4)}catch{}}var b=class{constructor(x,P){this.g=x,this.map=P}};function S(x){this.l=x||10,p.PerformanceNavigationTiming?(x=p.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function k(x){return x.h?1:x.g?x.g.size:0}function C(x,P){return x.h?x.h==P:x.g?x.g.has(P):!1}function R(x,P){x.g?x.g.add(P):x.h=P}function O(x,P){x.h&&x.h==P?x.h=null:x.g&&x.g.has(P)&&x.g.delete(P)}S.prototype.cancel=function(){if(this.i=F(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function F(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let P=x.i;for(const M of x.g.values())P=P.concat(M.D);return P}return q(x.i)}function U(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(m(x)){for(var P=[],M=x.length,Q=0;Q<M;Q++)P.push(x[Q]);return P}P=[],M=0;for(Q in x)P[M++]=x[Q];return P}function v(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(m(x)||typeof x=="string"){var P=[];x=x.length;for(var M=0;M<x;M++)P.push(M);return P}P=[],M=0;for(const Q in x)P[M++]=Q;return P}}}function E(x,P){if(x.forEach&&typeof x.forEach=="function")x.forEach(P,void 0);else if(m(x)||typeof x=="string")Array.prototype.forEach.call(x,P,void 0);else for(var M=v(x),Q=U(x),ue=Q.length,me=0;me<ue;me++)P.call(void 0,Q[me],M&&M[me],x)}var N=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H(x,P){if(x){x=x.split("&");for(var M=0;M<x.length;M++){var Q=x[M].indexOf("="),ue=null;if(0<=Q){var me=x[M].substring(0,Q);ue=x[M].substring(Q+1)}else me=x[M];P(me,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function B(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof B){this.h=x.h,ae(this,x.j),this.o=x.o,this.g=x.g,se(this,x.s),this.l=x.l;var P=x.i,M=new Pt;M.i=P.i,P.g&&(M.g=new Map(P.g),M.h=P.h),ge(this,M),this.m=x.m}else x&&(P=String(x).match(N))?(this.h=!1,ae(this,P[1]||"",!0),this.o=ve(P[2]||""),this.g=ve(P[3]||"",!0),se(this,P[4]),this.l=ve(P[5]||"",!0),ge(this,P[6]||"",!0),this.m=ve(P[7]||"")):(this.h=!1,this.i=new Pt(null,this.h))}B.prototype.toString=function(){var x=[],P=this.j;P&&x.push(Te(P,Be,!0),":");var M=this.g;return(M||P=="file")&&(x.push("//"),(P=this.o)&&x.push(Te(P,Be,!0),"@"),x.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&x.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&x.push("/"),x.push(Te(M,M.charAt(0)=="/"?it:qe,!0))),(M=this.i.toString())&&x.push("?",M),(M=this.m)&&x.push("#",Te(M,ft)),x.join("")};function G(x){return new B(x)}function ae(x,P,M){x.j=M?ve(P,!0):P,x.j&&(x.j=x.j.replace(/:$/,""))}function se(x,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);x.s=P}else x.s=null}function ge(x,P,M){P instanceof Pt?(x.i=P,Tt(x.i,x.h)):(M||(P=Te(P,nt)),x.i=new Pt(P,x.h))}function fe(x,P,M){x.i.set(P,M)}function he(x){return fe(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function ve(x,P){return x?P?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Te(x,P,M){return typeof x=="string"?(x=encodeURI(x).replace(P,Me),M&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Me(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Be=/[#\/\?@]/g,qe=/[#\?:]/g,it=/[#\?]/g,nt=/[#\?@]/g,ft=/#/g;function Pt(x,P){this.h=this.g=null,this.i=x||null,this.j=!!P}function Ct(x){x.g||(x.g=new Map,x.h=0,x.i&&H(x.i,function(P,M){x.add(decodeURIComponent(P.replace(/\+/g," ")),M)}))}t=Pt.prototype,t.add=function(x,P){Ct(this),this.i=null,x=mt(this,x);var M=this.g.get(x);return M||this.g.set(x,M=[]),M.push(P),this.h+=1,this};function Nt(x,P){Ct(x),P=mt(x,P),x.g.has(P)&&(x.i=null,x.h-=x.g.get(P).length,x.g.delete(P))}function Yn(x,P){return Ct(x),P=mt(x,P),x.g.has(P)}t.forEach=function(x,P){Ct(this),this.g.forEach(function(M,Q){M.forEach(function(ue){x.call(P,ue,Q,this)},this)},this)},t.na=function(){Ct(this);const x=Array.from(this.g.values()),P=Array.from(this.g.keys()),M=[];for(let Q=0;Q<P.length;Q++){const ue=x[Q];for(let me=0;me<ue.length;me++)M.push(P[Q])}return M},t.V=function(x){Ct(this);let P=[];if(typeof x=="string")Yn(this,x)&&(P=P.concat(this.g.get(mt(this,x))));else{x=Array.from(this.g.values());for(let M=0;M<x.length;M++)P=P.concat(x[M])}return P},t.set=function(x,P){return Ct(this),this.i=null,x=mt(this,x),Yn(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[P]),this.h+=1,this},t.get=function(x,P){return x?(x=this.V(x),0<x.length?String(x[0]):P):P};function St(x,P,M){Nt(x,P),0<M.length&&(x.i=null,x.g.set(mt(x,P),q(M)),x.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],P=Array.from(this.g.keys());for(var M=0;M<P.length;M++){var Q=P[M];const me=encodeURIComponent(String(Q)),Ie=this.V(Q);for(Q=0;Q<Ie.length;Q++){var ue=me;Ie[Q]!==""&&(ue+="="+encodeURIComponent(String(Ie[Q]))),x.push(ue)}}return this.i=x.join("&")};function mt(x,P){return P=String(P),x.j&&(P=P.toLowerCase()),P}function Tt(x,P){P&&!x.j&&(Ct(x),x.i=null,x.g.forEach(function(M,Q){var ue=Q.toLowerCase();Q!=ue&&(Nt(this,Q),St(this,ue,M))},x)),x.j=P}function Tn(x,P){const M=new Qe;if(p.Image){const Q=new Image;Q.onload=z(Sn,M,"TestLoadImage: loaded",!0,P,Q),Q.onerror=z(Sn,M,"TestLoadImage: error",!1,P,Q),Q.onabort=z(Sn,M,"TestLoadImage: abort",!1,P,Q),Q.ontimeout=z(Sn,M,"TestLoadImage: timeout",!1,P,Q),p.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=x}else P(!1)}function In(x,P){const M=new Qe,Q=new AbortController,ue=setTimeout(()=>{Q.abort(),Sn(M,"TestPingServer: timeout",!1,P)},1e4);fetch(x,{signal:Q.signal}).then(me=>{clearTimeout(ue),me.ok?Sn(M,"TestPingServer: ok",!0,P):Sn(M,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ue),Sn(M,"TestPingServer: error",!1,P)})}function Sn(x,P,M,Q,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),Q(M)}catch{}}function Xa(){this.g=new Jo}function On(x,P,M){const Q=M||"";try{E(x,function(ue,me){let Ie=ue;w(ue)&&(Ie=Ys(ue)),P.push(Q+me+"="+encodeURIComponent(Ie))})}catch(ue){throw P.push(Q+"type="+encodeURIComponent("_badmap")),ue}}function lr(x){this.l=x.Ub||null,this.j=x.eb||!1}$(lr,us),lr.prototype.g=function(){return new el(this.l,this.j)},lr.prototype.i=function(x){return function(){return x}}({});function el(x,P){Ke.call(this),this.D=x,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(el,Ke),t=el.prototype,t.open=function(x,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=P,this.readyState=1,Rc(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(P.body=x),(this.D||p).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pc(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Rc(this)),this.g&&(this.readyState=3,Rc(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;F0(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function F0(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var P=x.value?x.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!x.done}))&&(this.response=this.responseText+=P)}x.done?Pc(this):Rc(this),this.readyState==3&&F0(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,Pc(this))},t.Qa=function(x){this.g&&(this.response=x,Pc(this))},t.ga=function(){this.g&&Pc(this)};function Pc(x){x.readyState=4,x.l=null,x.j=null,x.v=null,Rc(x)}t.setRequestHeader=function(x,P){this.u.append(x,P)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],P=this.h.entries();for(var M=P.next();!M.done;)M=M.value,x.push(M[0]+": "+M[1]),M=P.next();return x.join(`\r
`)};function Rc(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(el.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function j0(x){let P="";return oe(x,function(M,Q){P+=Q,P+=":",P+=M,P+=`\r
`}),P}function lg(x,P,M){e:{for(Q in M){var Q=!1;break e}Q=!0}Q||(M=j0(M),typeof x=="string"?M!=null&&encodeURIComponent(String(M)):fe(x,P,M))}function hn(x){Ke.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(hn,Ke);var tR=/^https?$/i,nR=["POST","PUT"];t=hn.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,P,M,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);P=P?P.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?di(this.o):di(Qr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(P,String(x),!0),this.B=!1}catch(me){V0(this,me);return}if(x=M||"",M=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var ue in Q)M.set(ue,Q[ue]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const me of Q.keys())M.set(me,Q.get(me));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(M.keys()).find(me=>me.toLowerCase()=="content-type"),ue=p.FormData&&x instanceof p.FormData,!(0<=Array.prototype.indexOf.call(nR,P,void 0))||Q||ue||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Ie]of M)this.g.setRequestHeader(me,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{B0(this),this.u=!0,this.g.send(x),this.u=!1}catch(me){V0(this,me)}};function V0(x,P){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=P,x.m=5,z0(x),jh(x)}function z0(x){x.A||(x.A=!0,dt(x,"complete"),dt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,dt(this,"complete"),dt(this,"abort"),jh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jh(this,!0)),hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?U0(this):this.bb())},t.bb=function(){U0(this)};function U0(x){if(x.h&&typeof u<"u"&&(!x.v[1]||ds(x)!=4||x.Z()!=2)){if(x.u&&ds(x)==4)Mi(x.Ea,0,x);else if(dt(x,"readystatechange"),ds(x)==4){x.h=!1;try{const Ie=x.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var M;if(!(M=P)){var Q;if(Q=Ie===0){var ue=String(x.D).match(N)[1]||null;!ue&&p.self&&p.self.location&&(ue=p.self.location.protocol.slice(0,-1)),Q=!tR.test(ue?ue.toLowerCase():"")}M=Q}if(M)dt(x,"complete"),dt(x,"success");else{x.m=6;try{var me=2<ds(x)?x.g.statusText:""}catch{me=""}x.l=me+" ["+x.Z()+"]",z0(x)}}finally{jh(x)}}}}function jh(x,P){if(x.g){B0(x);const M=x.g,Q=x.v[0]?()=>{}:null;x.g=null,x.v=null,P||dt(x,"ready");try{M.onreadystatechange=Q}catch{}}}function B0(x){x.I&&(p.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function ds(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<ds(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var P=this.g.responseText;return x&&P.indexOf(x)==0&&(P=P.substring(x.length)),cs(P)}};function H0(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function rR(x){const P={};x=(x.g&&2<=ds(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<x.length;Q++){if(L(x[Q]))continue;var M=ie(x[Q]);const ue=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const me=P[ue]||[];P[ue]=me,me.push(M)}j(P,function(Q){return Q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(x,P,M){return M&&M.internalChannelParams&&M.internalChannelParams[x]||P}function $0(x){this.Aa=0,this.i=[],this.j=new Qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nc("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nc("baseRetryDelayMs",5e3,x),this.cb=Nc("retryDelaySeedMs",1e4,x),this.Wa=Nc("forwardChannelMaxRetries",2,x),this.wa=Nc("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new S(x&&x.concurrentRequestLimit),this.Da=new Xa,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$0.prototype,t.la=8,t.G=1,t.connect=function(x,P,M,Q){De(0),this.W=x,this.H=P||{},M&&Q!==void 0&&(this.H.OSID=M,this.H.OAID=Q),this.F=this.X,this.I=J0(this,null,this.W),zh(this)};function cg(x){if(W0(x),x.G==3){var P=x.U++,M=G(x.I);if(fe(M,"SID",x.K),fe(M,"RID",P),fe(M,"TYPE","terminate"),Lc(x,M),P=new Cn(x,x.j,P),P.L=2,P.v=he(G(M)),M=!1,p.navigator&&p.navigator.sendBeacon)try{M=p.navigator.sendBeacon(P.v.toString(),"")}catch{}!M&&p.Image&&(new Image().src=P.v,M=!0),M||(P.g=eb(P.j,null),P.g.ea(P.v)),P.F=Date.now(),c(P)}Z0(x)}function Vh(x){x.g&&(hg(x),x.g.cancel(),x.g=null)}function W0(x){Vh(x),x.u&&(p.clearTimeout(x.u),x.u=null),Uh(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&p.clearTimeout(x.s),x.s=null)}function zh(x){if(!_(x.h)&&!x.s){x.s=!0;var P=x.Ga;Kt||Ae(),Se||(Kt(),Se=!0),Ue.add(P,x),x.B=0}}function iR(x,P){return k(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=P.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=tt(I(x.Ga,x,P),Q0(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const ue=new Cn(this,this.j,x);let me=this.o;if(this.S&&(me?(me=W(me),ee(me,this.S)):me=this.S),this.m!==null||this.O||(ue.H=me,me=null),this.P)e:{for(var P=0,M=0;M<this.i.length;M++){t:{var Q=this.i[M];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(P+=Q,4096<P){P=M;break e}if(P===4096||M===this.i.length-1){P=M+1;break e}}P=1e3}else P=1e3;P=Y0(this,ue,P),M=G(this.I),fe(M,"RID",x),fe(M,"CVER",22),this.D&&fe(M,"X-HTTP-Session-Id",this.D),Lc(this,M),me&&(this.O?P="headers="+encodeURIComponent(String(j0(me)))+"&"+P:this.m&&lg(M,this.m,me)),R(this.h,ue),this.Ua&&fe(M,"TYPE","init"),this.P?(fe(M,"$req",P),fe(M,"SID","null"),ue.T=!0,V(ue,M,null)):V(ue,M,P),this.G=2}}else this.G==3&&(x?X0(this,x):this.i.length==0||_(this.h)||X0(this))};function X0(x,P){var M;P?M=P.l:M=x.U++;const Q=G(x.I);fe(Q,"SID",x.K),fe(Q,"RID",M),fe(Q,"AID",x.T),Lc(x,Q),x.m&&x.o&&lg(Q,x.m,x.o),M=new Cn(x,x.j,M,x.B+1),x.m===null&&(M.H=x.o),P&&(x.i=P.D.concat(x.i)),P=Y0(x,M,1e3),M.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),R(x.h,M),V(M,Q,P)}function Lc(x,P){x.H&&oe(x.H,function(M,Q){fe(P,Q,M)}),x.l&&E({},function(M,Q){fe(P,Q,M)})}function Y0(x,P,M){M=Math.min(x.i.length,M);var Q=x.l?I(x.l.Na,x.l,x):null;e:{var ue=x.i;let me=-1;for(;;){const Ie=["count="+M];me==-1?0<M?(me=ue[0].g,Ie.push("ofs="+me)):me=0:Ie.push("ofs="+me);let zt=!0;for(let Mn=0;Mn<M;Mn++){let At=ue[Mn].g;const Gn=ue[Mn].map;if(At-=me,0>At)me=Math.max(0,ue[Mn].g-100),zt=!1;else try{On(Gn,Ie,"req"+At+"_")}catch{Q&&Q(Gn)}}if(zt){Q=Ie.join("&");break e}}}return x=x.i.splice(0,M),P.D=x,Q}function G0(x){if(!x.g&&!x.u){x.Y=1;var P=x.Fa;Kt||Ae(),Se||(Kt(),Se=!0),Ue.add(P,x),x.v=0}}function ug(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=tt(I(x.Fa,x),Q0(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,q0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=tt(I(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Vh(this),q0(this))};function hg(x){x.A!=null&&(p.clearTimeout(x.A),x.A=null)}function q0(x){x.g=new Cn(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var P=G(x.qa);fe(P,"RID","rpc"),fe(P,"SID",x.K),fe(P,"AID",x.T),fe(P,"CI",x.F?"0":"1"),!x.F&&x.ja&&fe(P,"TO",x.ja),fe(P,"TYPE","xmlhttp"),Lc(x,P),x.m&&x.o&&lg(P,x.m,x.o),x.L&&(x.g.I=x.L);var M=x.g;x=x.ia,M.L=1,M.v=he(G(P)),M.m=null,M.P=!0,i(M,x)}t.Za=function(){this.C!=null&&(this.C=null,Vh(this),ug(this),De(19))};function Uh(x){x.C!=null&&(p.clearTimeout(x.C),x.C=null)}function K0(x,P){var M=null;if(x.g==P){Uh(x),hg(x),x.g=null;var Q=2}else if(C(x.h,P))M=P.D,O(x.h,P),Q=1;else return;if(x.G!=0){if(P.o)if(Q==1){M=P.m?P.m.length:0,P=Date.now()-P.F;var ue=x.B;Q=ye(),dt(Q,new Fe(Q,M)),zh(x)}else G0(x);else if(ue=P.s,ue==3||ue==0&&0<P.X||!(Q==1&&iR(x,P)||Q==2&&ug(x)))switch(M&&0<M.length&&(P=x.h,P.i=P.i.concat(M)),ue){case 1:Ya(x,5);break;case 4:Ya(x,10);break;case 3:Ya(x,6);break;default:Ya(x,2)}}}function Q0(x,P){let M=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(M*=2),M*P}function Ya(x,P){if(x.j.info("Error code "+P),P==2){var M=I(x.fb,x),Q=x.Xa;const ue=!Q;Q=new B(Q||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ae(Q,"https"),he(Q),ue?Tn(Q.toString(),M):In(Q.toString(),M)}else De(2);x.G=0,x.l&&x.l.sa(P),Z0(x),W0(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Z0(x){if(x.G=0,x.ka=[],x.l){const P=F(x.h);(P.length!=0||x.i.length!=0)&&(Z(x.ka,P),Z(x.ka,x.i),x.h.i.length=0,q(x.i),x.i.length=0),x.l.ra()}}function J0(x,P,M){var Q=M instanceof B?G(M):new B(M);if(Q.g!="")P&&(Q.g=P+"."+Q.g),se(Q,Q.s);else{var ue=p.location;Q=ue.protocol,P=P?P+"."+ue.hostname:ue.hostname,ue=+ue.port;var me=new B(null);Q&&ae(me,Q),P&&(me.g=P),ue&&se(me,ue),M&&(me.l=M),Q=me}return M=x.D,P=x.ya,M&&P&&fe(Q,M,P),fe(Q,"VER",x.la),Lc(x,Q),Q}function eb(x,P,M){if(P&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=x.Ca&&!x.pa?new hn(new lr({eb:M})):new hn(x.pa),P.Ha(x.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tb(){}t=tb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bh(){}Bh.prototype.g=function(x,P){return new Dr(x,P)};function Dr(x,P){Ke.call(this),this.g=new $0(P),this.l=x,this.h=P&&P.messageUrlParams||null,x=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(x?x["X-WebChannel-Content-Type"]=P.messageContentType:x={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(x?x["X-WebChannel-Client-Profile"]=P.va:x={"X-WebChannel-Client-Profile":P.va}),this.g.S=x,(x=P&&P.Sb)&&!L(x)&&(this.g.m=x),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!L(P)&&(this.g.D=P,x=this.h,x!==null&&P in x&&(x=this.h,P in x&&delete x[P])),this.j=new tl(this)}$(Dr,Ke),Dr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dr.prototype.close=function(){cg(this.g)},Dr.prototype.o=function(x){var P=this.g;if(typeof x=="string"){var M={};M.__data__=x,x=M}else this.u&&(M={},M.__data__=Ys(x),x=M);P.i.push(new b(P.Ya++,x)),P.G==3&&zh(P)},Dr.prototype.N=function(){this.g.l=null,delete this.j,cg(this.g),delete this.g,Dr.aa.N.call(this)};function nb(x){hs.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var P=x.__sm__;if(P){e:{for(const M in P){x=M;break e}x=void 0}(this.i=x)&&(x=this.i,P=P!==null&&x in P?P[x]:void 0),this.data=P}else this.data=x}$(nb,hs);function rb(){Wa.call(this),this.status=1}$(rb,Wa);function tl(x){this.g=x}$(tl,tb),tl.prototype.ua=function(){dt(this.g,"a")},tl.prototype.ta=function(x){dt(this.g,new nb(x))},tl.prototype.sa=function(x){dt(this.g,new rb)},tl.prototype.ra=function(){dt(this.g,"b")},Bh.prototype.createWebChannel=Bh.prototype.g,Dr.prototype.send=Dr.prototype.o,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,OC=function(){return new Bh},DC=function(){return ye()},LC=ce,Nv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,zd=Kr,Nr.COMPLETE="complete",NC=Nr,Gs.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,iu=Gs,RC=lr,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,PC=hn}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const C1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new pp("@firebase/firestore");function Gc(){return No.logLevel}function He(t,...e){if(No.logLevel<=bt.DEBUG){const n=e.map(Cx);No.debug(`Firestore (${Sc}): ${t}`,...n)}}function Ds(t,...e){if(No.logLevel<=bt.ERROR){const n=e.map(Cx);No.error(`Firestore (${Sc}): ${t}`,...n)}}function cc(t,...e){if(No.logLevel<=bt.WARN){const n=e.map(Cx);No.warn(`Firestore (${Sc}): ${t}`,...n)}}function Cx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+t;throw Ds(e),new Error(e)}function Ht(t,e){t||ot()}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class Zj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jj{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ts,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},p=m=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ts)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string"),new MC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new tr(e)}}class eV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=l=>{l.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,He("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ht(typeof n.token=="string"),this.R=n.token,new nV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=iV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%e.length))}return r}}function It(t,e){return t<e?-1:t>e?1:0}function uc(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new je(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new an(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new an(0,0))}static max(){return new ct(new an(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(),r===void 0?r=e.length-n:r>e.length-n&&ot(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=e.get(a),u=n.get(a);if(l<u)return-1;if(l>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xt extends Qu{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const sV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Qu{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return sV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new je(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new je(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new je(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else p==="`"?(u=!u,a++):p!=="."||u?(r+=p,a++):(l(),a++)}if(l(),u)throw new je(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(Xt.fromString(e))}static fromName(e){return new Ze(Xt.fromString(e).popFirst(5))}static empty(){return new Ze(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new Xt(e.slice()))}}function aV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ct.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new Ra(a,Ze.empty(),e)}function oV(t){return new Ra(t.readTime,t.key,-1)}class Ra{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ra(ct.min(),Ze.empty(),-1)}static max(){return new Ra(ct.max(),Ze.empty(),-1)}}function lV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ze.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==cV)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.reject(n)}static resolve(e){return new Ee((n,r)=>{n(e)})}static reject(e){return new Ee((n,r)=>{r(e)})}static waitFor(e){return new Ee((n,r)=>{let a=0,l=0,u=!1;e.forEach(p=>{++a,p.next(()=>{++l,u&&l===a&&n()},m=>r(m))}),u=!0,l===a&&n()})}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next(a=>a?Ee.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new Ee((r,a)=>{const l=e.length,u=new Array(l);let p=0;for(let m=0;m<l;m++){const w=m;n(e[w]).next(A=>{u[w]=A,++p,p===l&&r(u)},A=>a(A))}})}static doWhile(e,n){return new Ee((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function hV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tx.oe=-1;function bp(t){return t==null}function Rf(t){return t===0&&1/t==-1/0}function dV(t){return typeof t=="number"&&Number.isInteger(t)&&!Rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new md(this.root,e,this.comparator,!1)}getReverseIterator(){return new md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new md(this.root,e,this.comparator,!0)}}class md{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Vn.RED,this.left=a??Vn.EMPTY,this.right=l??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Vn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Vn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,n,r,a,l){return this}insert(e,n,r){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new I1(this.data.getIterator())}getIteratorFrom(e){return new I1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class I1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new Bn(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VC("Invalid base64 string: "+l):l}}(e);return new ar(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const fV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(t){if(Ht(!!t),typeof t=="string"){let e=0;const n=fV.exec(t);if(Ht(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Px(t){const e=t.mapValue.fields.__previous_value__;return Ix(e)?Px(e):e}function Zu(t){const e=Na(t.mapValue.fields.__local_write_time__.timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,a,l,u,p,m,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=w}}class Ju{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ix(t)?4:gV(t)?9007199254740991:10:ot()}function es(t,e){if(t===e)return!0;const n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Na(a.timestampValue),p=Na(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Lo(a.bytesValue).isEqual(Lo(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return yn(a.geoPointValue.latitude)===yn(l.geoPointValue.latitude)&&yn(a.geoPointValue.longitude)===yn(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return yn(a.integerValue)===yn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=yn(a.doubleValue),p=yn(l.doubleValue);return u===p?Rf(u)===Rf(p):isNaN(u)&&isNaN(p)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:return function(a,l){const u=a.mapValue.fields||{},p=l.mapValue.fields||{};if(T1(u)!==T1(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!es(u[m],p[m])))return!1;return!0}(t,e);default:return ot()}}function eh(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=Do(t),r=Do(e);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return function(l,u){const p=yn(l.integerValue||l.doubleValue),m=yn(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(t,e);case 3:return P1(t.timestampValue,e.timestampValue);case 4:return P1(Zu(t),Zu(e));case 5:return It(t.stringValue,e.stringValue);case 6:return function(l,u){const p=Lo(l),m=Lo(u);return p.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const p=l.split("/"),m=u.split("/");for(let w=0;w<p.length&&w<m.length;w++){const A=It(p[w],m[w]);if(A!==0)return A}return It(p.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const p=It(yn(l.latitude),yn(u.latitude));return p!==0?p:It(yn(l.longitude),yn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(l,u){const p=l.values||[],m=u.values||[];for(let w=0;w<p.length&&w<m.length;++w){const A=hc(p[w],m[w]);if(A)return A}return It(p.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===vd.mapValue&&u===vd.mapValue)return 0;if(l===vd.mapValue)return 1;if(u===vd.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),w=u.fields||{},A=Object.keys(w);m.sort(),A.sort();for(let T=0;T<m.length&&T<A.length;++T){const I=It(m[T],A[T]);if(I!==0)return I;const z=hc(p[m[T]],w[A[T]]);if(z!==0)return z}return It(m.length,A.length)}(t.mapValue,e.mapValue);default:throw ot()}}function P1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);const n=Na(t),r=Na(e),a=It(n.seconds,r.seconds);return a!==0?a:It(n.nanos,r.nanos)}function dc(t){return Lv(t)}function Lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Na(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Lv(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Lv(n.fields[u])}`;return a+"}"}(t.mapValue):ot()}function R1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dv(t){return!!t&&"integerValue"in t}function Rx(t){return!!t&&"arrayValue"in t}function N1(t){return!!t&&"nullValue"in t}function L1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ud(t){return!!t&&"mapValue"in t}function wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=zn.emptyPath(),r={},a=[];e.forEach((u,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=p.popLast()}u?r[p.lastSegment()]=wu(u):a.push(p.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ud(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new _r(wu(this.value))}}function zC(t){const e=[];return Wo(t.fields,(n,r)=>{const a=new zn([n]);if(Ud(r)){const l=zC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,a,l,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new rr(e,0,ct.min(),ct.min(),ct.min(),_r.empty(),0)}static newFoundDocument(e,n,r,a){return new rr(e,1,n,ct.min(),r,a,0)}static newNoDocument(e,n){return new rr(e,2,n,ct.min(),ct.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,ct.min(),ct.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function D1(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=Ze.comparator(Ze.fromName(u.referenceValue),n.key):r=hc(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function O1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n="asc"){this.field=e,this.dir=n}}function mV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{}class bn extends UC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yV(e,n,r):n==="array-contains"?new wV(e,r):n==="in"?new SV(e,r):n==="not-in"?new _V(e,r):n==="array-contains-any"?new EV(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xV(e,r):new bV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hc(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends UC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ri(e,n)}matches(e){return BC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BC(t){return t.op==="and"}function HC(t){return vV(t)&&BC(t)}function vV(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function Ov(t){if(t instanceof bn)return t.field.canonicalString()+t.op.toString()+dc(t.value);if(HC(t))return t.filters.map(e=>Ov(e)).join(",");{const e=t.filters.map(n=>Ov(n)).join(",");return`${t.op}(${e})`}}function $C(t,e){return t instanceof bn?function(r,a){return a instanceof bn&&r.op===a.op&&r.field.isEqual(a.field)&&es(r.value,a.value)}(t,e):t instanceof Ri?function(r,a){return a instanceof Ri&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,p)=>l&&$C(u,a.filters[p]),!0):!1}(t,e):void ot()}function WC(t){return t instanceof bn?function(n){return`${n.field.canonicalString()} ${n.op} ${dc(n.value)}`}(t):t instanceof Ri?function(n){return n.op.toString()+" {"+n.getFilters().map(WC).join(" ,")+"}"}(t):"Filter"}class yV extends bn{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class xV extends bn{constructor(e,n){super(e,"in",n),this.keys=XC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bV extends bn{constructor(e,n){super(e,"not-in",n),this.keys=XC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class wV extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rx(n)&&eh(n.arrayValue,this.value)}}class SV extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class _V extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eh(this.value.arrayValue,n)}}class EV extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n=null,r=[],a=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=p,this.ue=null}}function M1(t,e=null,n=[],r=[],a=null,l=null,u=null){return new AV(t,e,n,r,a,l,u)}function Nx(t){const e=ut(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ov(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),bp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dc(r)).join(",")),e.ue=n}return e.ue}function Lx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$C(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O1(t.startAt,e.startAt)&&O1(t.endAt,e.endAt)}function Mv(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,r=[],a=[],l=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kV(t,e,n,r,a,l,u,p){return new _c(t,e,n,r,a,l,u,p)}function Dx(t){return new _c(t)}function F1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YC(t){return t.collectionGroup!==null}function Su(t){const e=ut(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Bn(zn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(w=>{w.isInequality()&&(p=p.add(w.field))})}),p})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new th(l,r))}),n.has(zn.keyField().canonicalString())||e.ce.push(new th(zn.keyField(),r))}return e.ce}function Qi(t){const e=ut(t);return e.le||(e.le=CV(e,Su(t))),e.le}function CV(t,e){if(t.limitType==="F")return M1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new th(a.field,l)});const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return M1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fv(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lf(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return Lx(Qi(t),Qi(e))&&t.limitType===e.limitType}function GC(t){return`${Nx(Qi(t))}|lt:${t.limitType}`}function ul(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>WC(a)).join(", ")}]`),bp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>dc(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>dc(a)).join(",")),`Target(${r})`}(Qi(t))}; limitType=${t.limitType})`}function Sp(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ze.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of Su(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,p,m){const w=D1(u,p,m);return u.inclusive?w<=0:w<0}(r.startAt,Su(r),a)||r.endAt&&!function(u,p,m){const w=D1(u,p,m);return u.inclusive?w>=0:w>0}(r.endAt,Su(r),a))}(t,e)}function TV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qC(t){return(e,n)=>{let r=!1;for(const a of Su(t)){const l=IV(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function IV(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):function(l,u,p){const m=u.data.field(l),w=p.data.field(l);return m!==null&&w!==null?hc(m,w):ot()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return jC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new ln(Ze.comparator);function Os(){return PV}const KC=new ln(Ze.comparator);function su(...t){let e=KC;for(const n of t)e=e.insert(n.key,n);return e}function QC(t){let e=KC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oo(){return _u()}function ZC(){return _u()}function _u(){return new Ec(t=>t.toString(),(t,e)=>t.isEqual(e))}const RV=new ln(Ze.comparator),NV=new Bn(Ze.comparator);function yt(...t){let e=NV;for(const n of t)e=e.add(n);return e}const LV=new Bn(It);function DV(){return LV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function eT(t){return{integerValue:""+t}}function OV(t,e){return dV(e)?eT(e):JC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function MV(t,e,n){return t instanceof Df?function(a,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ix(l)&&(l=Px(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(n,e):t instanceof nh?nT(t,e):t instanceof rh?rT(t,e):function(a,l){const u=tT(a,l),p=j1(u)+j1(a.Pe);return Dv(u)&&Dv(a.Pe)?eT(p):JC(a.serializer,p)}(t,e)}function FV(t,e,n){return t instanceof nh?nT(t,e):t instanceof rh?rT(t,e):n}function tT(t,e){return t instanceof Of?function(r){return Dv(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Df extends _p{}class nh extends _p{constructor(e){super(),this.elements=e}}function nT(t,e){const n=iT(e);for(const r of t.elements)n.some(a=>es(a,r))||n.push(r);return{arrayValue:{values:n}}}class rh extends _p{constructor(e){super(),this.elements=e}}function rT(t,e){let n=iT(e);for(const r of t.elements)n=n.filter(a=>!es(a,r));return{arrayValue:{values:n}}}class Of extends _p{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function j1(t){return yn(t.integerValue||t.doubleValue)}function iT(t){return Rx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jV(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof nh&&a instanceof nh||r instanceof rh&&a instanceof rh?uc(r.elements,a.elements,es):r instanceof Of&&a instanceof Of?es(r.Pe,a.Pe):r instanceof Df&&a instanceof Df}(t.transform,e.transform)}class VV{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Ep=class{};function sT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ox(t.key,oi.none()):new Ch(t.key,t.data,oi.none());{const n=t.data,r=_r.empty();let a=new Bn(zn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Ua(t.key,r,new jr(a.toArray()),oi.none())}}function zV(t,e,n){t instanceof Ch?function(a,l,u){const p=a.value.clone(),m=z1(a.fieldTransforms,l,u.transformResults);p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(t,e,n):t instanceof Ua?function(a,l,u){if(!Bd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const p=z1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(aT(a)),m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Eu(t,e,n,r){return t instanceof Ch?function(l,u,p,m){if(!Bd(l.precondition,u))return p;const w=l.value.clone(),A=U1(l.fieldTransforms,m,u);return w.setAll(A),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ua?function(l,u,p,m){if(!Bd(l.precondition,u))return p;const w=U1(l.fieldTransforms,m,u),A=u.data;return A.setAll(aT(l)),A.setAll(w),u.convertToFoundDocument(u.version,A).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(t,e,n,r):function(l,u,p){return Bd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p}(t,e,n)}function UV(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=tT(r.transform,a||null);l!=null&&(n===null&&(n=_r.empty()),n.set(r.field,l))}return n||null}function V1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&uc(r,a,(l,u)=>jV(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ch extends Ep{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ua extends Ep{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function aT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z1(t,e,n){const r=new Map;Ht(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,p=e.data.field(l.field);r.set(l.field,FV(u,p,n[a]))}return r}function U1(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,MV(l,u,e))}return r}class Ox extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BV extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&zV(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZC();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=n.has(a.key)?null:p;const m=sT(u,p);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yt())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>V1(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>V1(n,r))}}class Mx{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ht(e.mutations.length===r.length);let a=function(){return RV}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Mx(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,wt;function XV(t){switch(t){default:return ot();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function oT(t){if(t===void 0)return Ds("GRPC error has no .code"),xe.UNKNOWN;switch(t){case vn.OK:return xe.OK;case vn.CANCELLED:return xe.CANCELLED;case vn.UNKNOWN:return xe.UNKNOWN;case vn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case vn.INTERNAL:return xe.INTERNAL;case vn.UNAVAILABLE:return xe.UNAVAILABLE;case vn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case vn.NOT_FOUND:return xe.NOT_FOUND;case vn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case vn.ABORTED:return xe.ABORTED;case vn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case vn.DATA_LOSS:return xe.DATA_LOSS;default:return ot()}}(wt=vn||(vn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new yo([4294967295,4294967295],0);function B1(t){const e=YV().encode(t),n=new IC;return n.update(e),new Uint8Array(n.digest())}function H1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yo([n,r],0),new yo([a,l],0)]}class Fx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yo.fromNumber(this.Ie)}Ee(e,n,r){let a=e.add(n.multiply(yo.fromNumber(r)));return a.compare(GV)===1&&(a=new yo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=B1(e),[r,a]=H1(n);for(let l=0;l<this.hashCount;l++){const u=this.Ee(r,a,l);if(!this.de(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Fx(l,a,n);return r.forEach(p=>u.insert(p)),u}insert(e){if(this.Ie===0)return;const n=B1(e),[r,a]=H1(n);for(let l=0;l<this.hashCount;l++){const u=this.Ee(r,a,l);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ap(ct.min(),a,new ln(It),Os(),yt())}}class Th{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,a){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=a}}class lT{constructor(e,n){this.targetId=e,this.me=n}}class cT{constructor(e,n,r=ar.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class $1{constructor(){this.fe=0,this.ge=X1(),this.pe=ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=yt(),n=yt(),r=yt();return this.ge.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ot()}}),new Th(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=X1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Os(),this.qe=W1(),this.Qe=new ln(It)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,a)=>{this.ze(a)&&n(a)})}He(e){const n=e.targetId,r=e.me.count,a=this.Je(n);if(a){const l=a.target;if(Mv(l))if(r===0){const u=new Ze(l.path);this.Ue(n,u,rr.newNoDocument(u,ct.min()))}else Ht(r===1);else{const u=this.Ye(n);if(u!==r){const p=this.Ze(e),m=p?this.Xe(p,e,u):1;if(m!==0){this.je(n);const w=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,w)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,p;try{u=Lo(r).toUint8Array()}catch(m){if(m instanceof VC)return cc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Fx(u,a,l)}catch(m){return cc(m instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ie===0?null:p}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const u=this.Le.tt(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.Ue(n,l,null),a++)}),a}rt(e){const n=new Map;this.Be.forEach((l,u)=>{const p=this.Je(u);if(p){if(l.current&&Mv(p.target)){const m=new Ze(p.target.path);this.ke.get(m)!==null||this.it(u,m)||this.Ue(u,m,rr.newNoDocument(m,e))}l.be&&(n.set(u,l.Ce()),l.ve())}});let r=yt();this.qe.forEach((l,u)=>{let p=!0;u.forEachWhile(m=>{const w=this.Je(m);return!w||w.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(l))}),this.ke.forEach((l,u)=>u.setReadTime(e));const a=new Ap(e,n,this.Qe,this.ke,r);return this.ke=Os(),this.qe=W1(),this.Qe=new ln(It),a}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bn(It),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||He("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function W1(){return new ln(Ze.comparator)}function X1(){return new ln(Ze.comparator)}const KV={asc:"ASCENDING",desc:"DESCENDING"},QV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZV={and:"AND",or:"OR"};class JV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jv(t,e){return t.useProto3Json||bp(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ez(t,e){return Mf(t,e.toTimestamp())}function Zi(t){return Ht(!!t),ct.fromTimestamp(function(n){const r=Na(n);return new an(r.seconds,r.nanos)}(t))}function jx(t,e){return Vv(t,e).canonicalString()}function Vv(t,e){const n=function(a){return new Xt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hT(t){const e=Xt.fromString(t);return Ht(mT(e)),e}function zv(t,e){return jx(t.databaseId,e.path)}function nm(t,e){const n=hT(e);if(n.get(1)!==t.databaseId.projectId)throw new je(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(fT(n))}function dT(t,e){return jx(t.databaseId,e)}function tz(t){const e=hT(t);return e.length===4?Xt.emptyPath():fT(e)}function Uv(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fT(t){return Ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y1(t,e,n){return{name:zv(t,e),fields:n.value.mapValue.fields}}function nz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(w,A){return w.useProto3Json?(Ht(A===void 0||typeof A=="string"),ar.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array),ar.fromUint8Array(A||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(w){const A=w.code===void 0?xe.UNKNOWN:oT(w.code);return new je(A,w.message||"")}(u);n=new cT(r,a,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=nm(t,r.document.name),l=Zi(r.document.updateTime),u=r.document.createTime?Zi(r.document.createTime):ct.min(),p=new _r({mapValue:{fields:r.document.fields}}),m=rr.newFoundDocument(a,l,u,p),w=r.targetIds||[],A=r.removedTargetIds||[];n=new Hd(w,A,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=nm(t,r.document),l=r.readTime?Zi(r.readTime):ct.min(),u=rr.newNoDocument(a,l),p=r.removedTargetIds||[];n=new Hd([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=nm(t,r.document),l=r.removedTargetIds||[];n=new Hd([],l,a,null)}else{if(!("filter"in e))return ot();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new WV(a,l),p=r.targetId;n=new lT(p,u)}}return n}function rz(t,e){let n;if(e instanceof Ch)n={update:Y1(t,e.key,e.value)};else if(e instanceof Ox)n={delete:zv(t,e.key)};else if(e instanceof Ua)n={update:Y1(t,e.key,e.data),updateMask:dz(e.fieldMask)};else{if(!(e instanceof BV))return ot();n={verify:zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const p=u.transform;if(p instanceof Df)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof rh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Of)return{fieldPath:u.field.canonicalString(),increment:p.Pe};throw ot()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:ez(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ot()}(t,e.precondition)),n}function iz(t,e){return t&&t.length>0?(Ht(e!==void 0),t.map(n=>function(a,l){let u=a.updateTime?Zi(a.updateTime):Zi(l);return u.isEqual(ct.min())&&(u=Zi(l)),new VV(u,a.transformResults||[])}(n,e))):[]}function sz(t,e){return{documents:[dT(t,e.path)]}}function az(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dT(t,a);const l=function(w){if(w.length!==0)return gT(Ri.create(w,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(w){if(w.length!==0)return w.map(A=>function(I){return{field:hl(I.field),direction:cz(I.dir)}}(A))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const p=jv(t,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(w){return{before:w.inclusive,values:w.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(e.endAt)),{_t:n,parent:a}}function oz(t){let e=tz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ht(r===1);const A=n.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let l=[];n.where&&(l=function(T){const I=pT(T);return I instanceof Ri&&HC(I)?I.getFilters():[I]}(n.where));let u=[];n.orderBy&&(u=function(T){return T.map(I=>function($){return new th(dl($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(I))}(n.orderBy));let p=null;n.limit&&(p=function(T){let I;return I=typeof T=="object"?T.value:T,bp(I)?null:I}(n.limit));let m=null;n.startAt&&(m=function(T){const I=!!T.before,z=T.values||[];return new Nf(z,I)}(n.startAt));let w=null;return n.endAt&&(w=function(T){const I=!T.before,z=T.values||[];return new Nf(z,I)}(n.endAt)),kV(e,a,u,l,p,"F",m,w)}function lz(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dl(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=dl(n.unaryFilter.field);return bn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=dl(n.unaryFilter.field);return bn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=dl(n.unaryFilter.field);return bn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(t):t.fieldFilter!==void 0?function(n){return bn.create(dl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ri.create(n.compositeFilter.filters.map(r=>pT(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(t):ot()}function cz(t){return KV[t]}function uz(t){return QV[t]}function hz(t){return ZV[t]}function hl(t){return{fieldPath:t.canonicalString()}}function dl(t){return zn.fromServerFormat(t.fieldPath)}function gT(t){return t instanceof bn?function(n){if(n.op==="=="){if(L1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(N1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(N1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:uz(n.op),value:n.value}}}(t):t instanceof Ri?function(n){const r=n.getFilters().map(a=>gT(a));return r.length===1?r[0]:{compositeFilter:{op:hz(n.op),filters:r}}}(t):ot()}function dz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r,a,l=ct.min(),u=ct.min(),p=ar.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.ct=e}}function pz(t){const e=oz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(){this._n=new mz}addToCollectionParentIndex(e,n){return this._n.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(Ra.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(Ra.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class mz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Bn(Xt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Bn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new fc(0)}static Ln(){return new fc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(){this.changes=new Ec(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Eu(r.mutation,a,jr.empty(),an.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yt()){const a=oo();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let u=su();return l.forEach((p,m)=>{u=u.insert(p,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yt()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,p)=>{n.set(u,p)})})}computeViews(e,n,r,a){let l=Os();const u=_u(),p=function(){return _u()}();return n.forEach((m,w)=>{const A=r.get(w.key);a.has(w.key)&&(A===void 0||A.mutation instanceof Ua)?l=l.insert(w.key,w):A!==void 0?(u.set(w.key,A.mutation.getFieldMask()),Eu(A.mutation,w,A.mutation.getFieldMask(),an.now())):u.set(w.key,jr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((w,A)=>u.set(w,A)),n.forEach((w,A)=>{var T;return p.set(w,new yz(A,(T=u.get(w))!==null&&T!==void 0?T:null))}),p))}recalculateAndSaveOverlays(e,n){const r=_u();let a=new ln((u,p)=>u-p),l=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const p of u)p.keys().forEach(m=>{const w=n.get(m);if(w===null)return;let A=r.get(m)||jr.empty();A=p.applyToLocalView(w,A),r.set(m,A);const T=(a.get(p.batchId)||yt()).add(m);a=a.insert(p.batchId,T)})}).next(()=>{const u=[],p=a.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),w=m.key,A=m.value,T=ZC();A.forEach(I=>{if(!l.has(I)){const z=sT(n.get(I),r.get(I));z!==null&&T.set(I,z),l=l.add(I)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,T))}return Ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Ze.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):Ee.resolve(oo());let p=-1,m=l;return u.next(w=>Ee.forEach(w,(A,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),l.get(A)?Ee.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{m=m.insert(A,I)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,m,w,yt())).next(A=>({batchId:p,changes:QC(A)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next(r=>{let a=su();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=su();return this.indexManager.getCollectionParents(e,l).next(p=>Ee.forEach(p,m=>{const w=function(T,I){return new _c(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,w,r,a).next(A=>{A.forEach((T,I)=>{u=u.insert(T,I)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(u=>{l.forEach((m,w)=>{const A=w.getKey();u.get(A)===null&&(u=u.insert(A,rr.newInvalidDocument(A)))});let p=su();return u.forEach((m,w)=>{const A=l.get(m);A!==void 0&&Eu(A.mutation,w,jr.empty(),an.now()),Sp(n,w)&&(p=p.insert(m,w))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}}(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(a){return{name:a.name,query:pz(a.bundledQuery),readTime:Zi(a.readTime)}}(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this.overlays=new ln(Ze.comparator),this.hr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oo();return Ee.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.ht(e,n,l)}),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.hr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.hr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const a=oo(),l=n.length+1,u=new Ze(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,w=m.getKey();if(!n.isPrefixOf(w.path))break;w.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return Ee.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new ln((w,A)=>w-A);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===n&&w.largestBatchId>r){let A=l.get(w.largestBatchId);A===null&&(A=oo(),l=l.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const p=oo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((w,A)=>p.set(w,A)),!(p.size()>=a)););return Ee.resolve(p)}ht(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.hr.get(a.largestBatchId).delete(r.key);this.hr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $V(n,r));let l=this.hr.get(n);l===void 0&&(l=yt(),this.hr.set(n,l)),this.hr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.Pr=new Bn(Pn.Ir),this.Tr=new Bn(Pn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Pn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Ze(new Xt([])),r=new Pn(n,e),a=new Pn(n,e+1),l=[];return this.Tr.forEachInRange([r,a],u=>{this.Ar(u),l.push(u.key)}),l}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ze(new Xt([])),r=new Pn(n,e),a=new Pn(n,e+1);let l=yt();return this.Tr.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Pn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ze.comparator(e.key,n.key)||It(e.pr,n.pr)}static Er(e,n){return It(e.pr,n.pr)||Ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bn(Pn.Ir)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HV(l,n,r,a);this.mutationQueue.push(u);for(const p of a)this.wr=this.wr.add(new Pn(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Ee.resolve(u)}lookupMutationBatch(e,n){return Ee.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.br(r),l=a<0?0:a;return Ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),a=new Pn(n,Number.POSITIVE_INFINITY),l=[];return this.wr.forEachInRange([r,a],u=>{const p=this.Sr(u.pr);l.push(p)}),Ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(It);return n.forEach(a=>{const l=new Pn(a,0),u=new Pn(a,Number.POSITIVE_INFINITY);this.wr.forEachInRange([l,u],p=>{r=r.add(p.pr)})}),Ee.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ze.isDocumentKey(l)||(l=l.child(""));const u=new Pn(new Ze(l),0);let p=new Bn(It);return this.wr.forEachWhile(m=>{const w=m.key.path;return!!r.isPrefixOf(w)&&(w.length===a&&(p=p.add(m.pr)),!0)},u),Ee.resolve(this.Dr(p))}Dr(e){const n=[];return e.forEach(r=>{const a=this.Sr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ht(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Ee.forEach(n.mutations,a=>{const l=new Pn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Pn(n,0),a=this.wr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.vr=e,this.docs=function(){return new ln(Ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():rr.newInvalidDocument(a))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Os();const u=n.path,p=new Ze(u.child("")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:w,value:{document:A}}=m.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||lV(oV(A),r)<=0||(a.has(A.key)||Sp(n,A))&&(l=l.insert(A.key,A.mutableCopy()))}return Ee.resolve(l)}getAllFromCollectionGroup(e,n,r,a){ot()}Fr(e,n){return Ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ez(this)}getSize(e){return Ee.resolve(this.size)}}class Ez extends vz{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.ar.addEntry(e,a)):this.ar.removeEntry(r)}),Ee.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.persistence=e,this.Mr=new Ec(n=>Nx(n),Lx),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Vx,this.targetCount=0,this.Lr=fc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,a)=>n(a)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Ee.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.qn(n),Ee.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.Mr.forEach((u,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.Mr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),Ee.waitFor(l).next(()=>a)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),Ee.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n){this.Br={},this.overlays={},this.kr=new Tx(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Az(this),this.indexManager=new gz,this.remoteDocumentCache=function(a){return new _z(a)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new fz(n),this.$r=new bz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Sz(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){He("MemoryPersistence","Starting transaction:",e);const a=new Cz(this.kr.next());return this.referenceDelegate.Ur(),r(a).next(l=>this.referenceDelegate.Wr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gr(e,n){return Ee.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Cz extends uV{constructor(e){super(),this.currentSequenceNumber=e}}class zx{constructor(e){this.persistence=e,this.zr=new Vx,this.jr=null}static Hr(e){return new zx(e)}get Jr(){if(this.jr)return this.jr;throw ot()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(a=>this.Jr.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.Jr.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Jr,r=>{const a=Ze.fromPath(r);return this.Yr(e,a).next(l=>{l||n.removeEntry(a,ct.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Ee.or([()=>Ee.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=a}static Ki(e,n){let r=yt(),a=yt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ux(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dO()?8:hV($n())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ji(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Hi(e,n,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new Tz;return this.Ji(e,n,u).next(p=>{if(l.result=p,this.Ui)return this.Yi(e,n,u,p.size)})}).next(()=>l.result)}Yi(e,n,r,a){return r.documentReadCount<this.Wi?(Gc()<=bt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ee.resolve()):(Gc()<=bt.DEBUG&&He("QueryEngine","Query:",ul(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.Gi*a?(Gc()<=bt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):Ee.resolve())}ji(e,n){if(F1(n))return Ee.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Lf(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=yt(...l);return this.zi.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(m=>{const w=this.Zi(n,p);return this.Xi(n,w,u,m.readTime)?this.ji(e,Lf(n,null,"F")):this.es(e,w,n,m)}))})))}Hi(e,n,r,a){return F1(n)||a.isEqual(ct.min())?Ee.resolve(null):this.zi.getDocuments(e,r).next(l=>{const u=this.Zi(n,l);return this.Xi(n,u,r,a)?Ee.resolve(null):(Gc()<=bt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ul(n)),this.es(e,u,n,aV(a,-1)).next(p=>p))})}Zi(e,n){let r=new Bn(qC(e));return n.forEach((a,l)=>{Sp(e,l)&&(r=r.add(l))}),r}Xi(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ji(e,n,r){return Gc()<=bt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",ul(n)),this.zi.getDocumentsMatchingQuery(e,n,Ra.min(),r)}es(e,n,r,a){return this.zi.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n,r,a){this.persistence=e,this.ts=n,this.serializer=a,this.ns=new ln(It),this.rs=new Ec(l=>Nx(l),Lx),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xz(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Rz(t,e,n,r){return new Pz(t,e,n,r)}async function vT(t,e){const n=ut(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],p=[];let m=yt();for(const w of a){u.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}for(const w of l){p.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}return n.localDocuments.getDocuments(r,m).next(w=>({us:w,removedBatchIds:u,addedBatchIds:p}))})})}function Nz(t,e){const n=ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.os.newChangeBuffer({trackRemovals:!0});return function(p,m,w,A){const T=w.batch,I=T.keys();let z=Ee.resolve();return I.forEach($=>{z=z.next(()=>A.getEntry(m,$)).next(q=>{const Z=w.docVersions.get($);Ht(Z!==null),q.version.compareTo(Z)<0&&(T.applyToRemoteDocument(q,w),q.isValidDocument()&&(q.setReadTime(w.commitVersion),A.addEntry(q)))})}),z.next(()=>p.mutationQueue.removeMutationBatch(m,T))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let m=yt();for(let w=0;w<p.mutationResults.length;++w)p.mutationResults[w].transformResults.length>0&&(m=m.add(p.batch.mutations[w].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function yT(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Lz(t,e){const n=ut(t),r=e.snapshotVersion;let a=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.os.newChangeBuffer({trackRemovals:!0});a=n.ns;const p=[];e.targetChanges.forEach((A,T)=>{const I=a.get(T);if(!I)return;p.push(n.Qr.removeMatchingKeys(l,A.removedDocuments,T).next(()=>n.Qr.addMatchingKeys(l,A.addedDocuments,T)));let z=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?z=z.withResumeToken(ar.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):A.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(A.resumeToken,r)),a=a.insert(T,z),function(q,Z,X){return q.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(I,z,A)&&p.push(n.Qr.updateTargetData(l,z))});let m=Os(),w=yt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(l,A))}),p.push(Dz(l,u,e.documentUpdates).next(A=>{m=A.cs,w=A.ls})),!r.isEqual(ct.min())){const A=n.Qr.getLastRemoteSnapshotVersion(l).next(T=>n.Qr.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(A)}return Ee.waitFor(p).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,w)).next(()=>m)}).then(l=>(n.ns=a,l))}function Dz(t,e,n){let r=yt(),a=yt();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let u=Os();return n.forEach((p,m)=>{const w=l.get(p);m.isFoundDocument()!==w.isFoundDocument()&&(a=a.add(p)),m.isNoDocument()&&m.version.isEqual(ct.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||m.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):He("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",m.version)}),{cs:u,ls:a}})}function Oz(t,e){const n=ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mz(t,e){const n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Qr.getTargetData(r,e).next(l=>l?(a=l,Ee.resolve(a)):n.Qr.allocateTargetId(r).next(u=>(a=new ga(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.ns.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Bv(t,e,n){const r=ut(t),a=r.ns.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!kh(u))throw u;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ns=r.ns.remove(e),r.rs.delete(a.target)}function G1(t,e,n){const r=ut(t);let a=ct.min(),l=yt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(m,w,A){const T=ut(m),I=T.rs.get(A);return I!==void 0?Ee.resolve(T.ns.get(I)):T.Qr.getTargetData(w,A)}(r,u,Qi(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(u,p.targetId).next(m=>{l=m})}).next(()=>r.ts.getDocumentsMatchingQuery(u,e,n?a:ct.min(),n?l:yt())).next(p=>(Fz(r,TV(e),p),{documents:p,hs:l})))}function Fz(t,e,n){let r=t.ss.get(e)||ct.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.ss.set(e,r)}class q1{constructor(){this.activeTargetIds=DV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jz{constructor(){this.no=new q1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new q1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function rm(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class Bz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${a}/databases/${l}`,this.bo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}get Do(){return!1}Co(n,r,a,l,u){const p=rm(),m=this.vo(n,r.toUriEncodedString());He("RestConnection",`Sending RPC '${n}' ${p}:`,m,a);const w={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(w,l,u),this.Mo(n,m,w,a).then(A=>(He("RestConnection",`Received RPC '${n}' ${p}: `,A),A),A=>{throw cc("RestConnection",`RPC '${n}' ${p} failed with error: `,A,"url: ",m,"request:",a),A})}xo(n,r,a,l,u,p){return this.Co(n,r,a,l,u)}Fo(n,r,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>n[u]=l),a&&a.headers.forEach((l,u)=>n[u]=l)}vo(n,r){const a=zz[n];return`${this.wo}/v1/${r}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,a){const l=rm();return new Promise((u,p)=>{const m=new PC;m.setWithCredentials(!0),m.listenOnce(NC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case zd.NO_ERROR:const A=m.getResponseJson();He(Jn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(A)),u(A);break;case zd.TIMEOUT:He(Jn,`RPC '${e}' ${l} timed out`),p(new je(xe.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const T=m.getStatus();if(He(Jn,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const z=I==null?void 0:I.error;if(z&&z.status&&z.message){const $=function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(X)>=0?X:xe.UNKNOWN}(z.status);p(new je($,z.message))}else p(new je(xe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new je(xe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{He(Jn,`RPC '${e}' ${l} completed.`)}});const w=JSON.stringify(a);He(Jn,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",w,r,15)})}Oo(e,n,r){const a=rm(),l=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OC(),p=DC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(m.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(m.xmlHttpFactory=new RC({})),this.Fo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const A=l.join("");He(Jn,`Creating RPC '${e}' stream ${a}: ${A}`,m);const T=u.createWebChannel(A,m);let I=!1,z=!1;const $=new Uz({lo:Z=>{z?He(Jn,`Not sending because RPC '${e}' stream ${a} is closed:`,Z):(I||(He(Jn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),I=!0),He(Jn,`RPC '${e}' stream ${a} sending:`,Z),T.send(Z))},ho:()=>T.close()}),q=(Z,X,L)=>{Z.listen(X,J=>{try{L(J)}catch(re){setTimeout(()=>{throw re},0)}})};return q(T,iu.EventType.OPEN,()=>{z||(He(Jn,`RPC '${e}' stream ${a} transport opened.`),$.mo())}),q(T,iu.EventType.CLOSE,()=>{z||(z=!0,He(Jn,`RPC '${e}' stream ${a} transport closed`),$.po())}),q(T,iu.EventType.ERROR,Z=>{z||(z=!0,cc(Jn,`RPC '${e}' stream ${a} transport errored:`,Z),$.po(new je(xe.UNAVAILABLE,"The operation could not be completed")))}),q(T,iu.EventType.MESSAGE,Z=>{var X;if(!z){const L=Z.data[0];Ht(!!L);const J=L,re=J.error||((X=J[0])===null||X===void 0?void 0:X.error);if(re){He(Jn,`RPC '${e}' stream ${a} received error:`,re);const te=re.status;let oe=function(Y){const ee=vn[Y];if(ee!==void 0)return oT(ee)}(te),j=re.message;oe===void 0&&(oe=xe.INTERNAL,j="Unknown error status: "+te+" with message "+re.message),z=!0,$.po(new je(oe,j)),T.close()}else He(Jn,`RPC '${e}' stream ${a} received:`,L),$.yo(L)}}),q(p,LC.STAT_EVENT,Z=>{Z.stat===Nv.PROXY?He(Jn,`RPC '${e}' stream ${a} detected buffering proxy`):Z.stat===Nv.NOPROXY&&He(Jn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t){return new JV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r=1e3,a=1.5,l=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=a,this.Bo=l,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),a=Math.max(0,n-r);a>0&&He("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,a,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,a,l,u,p,m){this.oi=e,this.Go=r,this.zo=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new xT(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.jo===n&&this.u_(r,a)},r=>{e(()=>{const a=new je(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(a)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(a=>{r(()=>this.c_(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hz extends bT{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=nz(this.serializer,e),r=function(l){if(!("targetChange"in l))return ct.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ct.min():u.readTime?Zi(u.readTime):ct.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Uv(this.serializer),n.addTarget=function(l,u){let p;const m=u.target;if(p=Mv(m)?{documents:sz(l,m)}:{query:az(l,m)._t},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=uT(l,u.resumeToken);const w=jv(l,u.expectedCount);w!==null&&(p.expectedCount=w)}else if(u.snapshotVersion.compareTo(ct.min())>0){p.readTime=Mf(l,u.snapshotVersion.toTimestamp());const w=jv(l,u.expectedCount);w!==null&&(p.expectedCount=w)}return p}(this.serializer,e);const r=lz(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Uv(this.serializer),n.removeTarget=e,this.i_(n)}}class $z extends bT{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=iz(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.A_(r,n)}return Ht(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Uv(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rz(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.m_=!1}f_(){if(this.m_)throw new je(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,a){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Vv(n,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(xe.UNKNOWN,l.toString())})}xo(e,n,r,a,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.xo(e,Vv(n,r),a,u,p,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new je(xe.UNKNOWN,u.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Xz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ds(n),this.y_=!1):He("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=l,this.O_.io(u=>{r.enqueueAndForget(async()=>{Xo(this)&&(He("RemoteStore","Restarting streams for network reachability change."),await async function(m){const w=ut(m);w.M_.add(4),await Ih(w),w.N_.set("Unknown"),w.M_.delete(4),await Cp(w)}(this))})}),this.N_=new Xz(r,a)}}async function Cp(t){if(Xo(t))for(const e of t.x_)await e(!0)}async function Ih(t){for(const e of t.x_)await e(!1)}function wT(t,e){const n=ut(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Wx(n)?$x(n):Ac(n).Xo()&&Hx(n,e))}function Bx(t,e){const n=ut(t),r=Ac(n);n.F_.delete(e),r.Xo()&&ST(n,e),n.F_.size===0&&(r.Xo()?r.n_():Xo(n)&&n.N_.set("Unknown"))}function Hx(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).P_(e)}function ST(t,e){t.L_.xe(e),Ac(t).I_(e)}function $x(t){t.L_=new qV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.N_.w_()}function Wx(t){return Xo(t)&&!Ac(t).Zo()&&t.F_.size>0}function Xo(t){return ut(t).M_.size===0}function _T(t){t.L_=void 0}async function Gz(t){t.N_.set("Online")}async function qz(t){t.F_.forEach((e,n)=>{Hx(t,e)})}async function Kz(t,e){_T(t),Wx(t)?(t.N_.D_(e),$x(t)):t.N_.set("Unknown")}async function Qz(t,e,n){if(t.N_.set("Online"),e instanceof cT&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const p of l.targetIds)a.F_.has(p)&&(await a.remoteSyncer.rejectListen(p,u),a.F_.delete(p),a.L_.removeTarget(p))}(t,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ff(t,r)}else if(e instanceof Hd?t.L_.Ke(e):e instanceof lT?t.L_.He(e):t.L_.We(e),!n.isEqual(ct.min()))try{const r=await yT(t.localStore);n.compareTo(r)>=0&&await function(l,u){const p=l.L_.rt(u);return p.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const A=l.F_.get(w);A&&l.F_.set(w,A.withResumeToken(m.resumeToken,u))}}),p.targetMismatches.forEach((m,w)=>{const A=l.F_.get(m);if(!A)return;l.F_.set(m,A.withResumeToken(ar.EMPTY_BYTE_STRING,A.snapshotVersion)),ST(l,m);const T=new ga(A.target,m,w,A.sequenceNumber);Hx(l,T)}),l.remoteSyncer.applyRemoteEvent(p)}(t,n)}catch(r){He("RemoteStore","Failed to raise snapshot:",r),await Ff(t,r)}}async function Ff(t,e,n){if(!kh(e))throw e;t.M_.add(1),await Ih(t),t.N_.set("Offline"),n||(n=()=>yT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{He("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Cp(t)})}function ET(t,e){return e().catch(n=>Ff(t,n,e))}async function Tp(t){const e=ut(t),n=La(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Zz(e);)try{const a=await Oz(e.localStore,r);if(a===null){e.v_.length===0&&n.n_();break}r=a.batchId,Jz(e,a)}catch(a){await Ff(e,a)}AT(e)&&kT(e)}function Zz(t){return Xo(t)&&t.v_.length<10}function Jz(t,e){t.v_.push(e);const n=La(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function AT(t){return Xo(t)&&!La(t).Zo()&&t.v_.length>0}function kT(t){La(t).start()}async function e4(t){La(t).V_()}async function t4(t){const e=La(t);for(const n of t.v_)e.d_(n.mutations)}async function n4(t,e,n){const r=t.v_.shift(),a=Mx.from(r,e,n);await ET(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Tp(t)}async function r4(t,e){e&&La(t).E_&&await async function(r,a){if(function(u){return XV(u)&&u!==xe.ABORTED}(a.code)){const l=r.v_.shift();La(r).t_(),await ET(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Tp(r)}}(t,e),AT(t)&&kT(t)}async function Q1(t,e){const n=ut(t);n.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Xo(n);n.M_.add(3),await Ih(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Cp(n)}async function i4(t,e){const n=ut(t);e?(n.M_.delete(2),await Cp(n)):e||(n.M_.add(2),await Ih(n),n.N_.set("Unknown"))}function Ac(t){return t.B_||(t.B_=function(n,r,a){const l=ut(n);return l.f_(),new Hz(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Po:Gz.bind(null,t),To:qz.bind(null,t),Ao:Kz.bind(null,t),h_:Qz.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Wx(t)?$x(t):t.N_.set("Unknown")):(await t.B_.stop(),_T(t))})),t.B_}function La(t){return t.k_||(t.k_=function(n,r,a){const l=ut(n);return l.f_(),new $z(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:e4.bind(null,t),Ao:r4.bind(null,t),R_:t4.bind(null,t),A_:n4.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Tp(t)):(await t.k_.stop(),t.v_.length>0&&(He("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,p=new Xx(e,n,u,a,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yx(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),kh(t))return new je(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new ln(this.comparator)}static emptySet(e){return new Vl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.q_=new ln(Ze.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ot():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pc{constructor(e,n,r,a,l,u,p,m,w){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=w}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new pc(e,n,Vl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class a4{constructor(){this.queries=new Ec(e=>GC(e),wp),this.onlineState="Unknown",this.z_=new Set}}async function CT(t,e){const n=ut(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.W_()&&e.G_()&&(r=2):(l=new s4,r=e.G_()?0:1);try{switch(r){case 0:l.K_=await n.onListen(a,!0);break;case 1:l.K_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const p=Yx(u,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(p)}n.queries.set(a,l),l.U_.push(e),e.j_(n.onlineState),l.K_&&e.H_(l.K_)&&Gx(n)}async function TT(t,e){const n=ut(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.U_.indexOf(e);u>=0&&(l.U_.splice(u,1),l.U_.length===0?a=e.G_()?0:1:!l.W_()&&e.G_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function o4(t,e){const n=ut(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const p of u.U_)p.H_(a)&&(r=!0);u.K_=a}}r&&Gx(n)}function l4(t,e,n){const r=ut(t),a=r.queries.get(e);if(a)for(const l of a.U_)l.onError(n);r.queries.delete(e)}function Gx(t){t.z_.forEach(e=>{e.next()})}var Hv,J1;(J1=Hv||(Hv={})).J_="default",J1.Cache="cache";class IT{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.key=e}}class RT{constructor(e){this.key=e}}class c4{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=yt(),this.mutatedKeys=yt(),this.Ia=qC(e),this.Ta=new Vl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Z1,a=n?n.Ta:this.Ta;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,p=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,w=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((A,T)=>{const I=a.get(A),z=Sp(this.query,T)?T:null,$=!!I&&this.mutatedKeys.has(I.key),q=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;I&&z?I.data.isEqual(z.data)?$!==q&&(r.track({type:3,doc:z}),Z=!0):this.Ra(I,z)||(r.track({type:2,doc:z}),Z=!0,(m&&this.Ia(z,m)>0||w&&this.Ia(z,w)<0)&&(p=!0)):!I&&z?(r.track({type:0,doc:z}),Z=!0):I&&!z&&(r.track({type:1,doc:I}),Z=!0,(m||w)&&(p=!0)),Z&&(z?(u=u.add(z),l=q?l.add(A):l.delete(A)):(u=u.delete(A),l=l.delete(A)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const A=this.query.limitType==="F"?u.last():u.first();u=u.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{Ta:u,Aa:r,Xi:p,mutatedKeys:l}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const u=e.Aa.Q_();u.sort((A,T)=>function(z,$){const q=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return q(z)-q($)}(A.type,T.type)||this.Ia(A.doc,T.doc)),this.Va(r),a=a!=null&&a;const p=n&&!a?this.ma():[],m=this.Pa.size===0&&this.current&&!a?1:0,w=m!==this.ha;return this.ha=m,u.length!==0||w?{snapshot:new pc(this.query,e.Ta,l,u,e.mutatedKeys,m===0,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:p}:{fa:p}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Z1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=yt(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new RT(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new PT(r))}),n}pa(e){this.la=e.hs,this.Pa=yt();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return pc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class u4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class h4{constructor(e){this.key=e,this.wa=!1}}class d4{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Sa={},this.ba=new Ec(p=>GC(p),wp),this.Da=new Map,this.Ca=new Set,this.va=new ln(Ze.comparator),this.Fa=new Map,this.Ma=new Vx,this.xa={},this.Oa=new Map,this.Na=fc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function f4(t,e,n=!0){const r=FT(t);let a;const l=r.ba.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ya()):a=await NT(r,e,n,!0),a}async function p4(t,e){const n=FT(t);await NT(n,e,!0,!1)}async function NT(t,e,n,r){const a=await Mz(t.localStore,Qi(e)),l=a.targetId,u=n?t.sharedClientState.addLocalQueryTarget(l):"not-current";let p;return r&&(p=await g4(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&wT(t.remoteStore,a),p}async function g4(t,e,n,r,a){t.Ba=(T,I,z)=>async function(q,Z,X,L){let J=Z.view.da(X);J.Xi&&(J=await G1(q.localStore,Z.query,!1).then(({documents:j})=>Z.view.da(j,J)));const re=L&&L.targetChanges.get(Z.targetId),te=L&&L.targetMismatches.get(Z.targetId)!=null,oe=Z.view.applyChanges(J,q.isPrimaryClient,re,te);return tS(q,Z.targetId,oe.fa),oe.snapshot}(t,T,I,z);const l=await G1(t.localStore,e,!0),u=new c4(e,l.hs),p=u.da(l.documents),m=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),w=u.applyChanges(p,t.isPrimaryClient,m);tS(t,n,w.fa);const A=new u4(e,n,u);return t.ba.set(e,A),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),w.snapshot}async function m4(t,e,n){const r=ut(t),a=r.ba.get(e),l=r.Da.get(a.targetId);if(l.length>1)return r.Da.set(a.targetId,l.filter(u=>!wp(u,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Bv(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Bx(r.remoteStore,a.targetId),$v(r,a.targetId)}).catch(Ah)):($v(r,a.targetId),await Bv(r.localStore,a.targetId,!0))}async function v4(t,e){const n=ut(t),r=n.ba.get(e),a=n.Da.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bx(n.remoteStore,r.targetId))}async function y4(t,e,n){const r=A4(t);try{const a=await function(u,p){const m=ut(u),w=an.now(),A=p.reduce((z,$)=>z.add($.key),yt());let T,I;return m.persistence.runTransaction("Locally write mutations","readwrite",z=>{let $=Os(),q=yt();return m.os.getEntries(z,A).next(Z=>{$=Z,$.forEach((X,L)=>{L.isValidDocument()||(q=q.add(X))})}).next(()=>m.localDocuments.getOverlayedDocuments(z,$)).next(Z=>{T=Z;const X=[];for(const L of p){const J=UV(L,T.get(L.key).overlayedDocument);J!=null&&X.push(new Ua(L.key,J,zC(J.value.mapValue),oi.exists(!0)))}return m.mutationQueue.addMutationBatch(z,w,X,p)}).next(Z=>{I=Z;const X=Z.applyToLocalDocumentSet(T,q);return m.documentOverlayCache.saveOverlays(z,Z.batchId,X)})}).then(()=>({batchId:I.batchId,changes:QC(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,p,m){let w=u.xa[u.currentUser.toKey()];w||(w=new ln(It)),w=w.insert(p,m),u.xa[u.currentUser.toKey()]=w}(r,a.batchId,n),await Ph(r,a.changes),await Tp(r.remoteStore)}catch(a){const l=Yx(a,"Failed to persist write");n.reject(l)}}async function LT(t,e){const n=ut(t);try{const r=await Lz(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Fa.get(l);u&&(Ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.wa=!0:a.modifiedDocuments.size>0?Ht(u.wa):a.removedDocuments.size>0&&(Ht(u.wa),u.wa=!1))}),await Ph(n,r,e)}catch(r){await Ah(r)}}function eS(t,e,n){const r=ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ba.forEach((l,u)=>{const p=u.view.j_(e);p.snapshot&&a.push(p.snapshot)}),function(u,p){const m=ut(u);m.onlineState=p;let w=!1;m.queries.forEach((A,T)=>{for(const I of T.U_)I.j_(p)&&(w=!0)}),w&&Gx(m)}(r.eventManager,e),a.length&&r.Sa.h_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x4(t,e,n){const r=ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Fa.get(e),l=a&&a.key;if(l){let u=new ln(Ze.comparator);u=u.insert(l,rr.newNoDocument(l,ct.min()));const p=yt().add(l),m=new Ap(ct.min(),new Map,new ln(It),u,p);await LT(r,m),r.va=r.va.remove(l),r.Fa.delete(e),qx(r)}else await Bv(r.localStore,e,!1).then(()=>$v(r,e,n)).catch(Ah)}async function b4(t,e){const n=ut(t),r=e.batch.batchId;try{const a=await Nz(n.localStore,e);OT(n,r,null),DT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ph(n,a)}catch(a){await Ah(a)}}async function w4(t,e,n){const r=ut(t);try{const a=await function(u,p){const m=ut(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let A;return m.mutationQueue.lookupMutationBatch(w,p).next(T=>(Ht(T!==null),A=T.keys(),m.mutationQueue.removeMutationBatch(w,T))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,A,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,A)).next(()=>m.localDocuments.getDocuments(w,A))})}(r.localStore,e);OT(r,e,n),DT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ph(r,a)}catch(a){await Ah(a)}}function DT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function OT(t,e,n){const r=ut(t);let a=r.xa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.xa[r.currentUser.toKey()]=a}}function $v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||MT(t,r)})}function MT(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Bx(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),qx(t))}function tS(t,e,n){for(const r of n)r instanceof PT?(t.Ma.addReference(r.key,e),S4(t,r)):r instanceof RT?(He("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||MT(t,r.key)):ot()}function S4(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(He("SyncEngine","New document in limbo: "+n),t.Ca.add(r),qx(t))}function qx(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Ze(Xt.fromString(e)),r=t.Na.next();t.Fa.set(r,new h4(n)),t.va=t.va.insert(n,r),wT(t.remoteStore,new ga(Qi(Dx(n.path)),r,"TargetPurposeLimboResolution",Tx.oe))}}async function Ph(t,e,n){const r=ut(t),a=[],l=[],u=[];r.ba.isEmpty()||(r.ba.forEach((p,m)=>{u.push(r.Ba(m,e,n).then(w=>{if((w||n)&&r.isPrimaryClient){const A=w&&!w.fromCache;r.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(w){a.push(w);const A=Ux.Ki(m.targetId,w);l.push(A)}}))}),await Promise.all(u),r.Sa.h_(a),await async function(m,w){const A=ut(m);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Ee.forEach(w,I=>Ee.forEach(I.qi,z=>A.persistence.referenceDelegate.addReference(T,I.targetId,z)).next(()=>Ee.forEach(I.Qi,z=>A.persistence.referenceDelegate.removeReference(T,I.targetId,z)))))}catch(T){if(!kh(T))throw T;He("LocalStore","Failed to update sequence numbers: "+T)}for(const T of w){const I=T.targetId;if(!T.fromCache){const z=A.ns.get(I),$=z.snapshotVersion,q=z.withLastLimboFreeSnapshotVersion($);A.ns=A.ns.insert(I,q)}}}(r.localStore,l))}async function _4(t,e){const n=ut(t);if(!n.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=await vT(n.localStore,e);n.currentUser=e,function(l,u){l.Oa.forEach(p=>{p.forEach(m=>{m.reject(new je(xe.CANCELLED,u))})}),l.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ph(n,r.us)}}function E4(t,e){const n=ut(t),r=n.Fa.get(e);if(r&&r.wa)return yt().add(r.key);{let a=yt();const l=n.Da.get(e);if(!l)return a;for(const u of l){const p=n.ba.get(u);a=a.unionWith(p.view.Ea)}return a}}function FT(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x4.bind(null,e),e.Sa.h_=o4.bind(null,e.eventManager),e.Sa.ka=l4.bind(null,e.eventManager),e}function A4(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w4.bind(null,e),e}class nS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Rz(this.persistence,new Iz,e.initialUser,this.serializer)}createPersistence(e){return new kz(zx.Hr,this.serializer)}createSharedClientState(e){return new jz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class k4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a4}()}createDatastore(e){const n=kp(e.databaseInfo.databaseId),r=function(l){return new Bz(l)}(e.databaseInfo);return function(l,u,p,m){return new Wz(l,u,p,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,u,p){return new Yz(r,a,l,u,p)}(this.localStore,this.datastore,e.asyncQueue,n=>eS(this.syncEngine,n,0),function(){return K1.D()?new K1:new Vz}())}createSyncEngine(e,n){return function(a,l,u,p,m,w,A){const T=new d4(a,l,u,p,m,w);return A&&(T.La=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const a=ut(r);He("RemoteStore","RemoteStore shutting down."),a.M_.add(5),await Ih(a),a.O_.shutdown(),a.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=tr.UNAUTHENTICATED,this.clientId=FC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async l=>{He("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(He("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sm(t,e){t.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await vT(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I4(t);He("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Q1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>Q1(e.remoteStore,a)),t._onlineComponents=e}function T4(t){return t.name==="FirebaseError"?t.code===xe.FAILED_PRECONDITION||t.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function I4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{await sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T4(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await sm(t,new nS)}}else He("FirestoreClient","Using default OfflineComponentProvider"),await sm(t,new nS);return t._offlineComponents}async function VT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),await rS(t,t._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),await rS(t,new k4))),t._onlineComponents}function P4(t){return VT(t).then(e=>e.syncEngine)}async function zT(t){const e=await VT(t),n=e.eventManager;return n.onListen=f4.bind(null,e.syncEngine),n.onUnlisten=m4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v4.bind(null,e.syncEngine),n}function R4(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,p,m,w){const A=new jT({next:I=>{u.enqueueAndForget(()=>TT(l,T));const z=I.docs.has(p);!z&&I.fromCache?w.reject(new je(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&I.fromCache&&m&&m.source==="server"?w.reject(new je(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(I)},error:I=>w.reject(I)}),T=new IT(Dx(p.path),A,{includeMetadataChanges:!0,ra:!0});return CT(l,T)}(await zT(t),t.asyncQueue,e,n,r)),r.promise}function N4(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,p,m,w){const A=new jT({next:I=>{u.enqueueAndForget(()=>TT(l,T)),I.fromCache&&m.source==="server"?w.reject(new je(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(I)},error:I=>w.reject(I)}),T=new IT(p,A,{includeMetadataChanges:!0,ra:!0});return CT(l,T)}(await zT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e,n){if(!n)throw new je(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L4(t,e,n,r){if(e===!0&&r===!0)throw new je(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sS(t){if(!Ze.isDocumentKey(t))throw new je(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aS(t){if(Ze.isDocumentKey(t))throw new je(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ip(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot()}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ip(t);throw new je(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function D4(t,e){if(e<=0)throw new je(xe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new je(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new je(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new je(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pp{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new je(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qj;switch(r.type){case"firstParty":return new tV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iS.get(n);r&&(He("ComponentProvider","Removing Datastore"),iS.delete(n),r.terminate())}(this),Promise.resolve()}}function O4(t,e,n,r={}){var a;const l=(t=Ni(t,Pp))._getSettings(),u=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==u&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),r.mockUserToken){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=tr.MOCK_USER;else{p=Fk(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new je(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new tr(w)}t._authCredentials=new Zj(new MC(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=class HT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new HT(this.firestore,e,this._query)}};class fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class Ca extends kc{constructor(e,n,r){super(e,n,Dx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ze(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function Et(t,e,...n){if(t=mn(t),BT("collection","path",e),t instanceof Pp){const r=Xt.fromString(e,...n);return aS(r),new Ca(t,null,r)}{if(!(t instanceof fr||t instanceof Ca))throw new je(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return aS(r),new Ca(t.firestore,null,r)}}function wn(t,e,...n){if(t=mn(t),arguments.length===1&&(e=FC.newId()),BT("doc","path",e),t instanceof Pp){const r=Xt.fromString(e,...n);return sS(r),new fr(t,null,new Ze(r))}{if(!(t instanceof fr||t instanceof Ca))throw new je(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return sS(r),new fr(t.firestore,t instanceof Ca?t.converter:null,new Ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new xT(this,"async_queue_retry"),this.hu=()=>{const n=im();n&&He("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=im();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ts;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!kh(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const a=function(u){let p=u.message||"";return u.stack&&(p=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),p}(r);throw Ds("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const a=Xx.createAndSchedule(this,e,n,r,l=>this.Eu(l));return this._u.push(a),a}Pu(){this.au&&ot()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Yo extends Pp{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=function(){return new M4}(),this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$T(this),this._firestoreClient.terminate()}}function F4(t,e){const n=typeof t=="object"?t:gp(),r=typeof t=="string"?t:e||"(default)",a=Va(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Dk("firestore");l&&O4(a,...l)}return a}function Kx(t){return t._firestoreClient||$T(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $T(t){var e,n,r;const a=t._freezeSettings(),l=function(p,m,w,A){return new pV(p,m,w,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,UT(A.experimentalLongPollingOptions),A.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._firestoreClient=new C4(t._authCredentials,t._appCheckCredentials,t._queue,l),!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(ar.fromBase64String(e))}catch(n){throw new je(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gc(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=/^__.*__$/;class V4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ch(e,this.data,n,this.fieldTransforms)}}class WT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Jx{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.mu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Jx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.gu({path:r,yu:!1});return a.wu(e),a}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.gu({path:r,yu:!1});return a.mu(),a}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return jf(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(XT(this.fu)&&j4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class z4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kp(e)}Fu(e,n,r,a=!1){return new Jx({fu:e,methodName:n,vu:r,path:zn.emptyPath(),yu:!1,Cu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(t){const e=t._freezeSettings(),n=kp(t._databaseId);return new z4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YT(t,e,n,r,a,l={}){const u=t.Fu(l.merge||l.mergeFields?2:0,e,n,a);e0("Data must be an object, but it was:",u,r);const p=GT(r,u);let m,w;if(l.merge)m=new jr(u.fieldMask),w=u.fieldTransforms;else if(l.mergeFields){const A=[];for(const T of l.mergeFields){const I=Wv(e,T,n);if(!u.contains(I))throw new je(xe.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);KT(A,I)||A.push(I)}m=new jr(A),w=u.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,w=u.fieldTransforms;return new V4(new _r(p),m,w)}class Lp extends Qx{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lp}}function U4(t,e,n,r){const a=t.Fu(1,e,n);e0("Data must be an object, but it was:",a,r);const l=[],u=_r.empty();Wo(r,(m,w)=>{const A=t0(e,m,n);w=mn(w);const T=a.Su(A);if(w instanceof Lp)l.push(A);else{const I=Rh(w,T);I!=null&&(l.push(A),u.set(A,I))}});const p=new jr(l);return new WT(u,p,a.fieldTransforms)}function B4(t,e,n,r,a,l){const u=t.Fu(1,e,n),p=[Wv(e,r,n)],m=[a];if(l.length%2!=0)throw new je(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)p.push(Wv(e,l[I])),m.push(l[I+1]);const w=[],A=_r.empty();for(let I=p.length-1;I>=0;--I)if(!KT(w,p[I])){const z=p[I];let $=m[I];$=mn($);const q=u.Su(z);if($ instanceof Lp)w.push(z);else{const Z=Rh($,q);Z!=null&&(w.push(z),A.set(z,Z))}}const T=new jr(w);return new WT(A,T,u.fieldTransforms)}function H4(t,e,n,r=!1){return Rh(n,t.Fu(r?4:3,e))}function Rh(t,e){if(qT(t=mn(t)))return e0("Unsupported field value:",e,t),GT(t,e);if(t instanceof Qx)return function(r,a){if(!XT(a.fu))throw a.Du(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Du(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const p of r){let m=Rh(p,a.bu(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=an.fromDate(r);return{timestampValue:Mf(a.serializer,l)}}if(r instanceof an){const l=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(a.serializer,l)}}if(r instanceof Zx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gc)return{bytesValue:uT(a.serializer,r._byteString)};if(r instanceof fr){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Du(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:jx(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Du(`Unsupported field value: ${Ip(r)}`)}(t,e)}function GT(t,e){const n={};return jC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(r,a)=>{const l=Rh(a,e.pu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function qT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof Zx||t instanceof gc||t instanceof fr||t instanceof Qx)}function e0(t,e,n){if(!qT(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Ip(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Wv(t,e,n){if((e=mn(e))instanceof Rp)return e._internalPath;if(typeof e=="string")return t0(t,e);throw jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const $4=new RegExp("[~\\*/\\[\\]]");function t0(t,e,n){if(e.search($4)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rp(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jf(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new je(xe.INVALID_ARGUMENT,p+t+m)}function KT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W4 extends QT{data(){return super.data()}}function Dp(t,e){return typeof e=="string"?t0(t,e):e instanceof Rp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n0{}class r0 extends n0{}function or(t,e,...n){let r=[];e instanceof n0&&r.push(e),r=r.concat(n),function(l){const u=l.filter(m=>m instanceof i0).length,p=l.filter(m=>m instanceof Op).length;if(u>1||u>0&&p>0)throw new je(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Op extends r0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Op(e,n,r)}_apply(e){const n=this._parse(e);return eI(e._query,n),new kc(e.firestore,e.converter,Fv(e._query,n))}_parse(e){const n=Np(e.firestore);return function(l,u,p,m,w,A,T){let I;if(w.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new je(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){cS(T,A);const z=[];for(const $ of T)z.push(lS(m,l,$));I={arrayValue:{values:z}}}else I=lS(m,l,T)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||cS(T,A),I=H4(p,u,T,A==="in"||A==="not-in");return bn.create(w,A,I)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Li(t,e,n){const r=e,a=Dp("where",t);return Op._create(a,r,n)}class i0 extends n0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const p=l.getFlattenedFilters();for(const m of p)eI(u,m),u=Fv(u,m)}(e._query,n),new kc(e.firestore,e.converter,Fv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s0 extends r0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s0(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new je(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new je(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new th(l,u)}(e._query,this._field,this._direction);return new kc(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new _c(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function ZT(t,e="asc"){const n=e,r=Dp("orderBy",t);return s0._create(r,n)}class a0 extends r0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new a0(e,n,r)}_apply(e){return new kc(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}function JT(t){return D4("limit",t),a0._create("limit",t,"F")}function lS(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new je(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YC(e)&&n.indexOf("/")!==-1)throw new je(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Ze.isDocumentKey(r))throw new je(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R1(t,new Ze(r))}if(n instanceof fr)return R1(t,n._key);throw new je(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ip(n)}.`)}function cS(t,e){if(!Array.isArray(t)||t.length===0)throw new je(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eI(t,e){const n=function(a,l){for(const u of a)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y4{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertGeoPoint(e){return new Zx(yn(e.latitude),yn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Px(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const n=Na(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);Ht(mT(r));const a=new Ju(r.get(1),r.get(3)),l=new Ze(r.popFirst(5));return a.isEqual(n)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nI extends QT{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $d extends nI{data(e={}){return super.data(e)}}class G4{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ou(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $d(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(p=>{const m=new $d(a._firestore,a._userDataWriter,p.doc.key,p.doc,new ou(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const m=new $d(a._firestore,a._userDataWriter,p.doc.key,p.doc,new ou(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let w=-1,A=-1;return p.type!==0&&(w=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),A=u.indexOf(p.doc.key)),{type:q4(p.type),doc:m,oldIndex:w,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){t=Ni(t,fr);const e=Ni(t.firestore,Yo);return R4(Kx(e),t._key).then(n=>K4(e,t,n))}class rI extends Y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}function Yt(t){t=Ni(t,kc);const e=Ni(t.firestore,Yo),n=Kx(e),r=new rI(e);return X4(t._query),N4(n,t._query).then(a=>new G4(e,r,t,a))}function Vf(t,e,n){t=Ni(t,fr);const r=Ni(t.firestore,Yo),a=tI(t.converter,e,n);return Mp(r,[YT(Np(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,oi.none())])}function Nh(t,e,n,...r){t=Ni(t,fr);const a=Ni(t.firestore,Yo),l=Np(a);let u;return u=typeof(e=mn(e))=="string"||e instanceof Rp?B4(l,"updateDoc",t._key,e,n,r):U4(l,"updateDoc",t._key,e),Mp(a,[u.toMutation(t._key,oi.exists(!0))])}function bo(t){return Mp(Ni(t.firestore,Yo),[new Ox(t._key,oi.none())])}function Ba(t,e){const n=Ni(t.firestore,Yo),r=wn(t),a=tI(t.converter,e);return Mp(n,[YT(Np(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,oi.exists(!1))]).then(()=>r)}function Mp(t,e){return function(r,a){const l=new Ts;return r.asyncQueue.enqueueAndForget(async()=>y4(await P4(r),a,l)),l.promise}(Kx(t),e)}function K4(t,e,n){const r=n.docs.get(e._key),a=new rI(t);return new nI(t,a,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Sc=a})($o),Ii(new ui("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),p=new Yo(new Jj(r.getProvider("auth-internal")),new rV(r.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new je(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(w.options.projectId,A)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),Tr(C1,"4.6.3",e),Tr(C1,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebasestorage.googleapis.com",Q4="storageBucket",Z4=2*60*1e3,J4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends hi{constructor(e,n,r=0){super(am(e),`Firebase Storage: ${n} (${am(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,is.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ts;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ts||(ts={}));function am(t){return"storage/"+t}function eU(){const t="An unknown error occurred, please check the error payload for server response.";return new is(ts.UNKNOWN,t)}function tU(){return new is(ts.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nU(){return new is(ts.CANCELED,"User canceled the upload/download.")}function rU(t){return new is(ts.INVALID_URL,"Invalid URL '"+t+"'.")}function iU(t){return new is(ts.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uS(t){return new is(ts.INVALID_ARGUMENT,t)}function sI(){return new is(ts.APP_DELETED,"The Firebase app was deleted.")}function sU(t){return new is(ts.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_i.makeFromUrl(e,n)}catch{return new _i(e,"")}if(r.path==="")return r;throw iU(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function w(re){re.path_=decodeURIComponent(re.path)}const A="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",z=new RegExp(`^https?://${T}/${A}/b/${a}/o${I}`,"i"),$={bucket:1,path:3},q=n===iI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",X=new RegExp(`^https?://${q}/${a}/${Z}`,"i"),J=[{regex:p,indices:m,postModify:l},{regex:z,indices:$,postModify:w},{regex:X,indices:{bucket:1,path:2},postModify:w}];for(let re=0;re<J.length;re++){const te=J[re],oe=te.regex.exec(e);if(oe){const j=oe[te.indices.bucket];let W=oe[te.indices.path];W||(W=""),r=new _i(j,W),te.postModify(r);break}}if(r==null)throw rU(e);return r}}class aU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e,n){let r=1,a=null,l=null,u=!1,p=0;function m(){return p===2}let w=!1;function A(...Z){w||(w=!0,e.apply(null,Z))}function T(Z){a=setTimeout(()=>{a=null,t(z,m())},Z)}function I(){l&&clearTimeout(l)}function z(Z,...X){if(w){I();return}if(Z){I(),A.call(null,Z,...X);return}if(m()||u){I(),A.call(null,Z,...X);return}r<64&&(r*=2);let J;p===1?(p=2,J=0):J=(r+Math.random())*1e3,T(J)}let $=!1;function q(Z){$||($=!0,I(),!w&&(a!==null?(Z||(p=2),clearTimeout(a),T(0)):Z||(p=1)))}return T(0),l=setTimeout(()=>{u=!0,q(!0)},n),q}function lU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return t!==void 0}function hS(t,e,n,r){if(r<e)throw uS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uS(`Invalid value for '${t}'. Expected ${n} or less.`)}function uU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zf||(zf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r,a,l,u,p,m,w,A,T,I=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=m,this.timeout_=w,this.progressCallback_=A,this.connectionFactory_=T,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,$)=>{this.resolve_=z,this.reject_=$,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new xd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=p=>{const m=p.loaded,w=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,w)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const p=l.getErrorCode()===zf.NO_ERROR,m=l.getStatus();if(!p||hU(m,this.additionalRetryCodes_)&&this.retry){const A=l.getErrorCode()===zf.ABORT;r(!1,new xd(!1,null,A));return}const w=this.successCodes_.indexOf(m)!==-1;r(!0,new xd(w,l))})},n=(r,a)=>{const l=this.resolve_,u=this.reject_,p=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());cU(m)?l(m):l()}catch(m){u(m)}else if(p!==null){const m=eU();m.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,m)):u(m)}else if(a.canceled){const m=this.appDelete_?sI():nU();u(m)}else{const m=tU();u(m)}};this.canceled_?n(!1,new xd(!1,null,!0)):this.backoffId_=oU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vU(t,e,n,r,a,l,u=!0){const p=uU(t.urlParams),m=t.url+p,w=Object.assign({},t.headers);return gU(w,e),fU(w,n),pU(w,l),mU(w,r),new dU(m,t.method,w,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bU=class Xv{constructor(e,n){this._service=e,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xv(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xU(this._location.path)}get storage(){return this._service}get parent(){const e=yU(this._location.path);if(e===null)return null;const n=new _i(this._location.bucket,e);return new Xv(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sU(e)}};function dS(t,e){const n=e==null?void 0:e[Q4];return n==null?null:_i.makeFromBucketSpec(n,t)}function wU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Fk(a,t.app.options.projectId))}class SU{constructor(e,n,r,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=iI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z4,this._maxUploadRetryTime=J4,this._requests=new Set,a!=null?this._bucket=_i.makeFromBucketSpec(a,this._host):this._bucket=dS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=dS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bU(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new aU(sI());{const u=vU(e,this._appId,r,a,n,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const fS="@firebase/storage",pS="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="storage";function _U(t=gp(),e){t=mn(t);const r=Va(t,aI).getImmediate({identifier:e}),a=Dk("storage");return a&&EU(r,...a),r}function EU(t,e,n,r={}){wU(t,e,n,r)}function AU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new SU(n,r,a,e,$o)}function kU(){Ii(new ui(aI,AU,"PUBLIC").setMultipleInstances(!0)),Tr(fS,pS,""),Tr(fS,pS,"esm2017")}kU();const oI="@firebase/installations",o0="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1e4,cI=`w:${o0}`,uI="FIS_v2",CU="https://firebaseinstallations.googleapis.com/v1",TU=60*60*1e3,IU="installations",PU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oo=new Ho(IU,PU,RU);function hI(t){return t instanceof hi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI({projectId:t}){return`${CU}/projects/${t}/installations`}function fI(t){return{token:t.token,requestStatus:2,expiresIn:LU(t.expiresIn),creationTime:Date.now()}}async function pI(t,e){const r=(await e.json()).error;return Oo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NU(t,{refreshToken:e}){const n=gI(t);return n.append("Authorization",DU(e)),n}async function mI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function LU(t){return Number(t.replace("s","000"))}function DU(t){return`${uI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=dI(t),a=gI(t),l=e.getImmediate({optional:!0});if(l){const w=await l.getHeartbeatsHeader();w&&a.append("x-firebase-client",w)}const u={fid:n,authVersion:uI,appId:t.appId,sdkVersion:cI},p={method:"POST",headers:a,body:JSON.stringify(u)},m=await mI(()=>fetch(r,p));if(m.ok){const w=await m.json();return{fid:w.fid||n,registrationStatus:2,refreshToken:w.refreshToken,authToken:fI(w.authToken)}}else throw await pI("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=/^[cdef][\w-]{21}$/,Yv="";function jU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=VU(t);return FU.test(n)?n:Yv}catch{return Yv}}function VU(t){return MU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new Map;function xI(t,e){const n=Fp(t);bI(n,e),zU(n,e)}function bI(t,e){const n=yI.get(t);if(n)for(const r of n)r(e)}function zU(t,e){const n=UU();n&&n.postMessage({key:t,fid:e}),BU()}let lo=null;function UU(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=t=>{bI(t.data.key,t.data.fid)}),lo}function BU(){yI.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="firebase-installations-database",$U=1,Mo="firebase-installations-store";let om=null;function l0(){return om||(om=Hk(HU,$U,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mo)}}})),om}async function Uf(t,e){const n=Fp(t),a=(await l0()).transaction(Mo,"readwrite"),l=a.objectStore(Mo),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&xI(t,e.fid),e}async function wI(t){const e=Fp(t),r=(await l0()).transaction(Mo,"readwrite");await r.objectStore(Mo).delete(e),await r.done}async function jp(t,e){const n=Fp(t),a=(await l0()).transaction(Mo,"readwrite"),l=a.objectStore(Mo),u=await l.get(n),p=e(u);return p===void 0?await l.delete(n):await l.put(p,n),await a.done,p&&(!u||u.fid!==p.fid)&&xI(t,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(t){let e;const n=await jp(t.appConfig,r=>{const a=WU(r),l=XU(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Yv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function WU(t){const e=t||{fid:jU(),registrationStatus:0};return SI(e)}function XU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Oo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=YU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GU(t)}:{installationEntry:e}}async function YU(t,e){try{const n=await OU(t,e);return Uf(t.appConfig,n)}catch(n){throw hI(n)&&n.customData.serverCode===409?await wI(t.appConfig):await Uf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function GU(t){let e=await gS(t.appConfig);for(;e.registrationStatus===1;)await vI(100),e=await gS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await c0(t);return r||n}return e}function gS(t){return jp(t,e=>{if(!e)throw Oo.create("installation-not-found");return SI(e)})}function SI(t){return qU(t)?{fid:t.fid,registrationStatus:0}:t}function qU(t){return t.registrationStatus===1&&t.registrationTime+lI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU({appConfig:t,heartbeatServiceProvider:e},n){const r=QU(t,n),a=NU(t,n),l=e.getImmediate({optional:!0});if(l){const w=await l.getHeartbeatsHeader();w&&a.append("x-firebase-client",w)}const u={installation:{sdkVersion:cI,appId:t.appId}},p={method:"POST",headers:a,body:JSON.stringify(u)},m=await mI(()=>fetch(r,p));if(m.ok){const w=await m.json();return fI(w)}else throw await pI("Generate Auth Token",m)}function QU(t,{fid:e}){return`${dI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t,e=!1){let n;const r=await jp(t.appConfig,l=>{if(!_I(l))throw Oo.create("not-registered");const u=l.authToken;if(!e&&eB(u))return l;if(u.requestStatus===1)return n=ZU(t,e),l;{if(!navigator.onLine)throw Oo.create("app-offline");const p=nB(l);return n=JU(t,p),p}});return n?await n:r.authToken}async function ZU(t,e){let n=await mS(t.appConfig);for(;n.authToken.requestStatus===1;)await vI(100),n=await mS(t.appConfig);const r=n.authToken;return r.requestStatus===0?u0(t,e):r}function mS(t){return jp(t,e=>{if(!_I(e))throw Oo.create("not-registered");const n=e.authToken;return rB(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function JU(t,e){try{const n=await KU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Uf(t.appConfig,r),n}catch(n){if(hI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uf(t.appConfig,r)}throw n}}function _I(t){return t!==void 0&&t.registrationStatus===2}function eB(t){return t.requestStatus===2&&!tB(t)}function tB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+TU}function nB(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function rB(t){return t.requestStatus===1&&t.requestTime+lI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t){const e=t,{installationEntry:n,registrationPromise:r}=await c0(e);return r?r.catch(console.error):u0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(t,e=!1){const n=t;return await aB(n),(await u0(n,e)).token}async function aB(t){const{registrationPromise:e}=await c0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){if(!t||!t.options)throw lm("App Configuration");if(!t.name)throw lm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lm(t){return Oo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="installations",lB="installations-internal",cB=t=>{const e=t.getProvider("app").getImmediate(),n=oB(e),r=Va(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},uB=t=>{const e=t.getProvider("app").getImmediate(),n=Va(e,EI).getImmediate();return{getId:()=>iB(n),getToken:a=>sB(n,a)}};function hB(){Ii(new ui(EI,cB,"PUBLIC")),Ii(new ui(lB,uB,"PRIVATE"))}hB();Tr(oI,o0);Tr(oI,o0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="analytics",dB="firebase_id",fB="origin",pB=60*1e3,gB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",h0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new pp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hr=new Ho("analytics","Analytics",mB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){if(!t.startsWith(h0)){const e=Hr.create("invalid-gtag-resource",{gtagURL:t});return Ir.warn(e.message),""}return t}function AI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function yB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xB(t,e){const n=yB("firebase-js-sdk-policy",{createScriptURL:vB}),r=document.createElement("script"),a=`${h0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function bB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function wB(t,e,n,r,a,l){const u=r[a];try{if(u)await e[u];else{const m=(await AI(n)).find(w=>w.measurementId===a);m&&await e[m.appId]}}catch(p){Ir.error(p)}t("config",a,l)}async function SB(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const p=await AI(n);for(const m of u){const w=p.find(T=>T.measurementId===m),A=w&&e[w.appId];if(A)l.push(A);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){Ir.error(l)}}function _B(t,e,n,r){async function a(l,...u){try{if(l==="event"){const[p,m]=u;await SB(t,e,n,p,m)}else if(l==="config"){const[p,m]=u;await wB(t,e,n,r,p,m)}else if(l==="consent"){const[p,m]=u;t("consent",p,m)}else if(l==="get"){const[p,m,w]=u;t("get",p,m,w)}else if(l==="set"){const[p]=u;t("set",p)}else t(l,...u)}catch(p){Ir.error(p)}}return a}function EB(t,e,n,r,a){let l=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=_B(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function AB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(h0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=30,CB=1e3;class TB{constructor(e={},n=CB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kI=new TB;function IB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function PB(t){var e;const{appId:n,apiKey:r}=t,a={method:"GET",headers:IB(r)},l=gB.replace("{app-id}",n),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let p="";try{const m=await u.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw Hr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function RB(t,e=kI,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw Hr.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw Hr.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new DB;return setTimeout(async()=>{p.abort()},n!==void 0?n:pB),CI({appId:r,apiKey:a,measurementId:l},u,p,e)}async function CI(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=kI){var l;const{appId:u,measurementId:p}=t;try{await NB(r,e)}catch(m){if(p)return Ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:p};throw m}try{const m=await PB(t);return a.deleteThrottleMetadata(u),m}catch(m){const w=m;if(!LB(w)){if(a.deleteThrottleMetadata(u),p)return Ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${w==null?void 0:w.message}]`),{appId:u,measurementId:p};throw m}const A=Number((l=w==null?void 0:w.customData)===null||l===void 0?void 0:l.httpStatus)===503?Zw(n,a.intervalMillis,kB):Zw(n,a.intervalMillis),T={throttleEndTimeMillis:Date.now()+A,backoffCount:n+1};return a.setThrottleMetadata(u,T),Ir.debug(`Calling attemptFetch again in ${A} millis`),CI(t,T,r,a)}}function NB(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(Hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LB(t){if(!(t instanceof hi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class DB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function OB(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,u=Object.assign(Object.assign({},r),{send_to:l});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(){if(Vk())try{await zk()}catch(t){return Ir.warn(Hr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ir.warn(Hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FB(t,e,n,r,a,l,u){var p;const m=RB(t);m.then(z=>{n[z.measurementId]=z.appId,t.options.measurementId&&z.measurementId!==t.options.measurementId&&Ir.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${z.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(z=>Ir.error(z)),e.push(m);const w=MB().then(z=>{if(z)return r.getId()}),[A,T]=await Promise.all([m,w]);AB(l)||xB(l,A.measurementId),a("js",new Date);const I=(p=u==null?void 0:u.config)!==null&&p!==void 0?p:{};return I[fB]="firebase",I.update=!0,T!=null&&(I[dB]=T),a("config",A.measurementId,I),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.app=e}_delete(){return delete Au[this.app.options.appId],Promise.resolve()}}let Au={},vS=[];const yS={};let cm="dataLayer",VB="gtag",xS,TI,bS=!1;function zB(){const t=[];if(jk()&&t.push("This is a browser extension environment."),fO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=Hr.create("invalid-analytics-context",{errorInfo:e});Ir.warn(n.message)}}function UB(t,e,n){zB();const r=t.options.appId;if(!r)throw Hr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hr.create("no-api-key");if(Au[r]!=null)throw Hr.create("already-exists",{id:r});if(!bS){bB(cm);const{wrappedGtag:l,gtagCore:u}=EB(Au,vS,yS,cm,VB);TI=l,xS=u,bS=!0}return Au[r]=FB(t,vS,yS,e,xS,cm,n),new jB(t)}function BB(t=gp()){t=mn(t);const e=Va(t,Bf);return e.isInitialized()?e.getImmediate():HB(t)}function HB(t,e={}){const n=Va(t,Bf);if(n.isInitialized()){const a=n.getImmediate();if(Gu(e,n.getOptions()))return a;throw Hr.create("already-initialized")}return n.initialize({options:e})}function Lh(t,e,n,r){t=mn(t),OB(TI,Au[t.app.options.appId],e,n,r).catch(a=>Ir.error(a))}const wS="@firebase/analytics",SS="0.10.4";function $B(){Ii(new ui(Bf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return UB(r,a,n)},"PUBLIC")),Ii(new ui("analytics-internal",t,"PRIVATE")),Tr(wS,SS),Tr(wS,SS,"esm2017");function t(e){try{const n=e.getProvider(Bf).getImmediate();return{logEvent:(r,a,l)=>Lh(n,r,a,l)}}catch(n){throw Hr.create("interop-component-reg-failed",{reason:n})}}}$B();const WB={apiKey:"AIzaSyCf5F_DSwUdy-BNsgPQihDQmM2agoT8Bj0",authDomain:"studymaterials-eda8e.firebaseapp.com",projectId:"studymaterials-eda8e",storageBucket:"studymaterials-eda8e.appspot.com",messagingSenderId:"185567007879",appId:"1:185567007879:web:17a08c3073bc34c0fed422",measurementId:"G-YQ2869MCM1"},Vp=$k(WB),Vr=qj(Vp),et=F4(Vp);_U(Vp);const zp=BB(Vp),II=K.createContext({token:null,adminToken:null,isAdmin:!1,setToken:()=>{},signInWithFirebase:async()=>{},logout:async()=>{},logoutOnClose:!1,setLogoutOnClose:async()=>{}}),XB=({children:t})=>{const[e,n]=K.useState(localStorage.getItem("token")),[,r]=K.useState(null),[a,l]=K.useState(!1),[u,p]=K.useState(!1),[m,w]=K.useState(localStorage.getItem("adminToken"));K.useEffect(()=>{const z=Vr.onAuthStateChanged($=>{r($),$?(n($.uid),localStorage.setItem("token",$.uid)):(n(null),localStorage.removeItem("token"))});return()=>z()},[]);const A=z=>{n(z),z?localStorage.setItem("token",z):localStorage.removeItem("token")},T=async(z,$)=>{var q;try{const Z=await yC(Vr,z,$);if(!Z.user)throw new Error("No user found");if(Z.user.emailVerified===!1)throw new Error("Email not verified");const X=await Z.user.getIdTokenResult(),L=X.claims.admin===!0;console.log("Is Admin:",L),l(L),L?(w(X.token),localStorage.setItem("adminToken",X.token),window.location.href="/admin/dashboard"):window.location.href="/study",n(Z.user.uid);const J=(q=Z==null?void 0:Z.user)==null?void 0:q.uid;localStorage.setItem("token",Z.user.uid);const re=wn(et,"users",J);await Vf(re,{status:"active",lastUpdated:an.now()},{merge:!0}),p(!1)}catch(Z){throw console.error("Error signing in:",Z.message),Z}},I=async()=>{var Z;const z=(Z=Vr.currentUser)==null?void 0:Z.uid;if(!z){console.error("User ID is not available");return}const $=wn(et,"users",z),q="inactive";try{await Vf($,{status:q,lastUpdated:an.now()},{merge:!0}),await Vr.signOut(),n(null),l(!1),localStorage.removeItem("token"),localStorage.removeItem("adminToken"),localStorage.removeItem("ACCESS_TOKEN"),localStorage.removeItem("USER"),p(!0),window.location.reload()}catch(X){throw console.error("Error signing out:",X.message),X}};return D.jsx(II.Provider,{value:{token:e,adminToken:m,isAdmin:a,setToken:A,signInWithFirebase:T,logout:I,logoutOnClose:u,setLogoutOnClose:p},children:t})},Us=()=>K.useContext(II),YB=async t=>{try{return await Ba(Et(et,"subjects"),t),!0}catch(e){return console.error("Error adding subject:",e),!1}},d0=async()=>{try{const t=Et(et,"subjects");return(await Yt(t)).docs.map(r=>({id:r.id,name:r.data().name}))}catch(t){throw console.error("Error fetching subjects:",t),new Error("Failed to fetch subjects")}},Dh=async t=>{try{const e=or(Et(et,"chapters"),Li("subjectId","==",t));return(await Yt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching chapters:",e),[]}},GB=async()=>{try{const t=or(Et(et,"subchapters"));return(await Yt(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error fetching all sub-chapters:",t),[]}},Up=async t=>{try{const e=or(Et(et,"subchapters"),Li("chapterId","==",t));return(await Yt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching sub-chapters:",e),[]}},qB=async t=>{try{return await Ba(Et(et,"chapters"),t),!0}catch(e){return console.error("Error adding chapter:",e),!1}},KB=async t=>{try{return await Ba(Et(et,"subchapters"),t),!0}catch(e){return console.error("Error adding sub-chapter:",e),!1}},QB=async t=>{try{console.log("Deleting related sub-chapters",t);const e=Et(et,"subchapters"),n=or(e,Li("chapterId","==",t));console.log("Sub-chapters query:",n),(await Yt(n)).forEach(async m=>{await bo(m.ref),console.log(`Document with ID ${m.id} deleted successfully.`)});const a=Et(et,"contents"),l=or(a,Li("chapterId","==",t));console.log("Content query:",l),(await Yt(l)).forEach(async m=>{await bo(m.ref),console.log(`Document with ID ${m.id} deleted successfully.`)});const p=wn(et,"chapters",t);await bo(p),console.log(`Chapter with ID ${t} deleted successfully`)}catch(e){throw console.error("Error deleting chapter:",e),new Error("Failed to delete chapter and related data")}},ZB=async(t,e)=>{try{const n=wn(et,"chapters",t);await Nh(n,e),console.log(`Chapter with ID ${t} updated successfully`)}catch(n){throw console.error("Error updating chapter:",n),new Error("Failed to update chapter")}},PI=async t=>{try{const e=or(Et(et,"contents"),Li("subChapterId","==",t));return(await Yt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching content title:",e),e}},JB=async()=>{try{const t=or(Et(et,"contents"));return(await Yt(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching all contents:",t),t}},e3=async t=>{try{const e=or(Et(et,"contents"),ZT("createdAt","desc"),JT(t||10)),r=(await Yt(e)).docs.map(l=>({id:l.id,...l.data(),createdAt:l.data().createdAt.toMillis()})),a=[];for(let l=0;l<r.length;l++){const{id:u,chapterId:p,subChapterId:m,subjectId:w}=r[l],A=wn(et,"chapters",p),T=await xo(A),I={id:T.id,...T.data()},z=wn(et,"subchapters",m),$=await xo(z),q={id:$.id,...$.data()},Z=wn(et,"subjects",w),X=await xo(Z),L={id:X.id,...X.data()},J={...r[l],chapterName:I==null?void 0:I.name,subchapterName:q==null?void 0:q.name,subjectName:L==null?void 0:L.name};a.push(J)}return a}catch(e){throw console.error("Error fetching sorted contents:",e),e}},t3=async()=>{try{const t=Et(et,"contents"),e=or(t,ZT("createdAt","desc"),JT(5)),n=await Yt(e),r=[];return n.forEach(a=>{r.push({id:a.id,...a.data()})}),r}catch(t){throw console.error("Error fetching latest content:",t),t}},n3=async t=>{try{const e=wn(et,"contents",t),n=await xo(e);if(n.exists())return{id:n.id,...n.data()};console.log("No such document!");return}catch(e){throw console.error("Error fetching content:",e),e}},r3=async t=>{try{const e=wn(et,"contents",t);await bo(e)}catch(e){throw console.error("Error deleting content:",e),e}},i3=async(t,e)=>{try{const n=Et(et,"contents"),r=or(n,Li("chapterId","==",e));console.log("Content query:",r),(await Yt(r)).forEach(async u=>{await bo(u.ref),console.log(`Document with ID ${u.id} deleted successfully.`)});const l=wn(et,"subchapters",t);await bo(l)}catch(n){throw console.error("Error deleting sub-chapter:",n),n}},s3=async(t,e,n)=>{try{console.log(t,"SUB ID"),console.log(n,"UPDATE DATA");const r=wn(et,"subchapters",t);console.log(r),await Nh(r,n),console.log(`Sub Chapter with ID ${t} updated successfully`)}catch(r){throw console.error("Error updating sub-chapter:",r),r}},RI=K.createContext({subjects:[],setSubjects:()=>{}}),a3=({children:t})=>{at.useEffect(()=>{r()},[]);const[e,n]=at.useState([]),r=async()=>{try{const a=await d0();n(a)}catch(a){console.error("Error fetching subjects:",a)}};return D.jsx(RI.Provider,{value:{subjects:e,setSubjects:n},children:t})},NI=()=>at.useContext(RI),_S=({label:t,link:e,subItems:n})=>{const[r,a]=K.useState(!1),l=K.useRef(null);return K.useEffect(()=>{const u=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),D.jsxs("div",{className:"relative group",ref:l,children:[D.jsxs(ir,{to:e||"#",className:"flex items-center space-x-1 text-gray-300 hover:text-white",onClick:u=>{n&&(u.preventDefault(),a(!r))},children:[D.jsx("span",{children:t}),n&&D.jsx(bD,{})]}),n&&D.jsx("div",{className:`absolute top-full left-0 mt-2 w-48 bg-gray-800 shadow-lg rounded-lg py-2 z-10 transition-all duration-200 ${r?"block":"hidden"} group-hover:block`,children:n.map(u=>D.jsx(ir,{to:u.link,className:"block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white",onClick:()=>a(!1),children:u.label},u.label))})]})},LI=({toggleSidebar:t})=>{const[e,n]=K.useState(!1),[r,a]=K.useState(""),[l,u]=K.useState([]),[p,m]=K.useState(!1),w=localStorage.getItem("token")!==null,A=K.useRef(null),{logout:T,adminToken:I}=Us(),{enqueueSnackbar:z}=yr(),$=Di(),{subjects:q}=NI();K.useEffect(()=>{const re=te=>{A.current&&!A.current.contains(te.target)&&m(!1)};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]);const Z=async re=>{const te=re.target.value.toLowerCase();a(te);try{const oe=Et(et,"contents"),j=or(oe,Li("title",">=",te)),Y=(await Yt(j)).docs.map(gt=>({title:gt.data().title,link:`/contents/${gt.id}`})),ee=Et(et,"subChapters"),ie=or(ee,Li("title",">=",te)),ne=(await Yt(ie)).docs.map(gt=>({title:gt.data().title,link:`/subchapters/${gt.id}`})),rt=[...Y,...ne];u(rt)}catch(oe){console.error("Error searching in Firebase:",oe)}},X=re=>{console.log(re),$(re),u([]),a("")},L=()=>{try{T(),z("Logged Out successfully!",{variant:"success"}),$("/study/login")}catch(re){z(`Error: ${re.message}`,{variant:"error"})}},J=[I?{label:"Dashboard",link:"/admin/dashboard"}:null,{label:"Home",link:"/study"},{label:"Subjects",subItems:q.map(re=>({label:re.name,link:`/study/subjects/${re.id}`}))},{label:"Blog",link:"http://blog.sahajshakya.com.np"}].filter(re=>re!==null);return D.jsxs("nav",{className:"bg-gray-900 text-white z-20",children:[D.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"flex items-center justify-between h-16",children:[D.jsx("div",{className:"flex-shrink-0",onClick:t,children:D.jsx("span",{className:"text-xl font-bold",children:"Study Materials"})}),D.jsx("div",{className:"flex-start ml-2 pl-6",children:D.jsx("div",{className:"hidden mobile:hidden laptop:flex tablet:flex desktop:flex space-x-4",children:J.map(re=>D.jsx(_S,{...re},re.label))})}),D.jsxs("div",{className:"flex items-center flex-1 justify-center relative",children:[D.jsxs("div",{className:"relative",children:[D.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:Z,className:"bg-gray-800 text-gray-300 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"}),D.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:D.jsx(SD,{})})]}),l.length>0&&D.jsx("div",{className:"absolute top-full mt-2 w-full bg-gray-800 shadow-lg rounded-lg py-2 z-10",children:l.map(re=>D.jsx(ir,{to:re.link,className:"block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white",onClick:()=>X(re.link),children:re.title},re.title))})]}),D.jsxs("div",{className:"relative ml-auto",children:[w?D.jsxs("div",{className:"relative ml-4",children:[D.jsx("button",{className:"text-gray-400 hover:text-white focus:outline-none",onClick:()=>m(!p),children:D.jsx(ED,{})}),p&&D.jsxs("div",{ref:A,className:"absolute right-0 mt-2 w-48 bg-gray-800 shadow-lg rounded-lg py-2 z-10",children:[D.jsx(ir,{to:"/study/changepassword",className:"block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white",onClick:()=>m(!1),children:"Change Password"}),D.jsx(ir,{to:"/study/changedetails",className:"block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white",onClick:()=>m(!1),children:"Change Details"}),D.jsx("button",{onClick:()=>{L(),m(!1)},className:"block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white w-full text-left",children:"Logout"})]})]}):D.jsx("button",{className:"text-gray-400 hover:text-white focus:outline-none",onClick:()=>window.location.href="/study/login",children:"Login"}),D.jsx("div",{className:"block mobile:hidden",children:D.jsx("button",{onClick:()=>n(!e),className:"text-gray-400 hover:text-white focus:outline-none",children:e?D.jsx(_D,{}):D.jsx(wD,{})})})]})]})}),e&&D.jsx("div",{className:"mobile:hidden bg-gray-900",children:D.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:J.map(re=>D.jsx(_S,{...re},re.label))})})]})};var o3=function(e){return l3(e)&&!c3(e)};function l3(t){return!!t&&typeof t=="object"}function c3(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||d3(t)}var u3=typeof Symbol=="function"&&Symbol.for,h3=u3?Symbol.for("react.element"):60103;function d3(t){return t.$$typeof===h3}function f3(t){return Array.isArray(t)?[]:{}}function Hf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ih(f3(t),t,e):t}function p3(t,e,n){return t.concat(e).map(function(r){return Hf(r,n)})}function g3(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(a){r[a]=Hf(t[a],n)}),Object.keys(e).forEach(function(a){!n.isMergeableObject(e[a])||!t[a]?r[a]=Hf(e[a],n):r[a]=ih(t[a],e[a],n)}),r}function ih(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||p3,n.isMergeableObject=n.isMergeableObject||o3;var r=Array.isArray(e),a=Array.isArray(t),l=r===a;return l?r?n.arrayMerge(t,e,n):g3(t,e,n):Hf(e,n)}ih.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,a){return ih(r,a,n)},{})};var Gv=ih,DI=typeof global=="object"&&global&&global.Object===Object&&global,m3=typeof self=="object"&&self&&self.Object===Object&&self,ss=DI||m3||Function("return this")(),Da=ss.Symbol,OI=Object.prototype,v3=OI.hasOwnProperty,y3=OI.toString,qc=Da?Da.toStringTag:void 0;function x3(t){var e=v3.call(t,qc),n=t[qc];try{t[qc]=void 0;var r=!0}catch{}var a=y3.call(t);return r&&(e?t[qc]=n:delete t[qc]),a}var b3=Object.prototype,w3=b3.toString;function S3(t){return w3.call(t)}var _3="[object Null]",E3="[object Undefined]",ES=Da?Da.toStringTag:void 0;function Go(t){return t==null?t===void 0?E3:_3:ES&&ES in Object(t)?x3(t):S3(t)}function MI(t,e){return function(n){return t(e(n))}}var f0=MI(Object.getPrototypeOf,Object);function qo(t){return t!=null&&typeof t=="object"}var A3="[object Object]",k3=Function.prototype,C3=Object.prototype,FI=k3.toString,T3=C3.hasOwnProperty,I3=FI.call(Object);function AS(t){if(!qo(t)||Go(t)!=A3)return!1;var e=f0(t);if(e===null)return!0;var n=T3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&FI.call(n)==I3}function P3(){this.__data__=[],this.size=0}function jI(t,e){return t===e||t!==t&&e!==e}function Bp(t,e){for(var n=t.length;n--;)if(jI(t[n][0],e))return n;return-1}var R3=Array.prototype,N3=R3.splice;function L3(t){var e=this.__data__,n=Bp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():N3.call(e,n,1),--this.size,!0}function D3(t){var e=this.__data__,n=Bp(e,t);return n<0?void 0:e[n][1]}function O3(t){return Bp(this.__data__,t)>-1}function M3(t,e){var n=this.__data__,r=Bp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bs.prototype.clear=P3;Bs.prototype.delete=L3;Bs.prototype.get=D3;Bs.prototype.has=O3;Bs.prototype.set=M3;function F3(){this.__data__=new Bs,this.size=0}function j3(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function V3(t){return this.__data__.get(t)}function z3(t){return this.__data__.has(t)}function Oh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var U3="[object AsyncFunction]",B3="[object Function]",H3="[object GeneratorFunction]",$3="[object Proxy]";function VI(t){if(!Oh(t))return!1;var e=Go(t);return e==B3||e==H3||e==U3||e==$3}var um=ss["__core-js_shared__"],kS=function(){var t=/[^.]+$/.exec(um&&um.keys&&um.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function W3(t){return!!kS&&kS in t}var X3=Function.prototype,Y3=X3.toString;function Ko(t){if(t!=null){try{return Y3.call(t)}catch{}try{return t+""}catch{}}return""}var G3=/[\\^$.*+?()[\]{}|]/g,q3=/^\[object .+?Constructor\]$/,K3=Function.prototype,Q3=Object.prototype,Z3=K3.toString,J3=Q3.hasOwnProperty,eH=RegExp("^"+Z3.call(J3).replace(G3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tH(t){if(!Oh(t)||W3(t))return!1;var e=VI(t)?eH:q3;return e.test(Ko(t))}function nH(t,e){return t==null?void 0:t[e]}function Qo(t,e){var n=nH(t,e);return tH(n)?n:void 0}var sh=Qo(ss,"Map"),ah=Qo(Object,"create");function rH(){this.__data__=ah?ah(null):{},this.size=0}function iH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sH="__lodash_hash_undefined__",aH=Object.prototype,oH=aH.hasOwnProperty;function lH(t){var e=this.__data__;if(ah){var n=e[t];return n===sH?void 0:n}return oH.call(e,t)?e[t]:void 0}var cH=Object.prototype,uH=cH.hasOwnProperty;function hH(t){var e=this.__data__;return ah?e[t]!==void 0:uH.call(e,t)}var dH="__lodash_hash_undefined__";function fH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ah&&e===void 0?dH:e,this}function Fo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fo.prototype.clear=rH;Fo.prototype.delete=iH;Fo.prototype.get=lH;Fo.prototype.has=hH;Fo.prototype.set=fH;function pH(){this.size=0,this.__data__={hash:new Fo,map:new(sh||Bs),string:new Fo}}function gH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Hp(t,e){var n=t.__data__;return gH(e)?n[typeof e=="string"?"string":"hash"]:n.map}function mH(t){var e=Hp(this,t).delete(t);return this.size-=e?1:0,e}function vH(t){return Hp(this,t).get(t)}function yH(t){return Hp(this,t).has(t)}function xH(t,e){var n=Hp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ha(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ha.prototype.clear=pH;Ha.prototype.delete=mH;Ha.prototype.get=vH;Ha.prototype.has=yH;Ha.prototype.set=xH;var bH=200;function wH(t,e){var n=this.__data__;if(n instanceof Bs){var r=n.__data__;if(!sh||r.length<bH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ha(r)}return n.set(t,e),this.size=n.size,this}function Cc(t){var e=this.__data__=new Bs(t);this.size=e.size}Cc.prototype.clear=F3;Cc.prototype.delete=j3;Cc.prototype.get=V3;Cc.prototype.has=z3;Cc.prototype.set=wH;function SH(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var CS=function(){try{var t=Qo(Object,"defineProperty");return t({},"",{}),t}catch{}}();function zI(t,e,n){e=="__proto__"&&CS?CS(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _H=Object.prototype,EH=_H.hasOwnProperty;function UI(t,e,n){var r=t[e];(!(EH.call(t,e)&&jI(r,n))||n===void 0&&!(e in t))&&zI(t,e,n)}function $p(t,e,n,r){var a=!n;n||(n={});for(var l=-1,u=e.length;++l<u;){var p=e[l],m=r?r(n[p],t[p],p,n,t):void 0;m===void 0&&(m=t[p]),a?zI(n,p,m):UI(n,p,m)}return n}function AH(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var kH="[object Arguments]";function TS(t){return qo(t)&&Go(t)==kH}var BI=Object.prototype,CH=BI.hasOwnProperty,TH=BI.propertyIsEnumerable,IH=TS(function(){return arguments}())?TS:function(t){return qo(t)&&CH.call(t,"callee")&&!TH.call(t,"callee")},Mh=Array.isArray;function PH(){return!1}var HI=typeof zr=="object"&&zr&&!zr.nodeType&&zr,IS=HI&&typeof Ur=="object"&&Ur&&!Ur.nodeType&&Ur,RH=IS&&IS.exports===HI,PS=RH?ss.Buffer:void 0,NH=PS?PS.isBuffer:void 0,$I=NH||PH,LH=9007199254740991,DH=/^(?:0|[1-9]\d*)$/;function OH(t,e){var n=typeof t;return e=e??LH,!!e&&(n=="number"||n!="symbol"&&DH.test(t))&&t>-1&&t%1==0&&t<e}var MH=9007199254740991;function WI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MH}var FH="[object Arguments]",jH="[object Array]",VH="[object Boolean]",zH="[object Date]",UH="[object Error]",BH="[object Function]",HH="[object Map]",$H="[object Number]",WH="[object Object]",XH="[object RegExp]",YH="[object Set]",GH="[object String]",qH="[object WeakMap]",KH="[object ArrayBuffer]",QH="[object DataView]",ZH="[object Float32Array]",JH="[object Float64Array]",e5="[object Int8Array]",t5="[object Int16Array]",n5="[object Int32Array]",r5="[object Uint8Array]",i5="[object Uint8ClampedArray]",s5="[object Uint16Array]",a5="[object Uint32Array]",Wt={};Wt[ZH]=Wt[JH]=Wt[e5]=Wt[t5]=Wt[n5]=Wt[r5]=Wt[i5]=Wt[s5]=Wt[a5]=!0;Wt[FH]=Wt[jH]=Wt[KH]=Wt[VH]=Wt[QH]=Wt[zH]=Wt[UH]=Wt[BH]=Wt[HH]=Wt[$H]=Wt[WH]=Wt[XH]=Wt[YH]=Wt[GH]=Wt[qH]=!1;function o5(t){return qo(t)&&WI(t.length)&&!!Wt[Go(t)]}function p0(t){return function(e){return t(e)}}var XI=typeof zr=="object"&&zr&&!zr.nodeType&&zr,ku=XI&&typeof Ur=="object"&&Ur&&!Ur.nodeType&&Ur,l5=ku&&ku.exports===XI,hm=l5&&DI.process,mc=function(){try{var t=ku&&ku.require&&ku.require("util").types;return t||hm&&hm.binding&&hm.binding("util")}catch{}}(),RS=mc&&mc.isTypedArray,c5=RS?p0(RS):o5,u5=Object.prototype,h5=u5.hasOwnProperty;function YI(t,e){var n=Mh(t),r=!n&&IH(t),a=!n&&!r&&$I(t),l=!n&&!r&&!a&&c5(t),u=n||r||a||l,p=u?AH(t.length,String):[],m=p.length;for(var w in t)(e||h5.call(t,w))&&!(u&&(w=="length"||a&&(w=="offset"||w=="parent")||l&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||OH(w,m)))&&p.push(w);return p}var d5=Object.prototype;function g0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||d5;return t===n}var f5=MI(Object.keys,Object),p5=Object.prototype,g5=p5.hasOwnProperty;function m5(t){if(!g0(t))return f5(t);var e=[];for(var n in Object(t))g5.call(t,n)&&n!="constructor"&&e.push(n);return e}function GI(t){return t!=null&&WI(t.length)&&!VI(t)}function m0(t){return GI(t)?YI(t):m5(t)}function v5(t,e){return t&&$p(e,m0(e),t)}function y5(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var x5=Object.prototype,b5=x5.hasOwnProperty;function w5(t){if(!Oh(t))return y5(t);var e=g0(t),n=[];for(var r in t)r=="constructor"&&(e||!b5.call(t,r))||n.push(r);return n}function v0(t){return GI(t)?YI(t,!0):w5(t)}function S5(t,e){return t&&$p(e,v0(e),t)}var qI=typeof zr=="object"&&zr&&!zr.nodeType&&zr,NS=qI&&typeof Ur=="object"&&Ur&&!Ur.nodeType&&Ur,_5=NS&&NS.exports===qI,LS=_5?ss.Buffer:void 0,DS=LS?LS.allocUnsafe:void 0;function E5(t,e){if(e)return t.slice();var n=t.length,r=DS?DS(n):new t.constructor(n);return t.copy(r),r}function KI(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function A5(t,e){for(var n=-1,r=t==null?0:t.length,a=0,l=[];++n<r;){var u=t[n];e(u,n,t)&&(l[a++]=u)}return l}function QI(){return[]}var k5=Object.prototype,C5=k5.propertyIsEnumerable,OS=Object.getOwnPropertySymbols,y0=OS?function(t){return t==null?[]:(t=Object(t),A5(OS(t),function(e){return C5.call(t,e)}))}:QI;function T5(t,e){return $p(t,y0(t),e)}function ZI(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var I5=Object.getOwnPropertySymbols,JI=I5?function(t){for(var e=[];t;)ZI(e,y0(t)),t=f0(t);return e}:QI;function P5(t,e){return $p(t,JI(t),e)}function eP(t,e,n){var r=e(t);return Mh(t)?r:ZI(r,n(t))}function R5(t){return eP(t,m0,y0)}function N5(t){return eP(t,v0,JI)}var qv=Qo(ss,"DataView"),Kv=Qo(ss,"Promise"),Qv=Qo(ss,"Set"),Zv=Qo(ss,"WeakMap"),MS="[object Map]",L5="[object Object]",FS="[object Promise]",jS="[object Set]",VS="[object WeakMap]",zS="[object DataView]",D5=Ko(qv),O5=Ko(sh),M5=Ko(Kv),F5=Ko(Qv),j5=Ko(Zv),eo=Go;(qv&&eo(new qv(new ArrayBuffer(1)))!=zS||sh&&eo(new sh)!=MS||Kv&&eo(Kv.resolve())!=FS||Qv&&eo(new Qv)!=jS||Zv&&eo(new Zv)!=VS)&&(eo=function(t){var e=Go(t),n=e==L5?t.constructor:void 0,r=n?Ko(n):"";if(r)switch(r){case D5:return zS;case O5:return MS;case M5:return FS;case F5:return jS;case j5:return VS}return e});const x0=eo;var V5=Object.prototype,z5=V5.hasOwnProperty;function U5(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&z5.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var US=ss.Uint8Array;function b0(t){var e=new t.constructor(t.byteLength);return new US(e).set(new US(t)),e}function B5(t,e){var n=e?b0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var H5=/\w*$/;function $5(t){var e=new t.constructor(t.source,H5.exec(t));return e.lastIndex=t.lastIndex,e}var BS=Da?Da.prototype:void 0,HS=BS?BS.valueOf:void 0;function W5(t){return HS?Object(HS.call(t)):{}}function X5(t,e){var n=e?b0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Y5="[object Boolean]",G5="[object Date]",q5="[object Map]",K5="[object Number]",Q5="[object RegExp]",Z5="[object Set]",J5="[object String]",e6="[object Symbol]",t6="[object ArrayBuffer]",n6="[object DataView]",r6="[object Float32Array]",i6="[object Float64Array]",s6="[object Int8Array]",a6="[object Int16Array]",o6="[object Int32Array]",l6="[object Uint8Array]",c6="[object Uint8ClampedArray]",u6="[object Uint16Array]",h6="[object Uint32Array]";function d6(t,e,n){var r=t.constructor;switch(e){case t6:return b0(t);case Y5:case G5:return new r(+t);case n6:return B5(t,n);case r6:case i6:case s6:case a6:case o6:case l6:case c6:case u6:case h6:return X5(t,n);case q5:return new r;case K5:case J5:return new r(t);case Q5:return $5(t);case Z5:return new r;case e6:return W5(t)}}var $S=Object.create,f6=function(){function t(){}return function(e){if(!Oh(e))return{};if($S)return $S(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function p6(t){return typeof t.constructor=="function"&&!g0(t)?f6(f0(t)):{}}var g6="[object Map]";function m6(t){return qo(t)&&x0(t)==g6}var WS=mc&&mc.isMap,v6=WS?p0(WS):m6,y6="[object Set]";function x6(t){return qo(t)&&x0(t)==y6}var XS=mc&&mc.isSet,b6=XS?p0(XS):x6,w6=1,S6=2,_6=4,tP="[object Arguments]",E6="[object Array]",A6="[object Boolean]",k6="[object Date]",C6="[object Error]",nP="[object Function]",T6="[object GeneratorFunction]",I6="[object Map]",P6="[object Number]",rP="[object Object]",R6="[object RegExp]",N6="[object Set]",L6="[object String]",D6="[object Symbol]",O6="[object WeakMap]",M6="[object ArrayBuffer]",F6="[object DataView]",j6="[object Float32Array]",V6="[object Float64Array]",z6="[object Int8Array]",U6="[object Int16Array]",B6="[object Int32Array]",H6="[object Uint8Array]",$6="[object Uint8ClampedArray]",W6="[object Uint16Array]",X6="[object Uint32Array]",Ut={};Ut[tP]=Ut[E6]=Ut[M6]=Ut[F6]=Ut[A6]=Ut[k6]=Ut[j6]=Ut[V6]=Ut[z6]=Ut[U6]=Ut[B6]=Ut[I6]=Ut[P6]=Ut[rP]=Ut[R6]=Ut[N6]=Ut[L6]=Ut[D6]=Ut[H6]=Ut[$6]=Ut[W6]=Ut[X6]=!0;Ut[C6]=Ut[nP]=Ut[O6]=!1;function Cu(t,e,n,r,a,l){var u,p=e&w6,m=e&S6,w=e&_6;if(n&&(u=a?n(t,r,a,l):n(t)),u!==void 0)return u;if(!Oh(t))return t;var A=Mh(t);if(A){if(u=U5(t),!p)return KI(t,u)}else{var T=x0(t),I=T==nP||T==T6;if($I(t))return E5(t,p);if(T==rP||T==tP||I&&!a){if(u=m||I?{}:p6(t),!p)return m?P5(t,S5(u,t)):T5(t,v5(u,t))}else{if(!Ut[T])return a?t:{};u=d6(t,T,p)}}l||(l=new Cc);var z=l.get(t);if(z)return z;l.set(t,u),b6(t)?t.forEach(function(Z){u.add(Cu(Z,e,n,Z,t,l))}):v6(t)&&t.forEach(function(Z,X){u.set(X,Cu(Z,e,n,X,t,l))});var $=w?m?N5:R5:m?v0:m0,q=A?void 0:$(t);return SH(q||t,function(Z,X){q&&(X=Z,Z=t[X]),UI(u,X,Cu(Z,e,n,X,t,l))}),u}var Y6=1,G6=4;function lu(t){return Cu(t,Y6|G6)}var YS=Array.isArray,GS=Object.keys,q6=Object.prototype.hasOwnProperty,K6=typeof Element<"u";function Jv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=YS(t),r=YS(e),a,l,u;if(n&&r){if(l=t.length,l!=e.length)return!1;for(a=l;a--!==0;)if(!Jv(t[a],e[a]))return!1;return!0}if(n!=r)return!1;var p=t instanceof Date,m=e instanceof Date;if(p!=m)return!1;if(p&&m)return t.getTime()==e.getTime();var w=t instanceof RegExp,A=e instanceof RegExp;if(w!=A)return!1;if(w&&A)return t.toString()==e.toString();var T=GS(t);if(l=T.length,l!==GS(e).length)return!1;for(a=l;a--!==0;)if(!q6.call(e,T[a]))return!1;if(K6&&t instanceof Element&&e instanceof Element)return t===e;for(a=l;a--!==0;)if(u=T[a],!(u==="_owner"&&t.$$typeof)&&!Jv(t[u],e[u]))return!1;return!0}return t!==t&&e!==e}var Q6=function(e,n){try{return Jv(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const ta=Ms(Q6);var Z6=4;function qS(t){return Cu(t,Z6)}function iP(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}var J6="[object Symbol]";function w0(t){return typeof t=="symbol"||qo(t)&&Go(t)==J6}var e$="Expected a function";function S0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(e$);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],l=n.cache;if(l.has(a))return l.get(a);var u=t.apply(this,r);return n.cache=l.set(a,u)||l,u};return n.cache=new(S0.Cache||Ha),n}S0.Cache=Ha;var t$=500;function n$(t){var e=S0(t,function(r){return n.size===t$&&n.clear(),r}),n=e.cache;return e}var r$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i$=/\\(\\)?/g,s$=n$(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(r$,function(n,r,a,l){e.push(a?l.replace(i$,"$1"):r||n)}),e});const a$=s$;var o$=1/0;function l$(t){if(typeof t=="string"||w0(t))return t;var e=t+"";return e=="0"&&1/t==-o$?"-0":e}var c$=1/0,KS=Da?Da.prototype:void 0,QS=KS?KS.toString:void 0;function sP(t){if(typeof t=="string")return t;if(Mh(t))return iP(t,sP)+"";if(w0(t))return QS?QS.call(t):"";var e=t+"";return e=="0"&&1/t==-c$?"-0":e}function u$(t){return t==null?"":sP(t)}function aP(t){return Mh(t)?iP(t,l$):w0(t)?[t]:KI(a$(u$(t)))}var oP={exports:{}},Ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=typeof Symbol=="function"&&Symbol.for,_0=Dn?Symbol.for("react.element"):60103,E0=Dn?Symbol.for("react.portal"):60106,Wp=Dn?Symbol.for("react.fragment"):60107,Xp=Dn?Symbol.for("react.strict_mode"):60108,Yp=Dn?Symbol.for("react.profiler"):60114,Gp=Dn?Symbol.for("react.provider"):60109,qp=Dn?Symbol.for("react.context"):60110,A0=Dn?Symbol.for("react.async_mode"):60111,Kp=Dn?Symbol.for("react.concurrent_mode"):60111,Qp=Dn?Symbol.for("react.forward_ref"):60112,Zp=Dn?Symbol.for("react.suspense"):60113,h$=Dn?Symbol.for("react.suspense_list"):60120,Jp=Dn?Symbol.for("react.memo"):60115,eg=Dn?Symbol.for("react.lazy"):60116,d$=Dn?Symbol.for("react.block"):60121,f$=Dn?Symbol.for("react.fundamental"):60117,p$=Dn?Symbol.for("react.responder"):60118,g$=Dn?Symbol.for("react.scope"):60119;function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _0:switch(t=t.type,t){case A0:case Kp:case Wp:case Yp:case Xp:case Zp:return t;default:switch(t=t&&t.$$typeof,t){case qp:case Qp:case eg:case Jp:case Gp:return t;default:return e}}case E0:return e}}}function lP(t){return Yr(t)===Kp}Ot.AsyncMode=A0;Ot.ConcurrentMode=Kp;Ot.ContextConsumer=qp;Ot.ContextProvider=Gp;Ot.Element=_0;Ot.ForwardRef=Qp;Ot.Fragment=Wp;Ot.Lazy=eg;Ot.Memo=Jp;Ot.Portal=E0;Ot.Profiler=Yp;Ot.StrictMode=Xp;Ot.Suspense=Zp;Ot.isAsyncMode=function(t){return lP(t)||Yr(t)===A0};Ot.isConcurrentMode=lP;Ot.isContextConsumer=function(t){return Yr(t)===qp};Ot.isContextProvider=function(t){return Yr(t)===Gp};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_0};Ot.isForwardRef=function(t){return Yr(t)===Qp};Ot.isFragment=function(t){return Yr(t)===Wp};Ot.isLazy=function(t){return Yr(t)===eg};Ot.isMemo=function(t){return Yr(t)===Jp};Ot.isPortal=function(t){return Yr(t)===E0};Ot.isProfiler=function(t){return Yr(t)===Yp};Ot.isStrictMode=function(t){return Yr(t)===Xp};Ot.isSuspense=function(t){return Yr(t)===Zp};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wp||t===Kp||t===Yp||t===Xp||t===Zp||t===h$||typeof t=="object"&&t!==null&&(t.$$typeof===eg||t.$$typeof===Jp||t.$$typeof===Gp||t.$$typeof===qp||t.$$typeof===Qp||t.$$typeof===f$||t.$$typeof===p$||t.$$typeof===g$||t.$$typeof===d$)};Ot.typeOf=Yr;oP.exports=Ot;var m$=oP.exports,k0=m$,v$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},y$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},x$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C0={};C0[k0.ForwardRef]=x$;C0[k0.Memo]=cP;function ZS(t){return k0.isMemo(t)?cP:C0[t.$$typeof]||v$}var b$=Object.defineProperty,w$=Object.getOwnPropertyNames,JS=Object.getOwnPropertySymbols,S$=Object.getOwnPropertyDescriptor,_$=Object.getPrototypeOf,e_=Object.prototype;function uP(t,e,n){if(typeof e!="string"){if(e_){var r=_$(e);r&&r!==e_&&uP(t,r,n)}var a=w$(e);JS&&(a=a.concat(JS(e)));for(var l=ZS(t),u=ZS(e),p=0;p<a.length;++p){var m=a[p];if(!y$[m]&&!(n&&n[m])&&!(u&&u[m])&&!(l&&l[m])){var w=S$(e,m);try{b$(t,m,w)}catch{}}}}return t}var E$=uP;const A$=Ms(E$);function Lt(){return Lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lt.apply(this,arguments)}function hP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ma(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,l;for(l=0;l<r.length;l++)a=r[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function t_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var tg=K.createContext(void 0);tg.displayName="FormikContext";var k$=tg.Provider,C$=tg.Consumer;function Tc(){var t=K.useContext(tg);return t}var n_=function(e){return Array.isArray(e)&&e.length===0},jn=function(e){return typeof e=="function"},Ic=function(e){return e!==null&&typeof e=="object"},T$=function(e){return String(Math.floor(Number(e)))===e},dm=function(e){return Object.prototype.toString.call(e)==="[object String]"},dP=function(e){return K.Children.count(e)===0},fm=function(e){return Ic(e)&&jn(e.then)};function Qt(t,e,n,r){r===void 0&&(r=0);for(var a=aP(e);t&&r<a.length;)t=t[a[r++]];return r!==a.length&&!t||t===void 0?n:t}function Ji(t,e,n){for(var r=qS(t),a=r,l=0,u=aP(e);l<u.length-1;l++){var p=u[l],m=Qt(t,u.slice(0,l+1));if(m&&(Ic(m)||Array.isArray(m)))a=a[p]=qS(m);else{var w=u[l+1];a=a[p]=T$(w)&&Number(w)>=0?[]:{}}}return(l===0?t:a)[u[l]]===n?t:(n===void 0?delete a[u[l]]:a[u[l]]=n,l===0&&n===void 0&&delete r[u[l]],r)}function fP(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var a=0,l=Object.keys(t);a<l.length;a++){var u=l[a],p=t[u];Ic(p)?n.get(p)||(n.set(p,!0),r[u]=Array.isArray(p)?[]:{},fP(p,e,n,r[u])):r[u]=e}return r}function I$(t,e){switch(e.type){case"SET_VALUES":return Lt({},t,{values:e.payload});case"SET_TOUCHED":return Lt({},t,{touched:e.payload});case"SET_ERRORS":return ta(t.errors,e.payload)?t:Lt({},t,{errors:e.payload});case"SET_STATUS":return Lt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Lt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Lt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Lt({},t,{values:Ji(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Lt({},t,{touched:Ji(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Lt({},t,{errors:Ji(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Lt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Lt({},t,{touched:fP(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Lt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Lt({},t,{isSubmitting:!1});default:return t}}var Ga={},bd={};function P$(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,a=r===void 0?!0:r,l=t.validateOnMount,u=l===void 0?!1:l,p=t.isInitialValid,m=t.enableReinitialize,w=m===void 0?!1:m,A=t.onSubmit,T=ma(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),I=Lt({validateOnChange:n,validateOnBlur:a,validateOnMount:u,onSubmit:A},T),z=K.useRef(I.initialValues),$=K.useRef(I.initialErrors||Ga),q=K.useRef(I.initialTouched||bd),Z=K.useRef(I.initialStatus),X=K.useRef(!1),L=K.useRef({});K.useEffect(function(){return X.current=!0,function(){X.current=!1}},[]);var J=K.useState(0),re=J[1],te=K.useRef({values:lu(I.initialValues),errors:lu(I.initialErrors)||Ga,touched:lu(I.initialTouched)||bd,status:lu(I.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),oe=te.current,j=K.useCallback(function(pe){var Re=te.current;te.current=I$(Re,pe),Re!==te.current&&re(function(Ve){return Ve+1})},[]),W=K.useCallback(function(pe,Re){return new Promise(function(Ve,We){var Ge=I.validate(pe,Re);Ge==null?Ve(Ga):fm(Ge)?Ge.then(function(Ke){Ve(Ke||Ga)},function(Ke){We(Ke)}):Ve(Ge)})},[I.validate]),Y=K.useCallback(function(pe,Re){var Ve=I.validationSchema,We=jn(Ve)?Ve(Re):Ve,Ge=Re&&We.validateAt?We.validateAt(Re,pe):N$(pe,We);return new Promise(function(Ke,dt){Ge.then(function(){Ke(Ga)},function(un){un.name==="ValidationError"?Ke(R$(un)):dt(un)})})},[I.validationSchema]),ee=K.useCallback(function(pe,Re){return new Promise(function(Ve){return Ve(L.current[pe].validate(Re))})},[]),ie=K.useCallback(function(pe){var Re=Object.keys(L.current).filter(function(We){return jn(L.current[We].validate)}),Ve=Re.length>0?Re.map(function(We){return ee(We,Qt(pe,We))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ve).then(function(We){return We.reduce(function(Ge,Ke,dt){return Ke==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ke&&(Ge=Ji(Ge,Re[dt],Ke)),Ge},{})})},[ee]),le=K.useCallback(function(pe){return Promise.all([ie(pe),I.validationSchema?Y(pe):{},I.validate?W(pe):{}]).then(function(Re){var Ve=Re[0],We=Re[1],Ge=Re[2],Ke=Gv.all([Ve,We,Ge],{arrayMerge:L$});return Ke})},[I.validate,I.validationSchema,ie,W,Y]),ne=Zr(function(pe){return pe===void 0&&(pe=oe.values),j({type:"SET_ISVALIDATING",payload:!0}),le(pe).then(function(Re){return X.current&&(j({type:"SET_ISVALIDATING",payload:!1}),j({type:"SET_ERRORS",payload:Re})),Re})});K.useEffect(function(){u&&X.current===!0&&ta(z.current,I.initialValues)&&ne(z.current)},[u,ne]);var rt=K.useCallback(function(pe){var Re=pe&&pe.values?pe.values:z.current,Ve=pe&&pe.errors?pe.errors:$.current?$.current:I.initialErrors||{},We=pe&&pe.touched?pe.touched:q.current?q.current:I.initialTouched||{},Ge=pe&&pe.status?pe.status:Z.current?Z.current:I.initialStatus;z.current=Re,$.current=Ve,q.current=We,Z.current=Ge;var Ke=function(){j({type:"RESET_FORM",payload:{isSubmitting:!!pe&&!!pe.isSubmitting,errors:Ve,touched:We,status:Ge,values:Re,isValidating:!!pe&&!!pe.isValidating,submitCount:pe&&pe.submitCount&&typeof pe.submitCount=="number"?pe.submitCount:0}})};if(I.onReset){var dt=I.onReset(oe.values,Wn);fm(dt)?dt.then(Ke):Ke()}else Ke()},[I.initialErrors,I.initialStatus,I.initialTouched,I.onReset]);K.useEffect(function(){X.current===!0&&!ta(z.current,I.initialValues)&&w&&(z.current=I.initialValues,rt(),u&&ne(z.current))},[w,I.initialValues,rt,u,ne]),K.useEffect(function(){w&&X.current===!0&&!ta($.current,I.initialErrors)&&($.current=I.initialErrors||Ga,j({type:"SET_ERRORS",payload:I.initialErrors||Ga}))},[w,I.initialErrors]),K.useEffect(function(){w&&X.current===!0&&!ta(q.current,I.initialTouched)&&(q.current=I.initialTouched||bd,j({type:"SET_TOUCHED",payload:I.initialTouched||bd}))},[w,I.initialTouched]),K.useEffect(function(){w&&X.current===!0&&!ta(Z.current,I.initialStatus)&&(Z.current=I.initialStatus,j({type:"SET_STATUS",payload:I.initialStatus}))},[w,I.initialStatus,I.initialTouched]);var gt=Zr(function(pe){if(L.current[pe]&&jn(L.current[pe].validate)){var Re=Qt(oe.values,pe),Ve=L.current[pe].validate(Re);return fm(Ve)?(j({type:"SET_ISVALIDATING",payload:!0}),Ve.then(function(We){return We}).then(function(We){j({type:"SET_FIELD_ERROR",payload:{field:pe,value:We}}),j({type:"SET_ISVALIDATING",payload:!1})})):(j({type:"SET_FIELD_ERROR",payload:{field:pe,value:Ve}}),Promise.resolve(Ve))}else if(I.validationSchema)return j({type:"SET_ISVALIDATING",payload:!0}),Y(oe.values,pe).then(function(We){return We}).then(function(We){j({type:"SET_FIELD_ERROR",payload:{field:pe,value:Qt(We,pe)}}),j({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),An=K.useCallback(function(pe,Re){var Ve=Re.validate;L.current[pe]={validate:Ve}},[]),Kt=K.useCallback(function(pe){delete L.current[pe]},[]),Se=Zr(function(pe,Re){j({type:"SET_TOUCHED",payload:pe});var Ve=Re===void 0?a:Re;return Ve?ne(oe.values):Promise.resolve()}),Ue=K.useCallback(function(pe){j({type:"SET_ERRORS",payload:pe})},[]),Ae=Zr(function(pe,Re){var Ve=jn(pe)?pe(oe.values):pe;j({type:"SET_VALUES",payload:Ve});var We=Re===void 0?n:Re;return We?ne(Ve):Promise.resolve()}),Xe=K.useCallback(function(pe,Re){j({type:"SET_FIELD_ERROR",payload:{field:pe,value:Re}})},[]),$e=Zr(function(pe,Re,Ve){j({type:"SET_FIELD_VALUE",payload:{field:pe,value:Re}});var We=Ve===void 0?n:Ve;return We?ne(Ji(oe.values,pe,Re)):Promise.resolve()}),Oe=K.useCallback(function(pe,Re){var Ve=Re,We=pe,Ge;if(!dm(pe)){pe.persist&&pe.persist();var Ke=pe.target?pe.target:pe.currentTarget,dt=Ke.type,un=Ke.name,Mi=Ke.id,kn=Ke.value,Ws=Ke.checked,qr=Ke.outerHTML,Fi=Ke.options,Xs=Ke.multiple;Ve=Re||un||Mi,We=/number|range/.test(dt)?(Ge=parseFloat(kn),isNaN(Ge)?"":Ge):/checkbox/.test(dt)?O$(Qt(oe.values,Ve),Ws,kn):Fi&&Xs?D$(Fi):kn}Ve&&$e(Ve,We)},[$e,oe.values]),ht=Zr(function(pe){if(dm(pe))return function(Re){return Oe(Re,pe)};Oe(pe)}),_e=Zr(function(pe,Re,Ve){Re===void 0&&(Re=!0),j({type:"SET_FIELD_TOUCHED",payload:{field:pe,value:Re}});var We=Ve===void 0?a:Ve;return We?ne(oe.values):Promise.resolve()}),Pe=K.useCallback(function(pe,Re){pe.persist&&pe.persist();var Ve=pe.target,We=Ve.name,Ge=Ve.id,Ke=Ve.outerHTML,dt=Re||We||Ge;_e(dt,!0)},[_e]),Ne=Zr(function(pe){if(dm(pe))return function(Re){return Pe(Re,pe)};Pe(pe)}),lt=K.useCallback(function(pe){jn(pe)?j({type:"SET_FORMIK_STATE",payload:pe}):j({type:"SET_FORMIK_STATE",payload:function(){return pe}})},[]),kt=K.useCallback(function(pe){j({type:"SET_STATUS",payload:pe})},[]),jt=K.useCallback(function(pe){j({type:"SET_ISSUBMITTING",payload:pe})},[]),Rr=Zr(function(){return j({type:"SUBMIT_ATTEMPT"}),ne().then(function(pe){var Re=pe instanceof Error,Ve=!Re&&Object.keys(pe).length===0;if(Ve){var We;try{if(We=Gr(),We===void 0)return}catch(Ge){throw Ge}return Promise.resolve(We).then(function(Ge){return X.current&&j({type:"SUBMIT_SUCCESS"}),Ge}).catch(function(Ge){if(X.current)throw j({type:"SUBMIT_FAILURE"}),Ge})}else if(X.current&&(j({type:"SUBMIT_FAILURE"}),Re))throw pe})}),cn=Zr(function(pe){pe&&pe.preventDefault&&jn(pe.preventDefault)&&pe.preventDefault(),pe&&pe.stopPropagation&&jn(pe.stopPropagation)&&pe.stopPropagation(),Rr().catch(function(Re){console.warn("Warning: An unhandled error was caught from submitForm()",Re)})}),Wn={resetForm:rt,validateForm:ne,validateField:gt,setErrors:Ue,setFieldError:Xe,setFieldTouched:_e,setFieldValue:$e,setStatus:kt,setSubmitting:jt,setTouched:Se,setValues:Ae,setFormikState:lt,submitForm:Rr},Gr=Zr(function(){return A(oe.values,Wn)}),as=Zr(function(pe){pe&&pe.preventDefault&&jn(pe.preventDefault)&&pe.preventDefault(),pe&&pe.stopPropagation&&jn(pe.stopPropagation)&&pe.stopPropagation(),rt()}),xr=K.useCallback(function(pe){return{value:Qt(oe.values,pe),error:Qt(oe.errors,pe),touched:!!Qt(oe.touched,pe),initialValue:Qt(z.current,pe),initialTouched:!!Qt(q.current,pe),initialError:Qt($.current,pe)}},[oe.errors,oe.touched,oe.values]),Hs=K.useCallback(function(pe){return{setValue:function(Ve,We){return $e(pe,Ve,We)},setTouched:function(Ve,We){return _e(pe,Ve,We)},setError:function(Ve){return Xe(pe,Ve)}}},[$e,_e,Xe]),os=K.useCallback(function(pe){var Re=Ic(pe),Ve=Re?pe.name:pe,We=Qt(oe.values,Ve),Ge={name:Ve,value:We,onChange:ht,onBlur:Ne};if(Re){var Ke=pe.type,dt=pe.value,un=pe.as,Mi=pe.multiple;Ke==="checkbox"?dt===void 0?Ge.checked=!!We:(Ge.checked=!!(Array.isArray(We)&&~We.indexOf(dt)),Ge.value=dt):Ke==="radio"?(Ge.checked=We===dt,Ge.value=dt):un==="select"&&Mi&&(Ge.value=Ge.value||[],Ge.multiple=!0)}return Ge},[Ne,ht,oe.values]),Oi=K.useMemo(function(){return!ta(z.current,oe.values)},[z.current,oe.values]),$s=K.useMemo(function(){return typeof p<"u"?Oi?oe.errors&&Object.keys(oe.errors).length===0:p!==!1&&jn(p)?p(I):p:oe.errors&&Object.keys(oe.errors).length===0},[p,Oi,oe.errors,I]),ls=Lt({},oe,{initialValues:z.current,initialErrors:$.current,initialTouched:q.current,initialStatus:Z.current,handleBlur:Ne,handleChange:ht,handleReset:as,handleSubmit:cn,resetForm:rt,setErrors:Ue,setFormikState:lt,setFieldTouched:_e,setFieldValue:$e,setFieldError:Xe,setStatus:kt,setSubmitting:jt,setTouched:Se,setValues:Ae,submitForm:Rr,validateForm:ne,validateField:gt,isValid:$s,dirty:Oi,unregisterField:Kt,registerField:An,getFieldProps:os,getFieldMeta:xr,getFieldHelpers:Hs,validateOnBlur:a,validateOnChange:n,validateOnMount:u});return ls}function Pr(t){var e=P$(t),n=t.component,r=t.children,a=t.render,l=t.innerRef;return K.useImperativeHandle(l,function(){return e}),K.createElement(k$,{value:e},n?K.createElement(n,e):a?a(e):r?jn(r)?r(e):dP(r)?null:K.Children.only(r):null)}function R$(t){var e={};if(t.inner){if(t.inner.length===0)return Ji(e,t.path,t.message);for(var a=t.inner,n=Array.isArray(a),r=0,a=n?a:a[Symbol.iterator]();;){var l;if(n){if(r>=a.length)break;l=a[r++]}else{if(r=a.next(),r.done)break;l=r.value}var u=l;Qt(e,u.path)||(e=Ji(e,u.path,u.message))}}return e}function N$(t,e,n,r){n===void 0&&(n=!1);var a=ey(t);return e[n?"validateSync":"validate"](a,{abortEarly:!1,context:r||a})}function ey(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(a){return Array.isArray(a)===!0||AS(a)?ey(a):a!==""?a:void 0}):AS(t[r])?e[r]=ey(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function L$(t,e,n){var r=t.slice();return e.forEach(function(l,u){if(typeof r[u]>"u"){var p=n.clone!==!1,m=p&&n.isMergeableObject(l);r[u]=m?Gv(Array.isArray(l)?[]:{},l,n):l}else n.isMergeableObject(l)?r[u]=Gv(t[u],l,n):t.indexOf(l)===-1&&r.push(l)}),r}function D$(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function O$(t,e,n){if(typeof t=="boolean")return!!e;var r=[],a=!1,l=-1;if(Array.isArray(t))r=t,l=t.indexOf(n),a=l>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!a?r.concat(n):a?r.slice(0,l).concat(r.slice(l+1)):r}var M$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?K.useLayoutEffect:K.useEffect;function Zr(t){var e=K.useRef(t);return M$(function(){e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current.apply(void 0,r)},[])}function pP(t){var e=Tc(),n=e.getFieldProps,r=e.getFieldMeta,a=e.getFieldHelpers,l=e.registerField,u=e.unregisterField,p=Ic(t),m=p?t:{name:t},w=m.name,A=m.validate;K.useEffect(function(){return w&&l(w,{validate:A}),function(){w&&u(w)}},[l,u,w,A]);var T=K.useMemo(function(){return a(w)},[a,w]);return[n(m),r(w),T]}function gP(t){var e=t.validate,n=t.name,r=t.render,a=t.children,l=t.as,u=t.component,p=t.className,m=ma(t,["validate","name","render","children","as","component","className"]),w=Tc(),A=ma(w,["validate","validationSchema"]),T=A.registerField,I=A.unregisterField;K.useEffect(function(){return T(n,{validate:e}),function(){I(n)}},[T,I,n,e]);var z=A.getFieldProps(Lt({name:n},m)),$=A.getFieldMeta(n),q={field:z,form:A};if(r)return r(Lt({},q,{meta:$}));if(jn(a))return a(Lt({},q,{meta:$}));if(u){if(typeof u=="string"){var Z=m.innerRef,X=ma(m,["innerRef"]);return K.createElement(u,Lt({ref:Z},z,X,{className:p}),a)}return K.createElement(u,Lt({field:z,form:A},m,{className:p}),a)}var L=l||"input";if(typeof L=="string"){var J=m.innerRef,re=ma(m,["innerRef"]);return K.createElement(L,Lt({ref:J},z,re,{className:p}),a)}return K.createElement(L,Lt({},z,m,{className:p}),a)}var pr=K.forwardRef(function(t,e){var n=t.action,r=ma(t,["action"]),a=n??"#",l=Tc(),u=l.handleReset,p=l.handleSubmit;return K.createElement("form",Lt({onSubmit:p,ref:e,onReset:u,action:a},r))});pr.displayName="Form";function F$(t){var e=function(a){return K.createElement(C$,null,function(l){return K.createElement(t,Lt({},a,{formik:l}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",A$(e,t)}var j$=function(e,n,r){var a=jo(e),l=a[n];return a.splice(n,1),a.splice(r,0,l),a},V$=function(e,n,r){var a=jo(e),l=a[n];return a[n]=a[r],a[r]=l,a},pm=function(e,n,r){var a=jo(e);return a.splice(n,0,r),a},z$=function(e,n,r){var a=jo(e);return a[n]=r,a},jo=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,a){return a>r?a:r},0);return Array.from(Lt({},e,{length:n+1}))}else return[]},r_=function(e,n){var r=typeof e=="function"?e:n;return function(a){if(Array.isArray(a)||Ic(a)){var l=jo(a);return r(l)}return a}},U$=function(t){hP(e,t);function e(r){var a;return a=t.call(this,r)||this,a.updateArrayField=function(l,u,p){var m=a.props,w=m.name,A=m.formik.setFormikState;A(function(T){var I=r_(p,l),z=r_(u,l),$=Ji(T.values,w,l(Qt(T.values,w))),q=p?I(Qt(T.errors,w)):void 0,Z=u?z(Qt(T.touched,w)):void 0;return n_(q)&&(q=void 0),n_(Z)&&(Z=void 0),Lt({},T,{values:$,errors:p?Ji(T.errors,w,q):T.errors,touched:u?Ji(T.touched,w,Z):T.touched})})},a.push=function(l){return a.updateArrayField(function(u){return[].concat(jo(u),[lu(l)])},!1,!1)},a.handlePush=function(l){return function(){return a.push(l)}},a.swap=function(l,u){return a.updateArrayField(function(p){return V$(p,l,u)},!0,!0)},a.handleSwap=function(l,u){return function(){return a.swap(l,u)}},a.move=function(l,u){return a.updateArrayField(function(p){return j$(p,l,u)},!0,!0)},a.handleMove=function(l,u){return function(){return a.move(l,u)}},a.insert=function(l,u){return a.updateArrayField(function(p){return pm(p,l,u)},function(p){return pm(p,l,null)},function(p){return pm(p,l,null)})},a.handleInsert=function(l,u){return function(){return a.insert(l,u)}},a.replace=function(l,u){return a.updateArrayField(function(p){return z$(p,l,u)},!1,!1)},a.handleReplace=function(l,u){return function(){return a.replace(l,u)}},a.unshift=function(l){var u=-1;return a.updateArrayField(function(p){var m=p?[l].concat(p):[l];return u=m.length,m},function(p){return p?[null].concat(p):[null]},function(p){return p?[null].concat(p):[null]}),u},a.handleUnshift=function(l){return function(){return a.unshift(l)}},a.handleRemove=function(l){return function(){return a.remove(l)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(t_(a)),a.pop=a.pop.bind(t_(a)),a}var n=e.prototype;return n.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ta(Qt(a.formik.values,a.name),Qt(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(a){var l;return this.updateArrayField(function(u){var p=u?jo(u):[];return l||(l=p[a]),jn(p.splice)&&p.splice(a,1),jn(p.every)&&p.every(function(m){return m===void 0})?[]:p},!0,!0),l},n.pop=function(){var a;return this.updateArrayField(function(l){var u=l.slice();return a||(a=u&&u.pop&&u.pop()),u},!0,!0),a},n.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},l=this.props,u=l.component,p=l.render,m=l.children,w=l.name,A=l.formik,T=ma(A,["validate","validationSchema"]),I=Lt({},a,{form:T,name:w});return u?K.createElement(u,I):p?p(I):m?typeof m=="function"?m(I):dP(m)?null:K.Children.only(m):null},e}(K.Component);U$.defaultProps={validateOnChange:!0};var B$=function(t){hP(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(a){return Qt(this.props.formik.errors,this.props.name)!==Qt(a.formik.errors,this.props.name)||Qt(this.props.formik.touched,this.props.name)!==Qt(a.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(a).length},n.render=function(){var a=this.props,l=a.component,u=a.formik,p=a.render,m=a.children,w=a.name,A=ma(a,["component","formik","render","children","name"]),T=Qt(u.touched,w),I=Qt(u.errors,w);return T&&I?p?jn(p)?p(I):null:m?jn(m)?m(I):null:l?K.createElement(l,A,I):I:null},e}(K.Component),zl=F$(B$);function Zo(t){this._maxSize=t,this.clear()}Zo.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Zo.prototype.get=function(t){return this._values[t]};Zo.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var H$=/[^.^\]^[]+|(?=\[\]|\.\.)/g,mP=/^\d+$/,$$=/^\d/,W$=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,X$=/^\s*(['"]?)(.*?)(\1)\s*$/,T0=512,i_=new Zo(T0),s_=new Zo(T0),a_=new Zo(T0),wo={Cache:Zo,split:ty,normalizePath:gm,setter:function(t){var e=gm(t);return s_.get(t)||s_.set(t,function(r,a){for(var l=0,u=e.length,p=r;l<u-1;){var m=e[l];if(m==="__proto__"||m==="constructor"||m==="prototype")return r;p=p[e[l++]]}p[e[l]]=a})},getter:function(t,e){var n=gm(t);return a_.get(t)||a_.set(t,function(a){for(var l=0,u=n.length;l<u;)if(a!=null||!e)a=a[n[l++]];else return;return a})},join:function(t){return t.reduce(function(e,n){return e+(I0(n)||mP.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){Y$(Array.isArray(t)?t:ty(t),e,n)}};function gm(t){return i_.get(t)||i_.set(t,ty(t).map(function(e){return e.replace(X$,"$2")}))}function ty(t){return t.match(H$)||[""]}function Y$(t,e,n){var r=t.length,a,l,u,p;for(l=0;l<r;l++)a=t[l],a&&(K$(a)&&(a='"'+a+'"'),p=I0(a),u=!p&&/^\d+$/.test(a),e.call(n,a,p,u,l,t))}function I0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function G$(t){return t.match($$)&&!t.match(mP)}function q$(t){return W$.test(t)}function K$(t){return!I0(t)&&(G$(t)||q$(t))}const Q$=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ng=t=>t.match(Q$)||[],rg=t=>t[0].toUpperCase()+t.slice(1),P0=(t,e)=>ng(t).join(e).toLowerCase(),vP=t=>ng(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Z$=t=>rg(vP(t)),J$=t=>P0(t,"_"),eW=t=>P0(t,"-"),tW=t=>rg(P0(t," ")),nW=t=>ng(t).map(rg).join(" ");var mm={words:ng,upperFirst:rg,camelCase:vP,pascalCase:Z$,snakeCase:J$,kebabCase:eW,sentenceCase:tW,titleCase:nW},R0={exports:{}};R0.exports=function(t){return yP(rW(t),t)};R0.exports.array=yP;function yP(t,e){var n=t.length,r=new Array(n),a={},l=n,u=iW(e),p=sW(t);for(e.forEach(function(w){if(!p.has(w[0])||!p.has(w[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});l--;)a[l]||m(t[l],l,new Set);return r;function m(w,A,T){if(T.has(w)){var I;try{I=", node was:"+JSON.stringify(w)}catch{I=""}throw new Error("Cyclic dependency"+I)}if(!p.has(w))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(w));if(!a[A]){a[A]=!0;var z=u.get(w)||new Set;if(z=Array.from(z),A=z.length){T.add(w);do{var $=z[--A];m($,p.get($),T)}while(A);T.delete(w)}r[--n]=w}}}function rW(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var a=t[n];e.add(a[0]),e.add(a[1])}return Array.from(e)}function iW(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var a=t[n];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function sW(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var aW=R0.exports;const oW=Ms(aW),lW=Object.prototype.toString,cW=Error.prototype.toString,uW=RegExp.prototype.toString,hW=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",dW=/^Symbol\((.*)\)(.*)$/;function fW(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function o_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return fW(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return hW.call(t).replace(dW,"Symbol($1)");const r=lW.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+cW.call(t)+"]":r==="RegExp"?uW.call(t):null}function Ta(t,e){let n=o_(t,e);return n!==null?n:JSON.stringify(t,function(r,a){let l=o_(this[r],e);return l!==null?l:a},2)}function xP(t){return t==null?[]:[].concat(t)}let bP,wP,SP,pW=/\$\{\s*(\w+)\s*\}/g;bP=Symbol.toStringTag;class l_{constructor(e,n,r,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[bP]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=a,this.errors=[],this.inner=[],xP(e).forEach(l=>{if(Sr.isError(l)){this.errors.push(...l.errors);const u=l.inner.length?l.inner:[l];this.inner.push(...u)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}wP=Symbol.hasInstance;SP=Symbol.toStringTag;class Sr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(pW,(a,l)=>Ta(n[l])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,a,l){const u=new l_(e,n,r,a);if(l)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[SP]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Sr)}static[wP](e){return l_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ui={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const a=r!=null&&r!==n?` (cast from the value \`${Ta(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ta(n,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${Ta(n,!0)}\``+a}},br={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},gW={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ny={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},mW={isValue:"${path} field must be ${value}"},ry={noUnknown:"${path} field has unspecified keys: ${unknown}"},vW={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},yW={notType:t=>{const{path:e,value:n,spec:r}=t,a=r.types.length;if(Array.isArray(n)){if(n.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${n.length} for value: \`${Ta(n,!0)}\``;if(n.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${n.length} for value: \`${Ta(n,!0)}\``}return Sr.formatError(Ui.notType,t)}};Object.assign(Object.create(null),{mixed:Ui,string:br,number:gW,date:ny,object:ry,array:vW,boolean:mW,tuple:yW});const N0=t=>t&&t.__isYupSchema__;class $f{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:a,otherwise:l}=n,u=typeof r=="function"?r:(...p)=>p.every(m=>m===r);return new $f(e,(p,m)=>{var w;let A=u(...p)?a:l;return(w=A==null?void 0:A(m))!=null?w:m})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(l=>l.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),a=this.fn(r,e,n);if(a===void 0||a===e)return e;if(!N0(a))throw new TypeError("conditions must return a schema object");return a.resolve(n)}}const wd={context:"$",value:"."};function _P(t,e){return new $a(t,e)}class $a{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===wd.context,this.isValue=this.key[0]===wd.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?wd.context:this.isValue?wd.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&wo.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let a=this.isContext?r:this.isValue?e:n;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}$a.prototype.__isYupRef=!0;const co=t=>t==null;function ll(t){function e({value:n,path:r="",options:a,originalValue:l,schema:u},p,m){const{name:w,test:A,params:T,message:I,skipAbsent:z}=t;let{parent:$,context:q,abortEarly:Z=u.spec.abortEarly,disableStackTrace:X=u.spec.disableStackTrace}=a;function L(ie){return $a.isRef(ie)?ie.getValue(n,$,q):ie}function J(ie={}){const le=Object.assign({value:n,originalValue:l,label:u.spec.label,path:ie.path||r,spec:u.spec,disableStackTrace:ie.disableStackTrace||X},T,ie.params);for(const rt of Object.keys(le))le[rt]=L(le[rt]);const ne=new Sr(Sr.formatError(ie.message||I,le),n,le.path,ie.type||w,le.disableStackTrace);return ne.params=le,ne}const re=Z?p:m;let te={path:r,parent:$,type:w,from:a.from,createError:J,resolve:L,options:a,originalValue:l,schema:u};const oe=ie=>{Sr.isError(ie)?re(ie):ie?m(null):re(J())},j=ie=>{Sr.isError(ie)?re(ie):p(ie)};if(z&&co(n))return oe(!0);let Y;try{var ee;if(Y=A.call(te,n,te),typeof((ee=Y)==null?void 0:ee.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${te.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Y).then(oe,j)}}catch(ie){j(ie);return}oe(Y)}return e.OPTIONS=t,e}function xW(t,e,n,r=n){let a,l,u;return e?(wo.forEach(e,(p,m,w)=>{let A=m?p.slice(1,p.length-1):p;t=t.resolve({context:r,parent:a,value:n});let T=t.type==="tuple",I=w?parseInt(A,10):0;if(t.innerType||T){if(T&&!w)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(n&&I>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${p}, in the path: ${e}. because there is no value at that index. `);a=n,n=n&&n[I],t=T?t.spec.types[I]:t.innerType}if(!w){if(!t.fields||!t.fields[A])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${t.type}")`);a=n,n=n&&n[A],t=t.fields[A]}l=A,u=m?"["+p+"]":"."+p}),{schema:t,parent:a,parentPath:l}):{parent:a,parentPath:e,schema:t}}class Wf extends Set{describe(){const e=[];for(const n of this.values())e.push($a.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Wf(this.values())}merge(e,n){const r=this.clone();return e.forEach(a=>r.add(a)),n.forEach(a=>r.delete(a)),r}}function Tl(t,e=new Map){if(N0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Tl(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,a]of t.entries())n.set(r,Tl(a,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Tl(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,a]of Object.entries(t))n[r]=Tl(a,e)}else throw Error(`Unable to clone ${t}`);return n}class ns{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Wf,this._blacklist=new Wf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ui.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Tl(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const a=Object.assign({},n.spec,r.spec);return r.spec=a,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(l=>{e.tests.forEach(u=>{l.test(u.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((a,l)=>l.resolve(a,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,a,l;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),a=n.assert==="ignore-optionality",l=r._cast(e,n);if(n.assert!==!1&&!r.isType(l)){if(a&&co(l))return l;let u=Ta(e),p=Ta(l);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${u} 
`+(p!==u?`result of cast: ${p}`:""))}return l}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((a,l)=>l.call(this,a,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,a){let{path:l,originalValue:u=e,strict:p=this.spec.strict}=n,m=e;p||(m=this._cast(m,Object.assign({assert:!1},n)));let w=[];for(let A of Object.values(this.internalTests))A&&w.push(A);this.runTests({path:l,value:m,originalValue:u,options:n,tests:w},r,A=>{if(A.length)return a(A,m);this.runTests({path:l,value:m,originalValue:u,options:n,tests:this.tests},r,a)})}runTests(e,n,r){let a=!1,{tests:l,value:u,originalValue:p,path:m,options:w}=e,A=q=>{a||(a=!0,n(q,u))},T=q=>{a||(a=!0,r(q,u))},I=l.length,z=[];if(!I)return T([]);let $={value:u,originalValue:p,path:m,options:w,schema:this};for(let q=0;q<l.length;q++){const Z=l[q];Z($,A,function(L){L&&(Array.isArray(L)?z.push(...L):z.push(L)),--I<=0&&T(z)})}}asNestedTest({key:e,index:n,parent:r,parentPath:a,originalParent:l,options:u}){const p=e??n;if(p==null)throw TypeError("Must include `key` or `index` for nested validations");const m=typeof p=="number";let w=r[p];const A=Object.assign({},u,{strict:!0,parent:r,value:w,originalValue:l[p],key:void 0,[m?"index":"key"]:p,path:m||p.includes(".")?`${a||""}[${m?p:`"${p}"`}]`:(a?`${a}.`:"")+e});return(T,I,z)=>this.resolve(A)._validate(w,A,I,z)}validate(e,n){var r;let a=this.resolve(Object.assign({},n,{value:e})),l=(r=n==null?void 0:n.disableStackTrace)!=null?r:a.spec.disableStackTrace;return new Promise((u,p)=>a._validate(e,n,(m,w)=>{Sr.isError(m)&&(m.value=w),p(m)},(m,w)=>{m.length?p(new Sr(m,w,void 0,void 0,l)):u(w)}))}validateSync(e,n){var r;let a=this.resolve(Object.assign({},n,{value:e})),l,u=(r=n==null?void 0:n.disableStackTrace)!=null?r:a.spec.disableStackTrace;return a._validate(e,Object.assign({},n,{sync:!0}),(p,m)=>{throw Sr.isError(p)&&(p.value=m),p},(p,m)=>{if(p.length)throw new Sr(p,e,void 0,void 0,u);l=m}),l}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Sr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Sr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Tl(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=ll({message:n,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=ll({message:n,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ui.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ui.notNull){return this.nullability(!1,e)}required(e=Ui.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ui.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),a=ll(n),l=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(u=>!(u.OPTIONS.name===n.name&&(l||u.OPTIONS.test===a.OPTIONS.test))),r.tests.push(a),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),a=xP(e).map(l=>new $a(l));return a.forEach(l=>{l.isSibling&&r.deps.push(l.key)}),r.conditions.push(typeof n=="function"?new $f(a,n):$f.fromOptions(a,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=ll({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Ui.oneOf){let r=this.clone();return e.forEach(a=>{r._whitelist.add(a),r._blacklist.delete(a)}),r.internalTests.whiteList=ll({message:n,name:"oneOf",skipAbsent:!0,test(a){let l=this.schema._whitelist,u=l.resolveAll(this.resolve);return u.includes(a)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:u}})}}),r}notOneOf(e,n=Ui.notOneOf){let r=this.clone();return e.forEach(a=>{r._blacklist.add(a),r._whitelist.delete(a)}),r.internalTests.blacklist=ll({message:n,name:"notOneOf",test(a){let l=this.schema._blacklist,u=l.resolveAll(this.resolve);return u.includes(a)?this.createError({params:{values:Array.from(l).join(", "),resolved:u}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:a,optional:l,nullable:u}=n.spec;return{meta:a,label:r,optional:l,nullable:u,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(m=>({name:m.OPTIONS.name,params:m.OPTIONS.params})).filter((m,w,A)=>A.findIndex(T=>T.name===m.name)===w)}}}ns.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ns.prototype[`${t}At`]=function(e,n,r={}){const{parent:a,parentPath:l,schema:u}=xW(this,e,n,r.context);return u[t](a&&a[l],Object.assign({},r,{parent:a,path:e}))};for(const t of["equals","is"])ns.prototype[t]=ns.prototype.oneOf;for(const t of["not","nope"])ns.prototype[t]=ns.prototype.notOneOf;const bW=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function wW(t){const e=iy(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function iy(t){var e,n;const r=bW.exec(t);return r?{year:ms(r[1]),month:ms(r[2],1)-1,day:ms(r[3],1),hour:ms(r[4]),minute:ms(r[5]),second:ms(r[6]),millisecond:r[7]?ms(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ms(r[10]),minuteOffset:ms(r[11])}:null}function ms(t,e=0){return Number(t)||e}let SW=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_W=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,EW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,AW="^\\d{4}-\\d{2}-\\d{2}",kW="\\d{2}:\\d{2}:\\d{2}",CW="(([+-]\\d{2}(:?\\d{2})?)|Z)",TW=new RegExp(`${AW}T${kW}(\\.\\d+)?${CW}$`),IW=t=>co(t)||t===t.trim(),PW={}.toString();function qt(){return new EP}class EP extends ns{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===PW?e:a})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Ui.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=br.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=br.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=br.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,a,l;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:a,name:l}=n:a=n),this.test({name:l||"matches",message:a||br.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&r||u.search(e)!==-1})}email(e=br.email){return this.matches(SW,{name:"email",message:e,excludeEmptyString:!0})}url(e=br.url){return this.matches(_W,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=br.uuid){return this.matches(EW,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,a;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:a=void 0}=e:n=e),this.matches(TW,{name:"datetime",message:n||br.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||br.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:l=>{if(!l||r)return!0;const u=iy(l);return u?!!u.z:!1}}).test({name:"datetime_precision",message:n||br.datetime_precision,params:{precision:a},skipAbsent:!0,test:l=>{if(!l||a==null)return!0;const u=iy(l);return u?u.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=br.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:IW})}lowercase(e=br.lowercase){return this.transform(n=>co(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>co(n)||n===n.toLowerCase()})}uppercase(e=br.uppercase){return this.transform(n=>co(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>co(n)||n===n.toUpperCase()})}}qt.prototype=EP.prototype;let RW=new Date(""),NW=t=>Object.prototype.toString.call(t)==="[object Date]";class ig extends ns{constructor(){super({type:"date",check(e){return NW(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=wW(e),isNaN(e)?ig.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if($a.isRef(e))r=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=a}return r}min(e,n=ny.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(r)}})}max(e,n=ny.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(r)}})}}ig.INVALID_DATE=RW;ig.prototype;function LW(t,e=[]){let n=[],r=new Set,a=new Set(e.map(([u,p])=>`${u}-${p}`));function l(u,p){let m=wo.split(u)[0];r.add(m),a.has(`${p}-${m}`)||n.push([p,m])}for(const u of Object.keys(t)){let p=t[u];r.add(u),$a.isRef(p)&&p.isSibling?l(p.path,u):N0(p)&&"deps"in p&&p.deps.forEach(m=>l(m,u))}return oW.array(Array.from(r),n).reverse()}function c_(t,e){let n=1/0;return t.some((r,a)=>{var l;if((l=e.path)!=null&&l.includes(r))return n=a,!0}),n}function AP(t){return(e,n)=>c_(t,e)-c_(t,n)}const DW=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Wd(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Wd(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Wd(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Wd)}):"optional"in t?t.optional():t}const OW=(t,e)=>{const n=[...wo.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),a=wo.getter(wo.join(n),!0)(t);return!!(a&&r in a)};let u_=t=>Object.prototype.toString.call(t)==="[object Object]";function MW(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const FW=AP([]);function gr(t){return new kP(t)}class kP extends ns{constructor(e){super({type:"object",check(n){return u_(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=FW,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let a=super._cast(e,n);if(a===void 0)return this.getDefault(n);if(!this._typeCheck(a))return a;let l=this.fields,u=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,p=[].concat(this._nodes,Object.keys(a).filter(T=>!this._nodes.includes(T))),m={},w=Object.assign({},n,{parent:m,__validating:n.__validating||!1}),A=!1;for(const T of p){let I=l[T],z=T in a;if(I){let $,q=a[T];w.path=(n.path?`${n.path}.`:"")+T,I=I.resolve({value:q,context:n.context,parent:m});let Z=I instanceof ns?I.spec:void 0,X=Z==null?void 0:Z.strict;if(Z!=null&&Z.strip){A=A||T in a;continue}$=!n.__validating||!X?I.cast(a[T],w):a[T],$!==void 0&&(m[T]=$)}else z&&!u&&(m[T]=a[T]);(z!==T in m||m[T]!==a[T])&&(A=!0)}return A?m:a}_validate(e,n={},r,a){let{from:l=[],originalValue:u=e,recursive:p=this.spec.recursive}=n;n.from=[{schema:this,value:u},...l],n.__validating=!0,n.originalValue=u,super._validate(e,n,r,(m,w)=>{if(!p||!u_(w)){a(m,w);return}u=u||w;let A=[];for(let T of this._nodes){let I=this.fields[T];!I||$a.isRef(I)||A.push(I.asNestedTest({options:n,key:T,parent:w,parentPath:n.path,originalParent:u}))}this.runTests({tests:A,value:w,originalValue:u,options:n},r,T=>{a(T.sort(this._sortErrors).concat(m),w)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[a,l]of Object.entries(this.fields)){const u=r[a];r[a]=u===void 0?l:u}return n.withMutation(a=>a.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var a;const l=this.fields[r];let u=e;(a=u)!=null&&a.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[r]})),n[r]=l&&"getDefault"in l?l.getDefault(u):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=LW(e,n),r._sortErrors=AP(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let a=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),a=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),a)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Wd(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,a])=>e.includes(r)&&e.includes(a)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let a=wo.getter(e,!0);return this.transform(l=>{if(!l)return l;let u=l;return OW(l,e)&&(u=Object.assign({},l),r||delete u[e],u[n]=a(l)),u})}json(){return this.transform(DW)}noUnknown(e=!0,n=ry.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(a){if(a==null)return!0;const l=MW(this.schema,a);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=ry.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const a of Object.keys(n))r[e(a)]=n[a];return r})}camelCase(){return this.transformKeys(mm.camelCase)}snakeCase(){return this.transformKeys(mm.snakeCase)}constantCase(){return this.transformKeys(e=>mm.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[l,u]of Object.entries(n.fields)){var a;let p=e;(a=p)!=null&&a.value&&(p=Object.assign({},p,{parent:p.value,value:p.value[l]})),r.fields[l]=u.describe(p)}return r}}gr.prototype=kP.prototype;const CP=K.createContext(void 0),Fh=()=>{const t=K.useContext(CP);if(!t)throw new Error("useContentContext must be used within a ContentProvider");return t},jW=({children:t})=>{const[e,n]=K.useState([]),[r,a]=K.useState([]),[l,u]=K.useState(!1),[p,m]=K.useState([]),[w,A]=K.useState({chapterName:"",chapterId:"",content:"",id:"",subChapterId:"",subjectId:"",title:"",subchapterName:"",subjectName:""}),T=async q=>{const Z=await Dh(q);n(Z)},I=async q=>{const Z=await Up(q);a(Z)},z=async q=>{const Z=await PI(q);console.log("Fetched contents:",Z);const X=Z.sort((L,J)=>new Date(L.createdAt).getTime()-new Date(J.createdAt).getTime());console.log("Sorted contents:",X),m(X)},$=q=>{A(q)};return K.useEffect(()=>{T("your_subject_id")},[]),D.jsx(CP.Provider,{value:{chapters:e,subChapters:r,contents:p,contentValues:w,iseSelected:l,fetchChapters:T,fetchSubChapters:I,fetchContents:z,setContent:$,setIsSelected:u},children:t})},TP=({questions:t,currentPath:e})=>{const n=t.filter(r=>r.contentId===e);return D.jsx("div",{children:n.map(r=>D.jsxs("div",{className:"mb-6",children:[D.jsxs("div",{className:"mb-4 flex",children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:["Question by ",r.username,":"]}),D.jsx("p",{className:"text-sm text-gray-900",children:r.question})]}),r.answer?D.jsxs("div",{className:"mb-4 flex",children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:["Answer by ",r.ansewredBy,":"]}),D.jsx("p",{className:"text-sm text-gray-900",children:r.answer})]}):D.jsx("p",{className:"text-sm text-gray-900",children:"No answer yet"})]},r.id))})},VW=gr().shape({question:qt().required("Question is required")}),zW=({currentPath:t})=>{const{contentValues:e}=Fh(),n=Vr.currentUser,[r,a]=K.useState([]),{enqueueSnackbar:l}=yr();K.useEffect(()=>{(async()=>{const w=(await Yt(Et(et,"questions"))).docs.map(A=>({...A.data(),id:A.id}));a(w)})()},[]);const u=r.filter(p=>p.userId===(n==null?void 0:n.uid)&&p.contentId===t);return D.jsxs("div",{children:[D.jsx("h2",{children:"Previous Answers"}),D.jsx(TP,{questions:u,currentPath:t}),D.jsx("h2",{children:"Ask a Question"}),D.jsx(Pr,{initialValues:{question:""},validationSchema:VW,onSubmit:async(p,{resetForm:m})=>{try{const w=n==null?void 0:n.email,A=w==null?void 0:w.split("@")[0],T={question:p.question,chapterId:e.chapterId,chapterName:e.chapterName,subChahpterId:e.subChapterId,subchapterName:e.subchapterName,subjectId:e.subjectId,subjectName:e.subjectName,userEmail:n==null?void 0:n.email,userId:n==null?void 0:n.uid,username:A,contentId:t};await Ba(Et(et,"questions"),T),l("Question submitted successfully!",{variant:"success"}),m()}catch(w){console.error("Error adding Question: ",w),l(`Error: ${w.message}`,{variant:"error"})}},children:({isSubmitting:p})=>D.jsx(pr,{children:D.jsxs("div",{className:"space-y-8",children:[D.jsxs("div",{className:"pb-8 border-b border-gray-200",children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Question"}),D.jsx("p",{className:"text-sm text-gray-600",children:"Please enter your question below:"}),D.jsxs("div",{className:"mt-6",children:[D.jsx("label",{htmlFor:"question",className:"block text-sm font-medium text-gray-900",children:"Question"}),D.jsx(gP,{as:"textarea",id:"question",name:"question",required:!0,className:"block w-full mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),D.jsx(zl,{name:"question",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),D.jsx("div",{className:"flex justify-end",children:D.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 disabled:opacity-50",disabled:p,children:p?"Submitting...":"Submit"})})]})})})]})},UW=({currentPath:t})=>{const[e,n]=K.useState([]),{enqueueSnackbar:r}=yr();K.useEffect(()=>{(async()=>{const w=(await Yt(Et(et,"questions"))).docs.map(A=>({...A.data(),id:A.id}));n(w)})()},[]);const a=async(p,{resetForm:m})=>{const{questionId:w,answer:A}=p,T="Admin";try{await Nh(wn(et,"questions",w),{answer:A,ansewredBy:T}),r("Answer submitted successfully!",{variant:"success"}),m()}catch(I){console.error("Error adding answer: ",I),r(`Error: ${I.message}`,{variant:"error"})}},l=e.filter(p=>p.contentId===t&&!p.answer),u=gr({answer:qt().required("Answer is required")});return D.jsxs("div",{children:[D.jsx("h2",{children:"Answer Questions"}),l.length>0?l.map(p=>D.jsxs("div",{className:"mb-6",children:[D.jsxs("div",{className:"mb-4 flex",children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:["Question by ",p.username,":"]}),D.jsx("p",{className:"text-sm text-gray-900",children:p.question})]}),D.jsx(Pr,{initialValues:{questionId:p.id,answer:""},validationSchema:u,onSubmit:a,children:({isSubmitting:m})=>D.jsxs(pr,{children:[D.jsxs("div",{className:"mb-6",children:[D.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer"}),D.jsx(gP,{id:"answer",name:"answer",as:"textarea",rows:4,placeholder:"Type your answer here...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),D.jsx(zl,{name:"answer",component:"p",className:"text-red-600 text-sm mt-1"})]}),D.jsx("div",{className:"flex justify-end",children:D.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",disabled:m,children:m?"Submitting...":"Submit Answer"})})]})})]},p.id)):D.jsx("p",{children:"No unanswered questions available."})]})},BW=({currentPath:t})=>{const[e,n]=K.useState([]);return K.useEffect(()=>{(async()=>{const l=(await Yt(Et(et,"questions"))).docs.map(u=>({...u.data(),id:u.id}));n(l)})()},[]),D.jsxs("div",{children:[D.jsx(TP,{questions:e,currentPath:t}),D.jsx(UW,{currentPath:t})]})},HW=t=>{K.useEffect(()=>{const e=document.createElement("script");return e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,e.async=!0,document.head.appendChild(e),e.onload=()=>{window.dataLayer=window.dataLayer||[];function n(r,a){window.dataLayer.push(arguments)}n("js",new Date().toISOString()),n("config",t)},()=>{document.head.removeChild(e)}},[t])},IP=({adClient:t,adSlot:e,adFormat:n="auto"})=>(K.useEffect(()=>{window&&window.adsbygoogle&&(window.adsbygoogle=window.adsbygoogle||[]).push({})},[]),D.jsx("div",{className:"my-4",children:D.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":t,"data-ad-slot":e,"data-ad-format":n})})),PP=()=>(K.useEffect(()=>{const t=document.createElement("script");return t.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",t.async=!0,document.body.appendChild(t),t.onload=()=>{(window.adsbygoogle=window.adsbygoogle||[]).push({})},()=>{document.body.removeChild(t)}},[]),null),RP=({adClient:t,adSlot:e,adFormat:n="auto"})=>(K.useEffect(()=>{window.adsbygoogle&&(window.adsbygoogle=window.adsbygoogle||[]).push({})},[]),D.jsx("div",{className:"adsense-ad",children:D.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":t,"data-ad-slot":e,"data-ad-format":n})}));var $W={VITE_APP_TINYMCE_API_KEY:"4r2w2bwek61uwewr1xydega6sb69xyauk0iy7p629a0ex30i",VITE_APP_FIREBASE_API_KEY:"AIzaSyCf5F_DSwUdy-BNsgPQihDQmM2agoT8Bj0",VITE_APP_FIREBASE_AUTH_DOMAIN:"studymaterials-eda8e.firebaseapp.com",VITE_APP_FIREBASE_PROJECT_ID:"studymaterials-eda8e",VITE_APP_FIREBASE_STORAGE_BUCKET:"studymaterials-eda8e.appspot.com",VITE_APP_FIREBASE_MESSAGING_SENDER_ID:"185567007879",VITE_APP_FIREBASE_APP_ID:"1:185567007879:web:17a08c3073bc34c0fed422",VITE_APP_FIREBASE_MEASUREMENT_ID:"G-YQ2869MCM1",VITE_APP_ADMIN_EMAIL:"sahaj@kec.edu.np",VITE_APP_ADMIN_PASSWORD:"P/mLzoo8N4r9",VITE_APP_ADMIN_NAME:"SazShakya",VITE_APP_BASE_URL:"http://localhost:3000/study",VITE_APP_BASE_URL_WITHOUT:"http://localhost:3000",VITE_ADSENSE_CLIENT_ID:"ca-pub-5150362066306824",VITE_ADSENSE_AD_SLOT:"7459855174",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const WW=$W.VITE_MEASUREMENT_ID,XW=()=>{const{token:t,adminToken:e,logout:n}=Us(),{iseSelected:r}=Fh(),a=vh(),l=Vr.currentUser,u="ca-pub-5150362066306824",p="7459855174";HW(WW),K.useEffect(()=>{const A=setTimeout(async()=>{try{await n()}catch(T){console.error("Error logging out:",T)}},72e5);return()=>clearTimeout(A)},[n]),K.useEffect(()=>{if(l&&!e)return m(l.uid,"active"),()=>{m(l.uid,"inactive")}},[l]);const m=async(w,A)=>{const T=wn(et,"users",w);await Vf(T,{status:A,lastUpdated:an.now()},{merge:!0})};return D.jsxs("div",{className:"w-full min-h-screen flex flex-col",children:[D.jsx("header",{children:D.jsx(LI,{toggleSidebar:function(){throw new Error("Function not implemented.")}})}),D.jsx("main",{className:"flex-grow",children:D.jsx(fx,{})}),D.jsxs("footer",{className:"bg-gray-200 flex",children:[" ",D.jsx("div",{className:"flex ml-80 w-full px-5 py-5",children:a.pathname!=="/study"&&a.pathname!=="/"&&r&&D.jsxs(D.Fragment,{children:[t&&!e&&D.jsx(zW,{currentPath:a.pathname}),e&&D.jsx(BW,{currentPath:a.pathname})]})}),D.jsxs("div",{className:"flex justify-center w-full py-5",children:[D.jsx(IP,{adClient:u,adSlot:p}),D.jsxs("div",{children:[D.jsx(PP,{}),D.jsx(RP,{adClient:"ca-pub-5150362066306824",adSlot:"7459855174",adFormat:"auto"}),D.jsx("ins",{className:"adsbygoogle",style:{display:"block",width:"300px",height:"250px"},"data-ad-client":u,"data-ad-slot":p,"data-ad-format":"auto"})]})]})]})]})},Ln=({label:t,name:e,type:n="text",required:r=!1,value:a,onChange:l,onBlur:u})=>{const[p,m,w]=pP(e),[A,T]=K.useState(!1),{isValid:I,dirty:z,setValues:$}=Tc();K.useEffect(()=>{a&&a!==""&&T(!0)},[a]);const q=X=>{w.setValue(X.target.value),l&&l(e,X.target.value)},Z=()=>{T(!1),m.error&&m.touched&&$(X=>({...X,[e]:""})),u&&u()};return D.jsxs("div",{className:"relative mt-6",children:[D.jsxs("label",{htmlFor:e,className:`absolute left-3 bg-white px-1 ${A||p.value?"-top-2 text-xs text-gray-500":"top-2 text-sm text-gray-700"} transition-all duration-200 pointer-events-none`,style:{zIndex:A||p.value?"10":"0"},children:[t," ",r&&"*"]}),D.jsx("div",{className:`absolute left-3 bg-white px-1 ${m.touched&&m.error&&A&&!I?"top-8 text-xs text-red-500":"top-8 text-sm text-gray-700"} transition-all duration-200 pointer-events-none`,children:D.jsx("p",{children:m.error})}),D.jsx("input",{...p,id:e,name:e,type:n,value:a,required:r,onChange:q,onFocus:()=>T(!0),onBlur:Z,className:`mt-1 block w-full px-3 py-2 border ${!I&&z?"border-red-500":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition-transform`})]})},Ci=({label:t})=>{const{isValid:e,dirty:n}=Tc();return D.jsx("button",{type:"submit",disabled:!e||!n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${e&&n?"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"bg-gray-300 cursor-not-allowed"}`,children:t})},YW=()=>{const t=gr({email:qt().email("Invalid email address").required("Required"),password:qt().min(8,"Password must be at least 8 characters").required("Required")}),{signInWithFirebase:e}=Us(),{enqueueSnackbar:n}=yr(),r={email:"",password:""},a=async l=>{try{await e(l.email,l.password),n("Logged In successfully!",{variant:"success"}),l.email="",l.password=""}catch(u){console.error("Login error:",u.message),n(`Error: ${u.message}`,{variant:"error"}),l.password="",setTimeout(()=>{window.location.reload()},2e3)}};return D.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white bg-opacity-75 backdrop-blur-md p-8 rounded-lg shadow-md animate-fade-in",children:[D.jsx("div",{children:D.jsx("h1",{className:"text-center text-2xl font-bold text-gray-900",children:"Login"})}),D.jsx(Pr,{initialValues:r,validationSchema:t,onSubmit:a,children:()=>D.jsxs(pr,{className:"space-y-6",children:[D.jsx(Ln,{label:"Email",name:"email",type:"email",required:!0,onBlur:()=>{}}),D.jsx(Ln,{label:"Password",name:"password",type:"password",required:!0,onBlur:()=>{}}),D.jsx(Ci,{label:"Login"}),D.jsxs("div",{className:"flex justify-between text-sm",children:[D.jsx(ir,{to:"/study/forgotpassword",className:"text-indigo-600 hover:text-indigo-500 focus:outline-none",children:"Forgot Password?"}),D.jsx(ir,{to:"/study/register",className:"text-indigo-600 hover:text-indigo-500 focus:outline-none",children:"Register"})]})]})})]})})},GW=()=>{const{enqueueSnackbar:t}=yr();return{sendVerificationEmail:async n=>{if(!n){console.error("No user found"),t("No user found",{variant:"error"});return}try{await LF(n),t("Email verification sent!",{variant:"success"})}catch(r){console.error("Email error:",r.message),t(`Error: ${r.message}`,{variant:"error"})}}}},qW=()=>{const t=gr({email:qt().email("Invalid email address").matches(/^[^\s@]+@kec\.edu\.np$/,"Email must be from the kec.edu.np domain").required("Required"),password:qt().min(8,"Password must be at least 8 characters").required("Required"),confirmPassword:qt().oneOf([_P("password")],"Passwords must match").required("Required")}),{logout:e}=Us(),{enqueueSnackbar:n}=yr(),{sendVerificationEmail:r}=GW(),a=Di(),l={email:"",password:"",confirmPassword:"",displayName:"new User"},u=async p=>{try{const m=await NF(Vr,p.email,p.password);await Ba(Et(et,"users"),{uid:m.user.uid,email:p.email,displayName:p.displayName,createdAt:new Date}),await r(m.user),n("Registered successfully!",{variant:"success"}),p.email="",p.password="",p.confirmPassword="",e(),a("/study")}catch(m){console.error("Registration error:",m.message),n(`Error: ${m.message}`,{variant:"error"}),p.password="",p.confirmPassword=""}};return D.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white bg-opacity-75 backdrop-blur-md p-8 rounded-lg shadow-md animate-fade-in",children:[D.jsx("div",{children:D.jsx("h1",{className:"text-center text-2xl font-bold text-gray-900",children:"Register"})}),D.jsx(Pr,{initialValues:l,validationSchema:t,onSubmit:u,children:()=>D.jsxs(pr,{className:"space-y-6",children:[D.jsx(Ln,{label:"Email",name:"email",type:"email",required:!0}),D.jsx(Ln,{label:"Password",name:"password",type:"password",required:!0}),D.jsx(Ln,{label:"confirmPassword",name:"confirmPassword",type:"password",required:!0}),D.jsx(Ci,{label:"Register"}),D.jsxs("div",{className:"flex text-sm justify-center",children:[D.jsx("h3",{className:"text-grey-600 hover:text-grey-500 focus:outline-none",children:"New User? Click on"}),D.jsx(ir,{to:"/study/Login",className:"text-indigo-600 hover:text-indigo-300 focus:outline-none px-1",children:"Login"})]})]})})]})})},KW=({subject:t,chapter:e,subchapter:n,title:r,onClick:a})=>D.jsx("div",{className:"border border-gray-300 bg-white rounded-lg shadow-md p-4 mb-4 cursor-pointer",onClick:a,children:D.jsxs("div",{className:"mb-4",children:[D.jsx("p",{className:"text-sm text-gray-600",children:t}),D.jsx("p",{className:"text-base font-bold text-gray-900 mb-2",children:r}),D.jsxs("p",{className:"text-sm text-gray-700",children:[e," - ",n]})]})});var QW=typeof Element<"u",ZW=typeof Map=="function",JW=typeof Set=="function",e9=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Xd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,a;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Xd(t[r],e[r]))return!1;return!0}var l;if(ZW&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(l=t.entries();!(r=l.next()).done;)if(!e.has(r.value[0]))return!1;for(l=t.entries();!(r=l.next()).done;)if(!Xd(r.value[1],e.get(r.value[0])))return!1;return!0}if(JW&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(l=t.entries();!(r=l.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(e9&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[r]))return!1;if(QW&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&t.$$typeof)&&!Xd(t[a[r]],e[a[r]]))return!1;return!0}return t!==t&&e!==e}var t9=function(e,n){try{return Xd(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const n9=Ms(t9);var r9=function(t,e,n,r,a,l,u,p){if(!t){var m;if(e===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=[n,r,a,l,u,p],A=0;m=new Error(e.replace(/%s/g,function(){return w[A++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}},i9=r9;const h_=Ms(i9);var s9=function(e,n,r,a){var l=r?r.call(a,e,n):void 0;if(l!==void 0)return!!l;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var u=Object.keys(e),p=Object.keys(n);if(u.length!==p.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(n),w=0;w<u.length;w++){var A=u[w];if(!m(A))return!1;var T=e[A],I=n[A];if(l=r?r.call(a,T,I,A):void 0,l===!1||l===void 0&&T!==I)return!1}return!0};const a9=Ms(s9);var NP=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(NP||{}),vm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},d_=Object.values(NP),L0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},o9=Object.entries(L0).reduce((t,[e,n])=>(t[n]=e,t),{}),Ei="data-rh",Ul={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Bl=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},l9=t=>{let e=Bl(t,"title");const n=Bl(t,Ul.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Bl(t,Ul.DEFAULT_TITLE);return e||r||void 0},c9=t=>Bl(t,Ul.ON_CHANGE_CLIENT_STATE)||(()=>{}),ym=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),u9=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const a=Object.keys(r);for(let l=0;l<a.length;l+=1){const p=a[l].toLowerCase();if(t.indexOf(p)!==-1&&r[p])return n.concat(r)}}return n},[]),h9=t=>console&&typeof console.warn=="function"&&console.warn(t),Kc=(t,e,n)=>{const r={};return n.filter(a=>Array.isArray(a[t])?!0:(typeof a[t]<"u"&&h9(`Helmet: ${t} should be of type "Array". Instead found type "${typeof a[t]}"`),!1)).map(a=>a[t]).reverse().reduce((a,l)=>{const u={};l.filter(m=>{let w;const A=Object.keys(m);for(let I=0;I<A.length;I+=1){const z=A[I],$=z.toLowerCase();e.indexOf($)!==-1&&!(w==="rel"&&m[w].toLowerCase()==="canonical")&&!($==="rel"&&m[$].toLowerCase()==="stylesheet")&&(w=$),e.indexOf(z)!==-1&&(z==="innerHTML"||z==="cssText"||z==="itemprop")&&(w=z)}if(!w||!m[w])return!1;const T=m[w].toLowerCase();return r[w]||(r[w]={}),u[w]||(u[w]={}),r[w][T]?!1:(u[w][T]=!0,!0)}).reverse().forEach(m=>a.push(m));const p=Object.keys(u);for(let m=0;m<p.length;m+=1){const w=p[m],A={...r[w],...u[w]};r[w]=A}return a},[]).reverse()},d9=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},f9=t=>({baseTag:u9(["href"],t),bodyAttributes:ym("bodyAttributes",t),defer:Bl(t,Ul.DEFER),encode:Bl(t,Ul.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ym("htmlAttributes",t),linkTags:Kc("link",["rel","href"],t),metaTags:Kc("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Kc("noscript",["innerHTML"],t),onChangeClientState:c9(t),scriptTags:Kc("script",["src","innerHTML"],t),styleTags:Kc("style",["cssText"],t),title:l9(t),titleAttributes:ym("titleAttributes",t),prioritizeSeoTags:d9(t,Ul.PRIORITIZE_SEO_TAGS)}),LP=t=>Array.isArray(t)?t.join(""):t,p9=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},xm=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(p9(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},f_=(t,e)=>({...t,[e]:void 0}),g9=["noscript","script","style"],sy=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),DP=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),m9=(t,e,n,r)=>{const a=DP(n),l=LP(e);return a?`<${t} ${Ei}="true" ${a}>${sy(l,r)}</${t}>`:`<${t} ${Ei}="true">${sy(l,r)}</${t}>`},v9=(t,e,n=!0)=>e.reduce((r,a)=>{const l=a,u=Object.keys(l).filter(w=>!(w==="innerHTML"||w==="cssText")).reduce((w,A)=>{const T=typeof l[A]>"u"?A:`${A}="${sy(l[A],n)}"`;return w?`${w} ${T}`:T},""),p=l.innerHTML||l.cssText||"",m=g9.indexOf(t)===-1;return`${r}<${t} ${Ei}="true" ${u}${m?"/>":`>${p}</${t}>`}`},""),OP=(t,e={})=>Object.keys(t).reduce((n,r)=>{const a=L0[r];return n[a||r]=t[r],n},e),y9=(t,e,n)=>{const r={key:e,[Ei]:!0},a=OP(n,r);return[at.createElement("title",a,e)]},Yd=(t,e)=>e.map((n,r)=>{const a={key:r,[Ei]:!0};return Object.keys(n).forEach(l=>{const p=L0[l]||l;if(p==="innerHTML"||p==="cssText"){const m=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:m}}else a[p]=n[l]}),at.createElement(t,a)}),Jr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>y9(t,e.title,e.titleAttributes),toString:()=>m9(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>OP(e),toString:()=>DP(e)};default:return{toComponent:()=>Yd(t,e),toString:()=>v9(t,e,n)}}},x9=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const a=xm(t,vm.meta),l=xm(e,vm.link),u=xm(n,vm.script);return{priorityMethods:{toComponent:()=>[...Yd("meta",a.priority),...Yd("link",l.priority),...Yd("script",u.priority)],toString:()=>`${Jr("meta",a.priority,r)} ${Jr("link",l.priority,r)} ${Jr("script",u.priority,r)}`},metaTags:a.default,linkTags:l.default,scriptTags:u.default}},b9=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:a,noscriptTags:l,styleTags:u,title:p="",titleAttributes:m,prioritizeSeoTags:w}=t;let{linkTags:A,metaTags:T,scriptTags:I}=t,z={toComponent:()=>{},toString:()=>""};return w&&({priorityMethods:z,linkTags:A,metaTags:T,scriptTags:I}=x9(t)),{priority:z,base:Jr("base",e,r),bodyAttributes:Jr("bodyAttributes",n,r),htmlAttributes:Jr("htmlAttributes",a,r),link:Jr("link",A,r),meta:Jr("meta",T,r),noscript:Jr("noscript",l,r),script:Jr("script",I,r),style:Jr("style",u,r),title:Jr("title",{title:p,titleAttributes:m},r)}},ay=b9,Sd=[],MP=!!(typeof window<"u"&&window.document&&window.document.createElement),oy=class{constructor(t,e){fs(this,"instances",[]);fs(this,"canUseDOM",MP);fs(this,"context");fs(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Sd:this.instances,add:t=>{(this.canUseDOM?Sd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Sd:this.instances).indexOf(t);(this.canUseDOM?Sd:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=ay({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},w9={},FP=at.createContext(w9),Hl,jP=(Hl=class extends K.Component{constructor(n){super(n);fs(this,"helmetData");this.helmetData=new oy(this.props.context||{},Hl.canUseDOM)}render(){return at.createElement(FP.Provider,{value:this.helmetData.value},this.props.children)}},fs(Hl,"canUseDOM",MP),Hl),cl=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Ei}]`),a=[].slice.call(r),l=[];let u;return e&&e.length&&e.forEach(p=>{const m=document.createElement(t);for(const w in p)if(Object.prototype.hasOwnProperty.call(p,w))if(w==="innerHTML")m.innerHTML=p.innerHTML;else if(w==="cssText")m.styleSheet?m.styleSheet.cssText=p.cssText:m.appendChild(document.createTextNode(p.cssText));else{const A=w,T=typeof p[A]>"u"?"":p[A];m.setAttribute(w,T)}m.setAttribute(Ei,"true"),a.some((w,A)=>(u=A,m.isEqualNode(w)))?a.splice(u,1):l.push(m)}),a.forEach(p=>{var m;return(m=p.parentNode)==null?void 0:m.removeChild(p)}),l.forEach(p=>n.appendChild(p)),{oldTags:a,newTags:l}},ly=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Ei),a=r?r.split(","):[],l=[...a],u=Object.keys(e);for(const p of u){const m=e[p]||"";n.getAttribute(p)!==m&&n.setAttribute(p,m),a.indexOf(p)===-1&&a.push(p);const w=l.indexOf(p);w!==-1&&l.splice(w,1)}for(let p=l.length-1;p>=0;p-=1)n.removeAttribute(l[p]);a.length===l.length?n.removeAttribute(Ei):n.getAttribute(Ei)!==u.join(",")&&n.setAttribute(Ei,u.join(","))},S9=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=LP(t)),ly("title",e)},p_=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:a,linkTags:l,metaTags:u,noscriptTags:p,onChangeClientState:m,scriptTags:w,styleTags:A,title:T,titleAttributes:I}=t;ly("body",r),ly("html",a),S9(T,I);const z={baseTag:cl("base",n),linkTags:cl("link",l),metaTags:cl("meta",u),noscriptTags:cl("noscript",p),scriptTags:cl("script",w),styleTags:cl("style",A)},$={},q={};Object.keys(z).forEach(Z=>{const{newTags:X,oldTags:L}=z[Z];X.length&&($[Z]=X),L.length&&(q[Z]=z[Z].oldTags)}),e&&e(),m(t,$,q)},Qc=null,_9=t=>{Qc&&cancelAnimationFrame(Qc),t.defer?Qc=requestAnimationFrame(()=>{p_(t,()=>{Qc=null})}):(p_(t),Qc=null)},E9=_9,g_=class extends K.Component{constructor(){super(...arguments);fs(this,"rendered",!1)}shouldComponentUpdate(e){return!a9(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const a=f9(e.get().map(l=>{const u={...l.props};return delete u.context,u}));jP.canUseDOM?E9(a):ay&&(r=ay(a)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Em,VP=(Em=class extends K.Component{shouldComponentUpdate(t){return!n9(f_(this.props,"helmetData"),f_(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return h_(d_.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${d_.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),h_(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return at.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:a,...l}=r.props,u=Object.keys(l).reduce((m,w)=>(m[o9[w]||w]=l[w],m),{});let{type:p}=r;switch(typeof p=="symbol"?p=p.toString():this.warnOnInvalidChildren(r,a),p){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,u,a);break;default:e=this.mapObjectTypeChildren(r,e,u,a);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof oy)){const a=r;r=new oy(a.context,!0),delete n.helmetData}return r?at.createElement(g_,{...n,context:r.value}):at.createElement(FP.Consumer,null,a=>at.createElement(g_,{...n,context:a}))}},fs(Em,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Em);const D0=(t,e)=>{window.gtag("event",t,e)},O0=async(t,e,n)=>{const r=Vr.currentUser;try{Lh(zp,e,{content_id:t}),await Ba(Et(et,"interactions"),{contentId:t,interactionType:e,timestamp:new Date,userId:(r==null?void 0:r.uid)||"nonuser",subjectId:n}),console.log("Interaction logged and saved successfully.")}catch(a){console.error("Error logging interaction:",a)}},A9=()=>{var J;const[t,e]=K.useState([]),[n,r]=K.useState([]),[a,l]=K.useState(0),[u,p]=K.useState(0),m=Di(),w=K.useRef(null),{setContent:A}=Fh();K.useEffect(()=>{const re=async()=>{try{const oe=await e3(u);e(oe),A(oe[a]),O0(oe[a].id,"view_content"),Lh(zp,"view_content",{content_type:"post",content_id:oe[a].id}),D0("view_content",{content_type:"post",content_id:oe[a].id})}catch(oe){console.error("Error fetching contents:",oe)}},te=async()=>{try{const oe=await t3();r(oe)}catch(oe){console.error("Error fetching latest contents:",oe)}};re(),te()},[]),K.useEffect(()=>{const re=()=>{if(w.current){const te=w.current.clientHeight,j=Math.floor(te/100);p(j)}};return re(),window.addEventListener("resize",re),()=>{window.removeEventListener("resize",re)}},[n,t]);const T=()=>{a>0&&l(a-1)},I=()=>{a<n.length-1&&l(a+1)},z=re=>{const te=[...t].sort((oe,j)=>re==="asc"?oe.title.localeCompare(j.title):j.title.localeCompare(oe.title));e(te)},$=re=>{m(`/study/contents/${re}`)},q=n.length>0&&n[a]?`Home ${n[a].title}`:"Home",Z=n.length>0&&n[a]?`${n[a].description}`:"",X=n.length>0&&n[a]?`${n[a].keyword}`:"",L=`https://study.sahajshakya.com.np/${(J=n[a])==null?void 0:J.title}`;return D.jsxs(D.Fragment,{children:[D.jsxs(VP,{children:[D.jsx("title",{children:q}),D.jsx("meta",{name:"description",content:Z}),D.jsx("meta",{name:"keywords",content:X}),D.jsx("meta",{property:"og:title",content:q}),D.jsx("meta",{property:"og:description",content:Z}),D.jsx("meta",{property:"og:url",content:L})]}),D.jsx("div",{className:"container mx-auto",children:D.jsxs("div",{className:"flex",children:[D.jsx("div",{className:"w-3/4 pr-4",ref:w,children:n.length>0&&D.jsxs("div",{children:[D.jsx("h3",{className:"text-xl font-semibold",children:n[a].title}),D.jsx("div",{dangerouslySetInnerHTML:{__html:n[a].content}}),D.jsxs("div",{className:"mt-4 flex justify-between",children:[a!==0&&D.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md mr-2",onClick:T,children:"Previous"}),D.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md",onClick:I,disabled:a===n.length-1,children:"Next"})]})]})}),D.jsxs("div",{className:"w-1/4 pl-4",children:[D.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Other Contents"}),D.jsx("div",{className:"grid gap-4",children:t.slice(0,u).map(re=>D.jsx(KW,{subject:re.subjectName,chapter:re.chapterName,subchapter:re.subchapterName,title:re.title,onClick:()=>$(re.id)},re.id))}),D.jsxs("div",{className:"flex justify-between mt-4",children:[D.jsx("button",{className:"px-4 py-1 bg-blue-500 text-white rounded-md text-md mr-2",onClick:()=>z("asc"),children:"Asc"}),D.jsx("button",{className:"px-4 py-1 bg-blue-500 text-white rounded-md text-md",onClick:()=>z("desc"),children:"Desc"})]})]})]})})]})},k9=({isOpen:t,setIsSidebarOpen:e})=>{const[n,r]=K.useState(!1),a=K.useRef(null),l=()=>{r(!n)};K.useEffect(()=>{const p=m=>{a.current&&!a.current.contains(m.target)&&r(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const u=()=>{e(!t)};return D.jsxs("div",{className:`flex flex-col h-screen w-64 bg-gray-800 text-white fixed z-50 transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:[D.jsxs("div",{className:"flex flex-col items-center p-4",children:[D.jsx("h1",{className:"text-2xl font-bold mb-4",children:"My Sidebar"}),D.jsxs("ul",{className:"flex flex-col w-full",children:[D.jsxs("li",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded",onClick:u,children:[D.jsx(Qa,{className:"mr-2"})," ",D.jsx(ir,{to:"/admin/creatematerial",children:"Create Material"})]}),D.jsxs("li",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded",onClick:u,children:[D.jsx(Qa,{className:"mr-2"})," ",D.jsx(ir,{to:"/admin/createcontent",children:"Create Contents"})]}),D.jsxs("li",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded",onClick:u,children:[D.jsx(Qa,{className:"mr-2"})," ",D.jsx(ir,{to:"/admin/showcontent",children:"Show Contents"})]}),D.jsxs("li",{className:"flex flex-col",ref:a,children:[D.jsxs("div",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded cursor-pointer",onClick:l,children:[D.jsx(mk,{className:"mr-2"})," Portfolio",D.jsx(vk,{className:`ml-auto transition-transform ${n?"rotate-180":""}`})]}),n&&D.jsxs("ul",{className:"ml-8 mt-2 space-y-2",children:[D.jsxs("li",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded",children:[D.jsx(Qa,{className:"mr-2"})," Component 1"]}),D.jsxs("li",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded",children:[D.jsx(Qa,{className:"mr-2"}),"Component 2"]}),D.jsxs("li",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded",children:[D.jsx(Qa,{className:"mr-2"})," Component 3"]})]})]})]})]}),D.jsx("div",{className:"mt-auto p-4",children:D.jsx("p",{className:"text-sm",children:"Footer content here"})})]})},C9=()=>{const[t,e]=K.useState(!1),{logout:n}=Us();K.useEffect(()=>{(()=>{setTimeout(async()=>{try{await n()}catch(p){console.error("Error logging out:",p)}},72e5)})();const u=setTimeout(async()=>{try{await n()}catch(p){console.error("Error logging out:",p)}},72e5);return()=>clearTimeout(u)},[]);const r=()=>{e(!t)};return D.jsxs("div",{className:"flex h-screen overflow-hidden",children:[t&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:r}),D.jsx(k9,{isOpen:t,setIsSidebarOpen:e}),D.jsxs("div",{className:`flex flex-col flex-1 transition-transform duration-300 ease-in-out ${t?"transform translate-x-64":""}`,children:[D.jsx("header",{children:D.jsx(LI,{toggleSidebar:r})}),D.jsx("main",{className:"flex-1 p-4 bg-gray-100 overflow-auto",children:D.jsx(fx,{})}),D.jsx("footer",{className:"p-4 bg-gray-700 text-white text-center",children:"© 2024 Sahaj Shakya"})]})]})},m_=({totalItems:t,itemsPerPage:e,currentPage:n,onPageChange:r})=>{const a=Math.ceil(t/e),l=p=>{r(p)},u=Array.from({length:a},(p,m)=>m+1);return D.jsx("nav",{"aria-label":"Page navigation example",className:"mt-4",children:D.jsxs("ul",{className:"inline-flex -space-x-px text-sm",children:[D.jsx("li",{children:D.jsx("button",{onClick:()=>l(n-1),disabled:n===1,className:"flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:"Previous"})}),u.map(p=>D.jsx("li",{children:D.jsx("button",{onClick:()=>l(p),className:`flex items-center justify-center px-3 h-8 leading-tight ${p===n?"text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:p})},p)),D.jsx("li",{children:D.jsx("button",{onClick:()=>l(n+1),disabled:n===a,className:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:"Next"})})]})})};var cy={exports:{}};/*!
 * ApexCharts v3.51.0
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */(function(t,e){function n(V,i){var s=Object.keys(V);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(V);i&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(V,c).enumerable})),s.push.apply(s,o)}return s}function r(V){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?n(Object(s),!0).forEach(function(o){m(V,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(o){Object.defineProperty(V,o,Object.getOwnPropertyDescriptor(s,o))})}return V}function a(V){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},a(V)}function l(V,i){if(!(V instanceof i))throw new TypeError("Cannot call a class as a function")}function u(V,i){for(var s=0;s<i.length;s++){var o=i[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(V,o.key,o)}}function p(V,i,s){return i&&u(V.prototype,i),s&&u(V,s),V}function m(V,i,s){return i in V?Object.defineProperty(V,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):V[i]=s,V}function w(V,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(i&&i.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),i&&T(V,i)}function A(V){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},A(V)}function T(V,i){return T=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},T(V,i)}function I(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function z(V){var i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,o=A(V);if(i){var c=A(this).constructor;s=Reflect.construct(o,arguments,c)}else s=o.apply(this,arguments);return function(h,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(h)}(this,s)}}function $(V,i){return function(s){if(Array.isArray(s))return s}(V)||function(s,o){var c=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(c!=null){var h,d,f=[],g=!0,y=!1;try{for(c=c.call(s);!(g=(h=c.next()).done)&&(f.push(h.value),!o||f.length!==o);g=!0);}catch(b){y=!0,d=b}finally{try{g||c.return==null||c.return()}finally{if(y)throw d}}return f}}(V,i)||Z(V,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(V){return function(i){if(Array.isArray(i))return X(i)}(V)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(V)||Z(V)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Z(V,i){if(V){if(typeof V=="string")return X(V,i);var s=Object.prototype.toString.call(V).slice(8,-1);return s==="Object"&&V.constructor&&(s=V.constructor.name),s==="Map"||s==="Set"?Array.from(V):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?X(V,i):void 0}}function X(V,i){(i==null||i>V.length)&&(i=V.length);for(var s=0,o=new Array(i);s<i;s++)o[s]=V[s];return o}var L=function(){function V(){l(this,V)}return p(V,[{key:"shadeRGBColor",value:function(i,s){var o=s.split(","),c=i<0?0:255,h=i<0?-1*i:i,d=parseInt(o[0].slice(4),10),f=parseInt(o[1],10),g=parseInt(o[2],10);return"rgb("+(Math.round((c-d)*h)+d)+","+(Math.round((c-f)*h)+f)+","+(Math.round((c-g)*h)+g)+")"}},{key:"shadeHexColor",value:function(i,s){var o=parseInt(s.slice(1),16),c=i<0?0:255,h=i<0?-1*i:i,d=o>>16,f=o>>8&255,g=255&o;return"#"+(16777216+65536*(Math.round((c-d)*h)+d)+256*(Math.round((c-f)*h)+f)+(Math.round((c-g)*h)+g)).toString(16).slice(1)}},{key:"shadeColor",value:function(i,s){return V.isColorHex(s)?this.shadeHexColor(i,s):this.shadeRGBColor(i,s)}}],[{key:"bind",value:function(i,s){return function(){return i.apply(s,arguments)}}},{key:"isObject",value:function(i){return i&&a(i)==="object"&&!Array.isArray(i)&&i!=null}},{key:"is",value:function(i,s){return Object.prototype.toString.call(s)==="[object "+i+"]"}},{key:"listToArray",value:function(i){var s,o=[];for(s=0;s<i.length;s++)o[s]=i[s];return o}},{key:"extend",value:function(i,s){var o=this;typeof Object.assign!="function"&&(Object.assign=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(h),f=1;f<arguments.length;f++){var g=arguments[f];if(g!=null)for(var y in g)g.hasOwnProperty(y)&&(d[y]=g[y])}return d});var c=Object.assign({},i);return this.isObject(i)&&this.isObject(s)&&Object.keys(s).forEach(function(h){o.isObject(s[h])&&h in i?c[h]=o.extend(i[h],s[h]):Object.assign(c,m({},h,s[h]))}),c}},{key:"extendArray",value:function(i,s){var o=[];return i.map(function(c){o.push(V.extend(s,c))}),i=o}},{key:"monthMod",value:function(i){return i%12}},{key:"clone",value:function(i){if(V.is("Array",i)){for(var s=[],o=0;o<i.length;o++)s[o]=this.clone(i[o]);return s}if(V.is("Null",i))return null;if(V.is("Date",i))return i;if(a(i)==="object"){var c={};for(var h in i)i.hasOwnProperty(h)&&(c[h]=this.clone(i[h]));return c}return i}},{key:"log10",value:function(i){return Math.log(i)/Math.LN10}},{key:"roundToBase10",value:function(i){return Math.pow(10,Math.floor(Math.log10(i)))}},{key:"roundToBase",value:function(i,s){return Math.pow(s,Math.floor(Math.log(i)/Math.log(s)))}},{key:"parseNumber",value:function(i){return i===null?i:parseFloat(i)}},{key:"stripNumber",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(i)?i:parseFloat(i.toPrecision(s))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(i){var s=String(i).split(/[eE]/);if(s.length===1)return s[0];var o="",c=i<0?"-":"",h=s[0].replace(".",""),d=Number(s[1])+1;if(d<0){for(o=c+"0.";d++;)o+="0";return o+h.replace(/^-/,"")}for(d-=h.length;d--;)o+="0";return h+o}},{key:"getDimensions",value:function(i){var s=getComputedStyle(i,null),o=i.clientHeight,c=i.clientWidth;return o-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),[c-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),o]}},{key:"getBoundingClientRect",value:function(i){var s=i.getBoundingClientRect();return{top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:i.clientWidth,height:i.clientHeight,x:s.left,y:s.top}}},{key:"getLargestStringFromArr",value:function(i){return i.reduce(function(s,o){return Array.isArray(o)&&(o=o.reduce(function(c,h){return c.length>h.length?c:h})),s.length>o.length?s:o},0)}},{key:"hexToRgba",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;i.substring(0,1)!=="#"&&(i="#999999");var o=i.replace("#","");o=o.match(new RegExp("(.{"+o.length/3+"})","g"));for(var c=0;c<o.length;c++)o[c]=parseInt(o[c].length===1?o[c]+o[c]:o[c],16);return s!==void 0&&o.push(s),"rgba("+o.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(i){return parseFloat(i.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(i){return(i=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&i.length===4?"#"+("0"+parseInt(i[1],10).toString(16)).slice(-2)+("0"+parseInt(i[2],10).toString(16)).slice(-2)+("0"+parseInt(i[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(i)}},{key:"getPolygonPos",value:function(i,s){for(var o=[],c=2*Math.PI/s,h=0;h<s;h++){var d={};d.x=i*Math.sin(h*c),d.y=-i*Math.cos(h*c),o.push(d)}return o}},{key:"polarToCartesian",value:function(i,s,o,c){var h=(c-90)*Math.PI/180;return{x:i+o*Math.cos(h),y:s+o*Math.sin(h)}}},{key:"escapeString",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",o=i.toString().slice();return o=o.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,s)}},{key:"negToZero",value:function(i){return i<0?0:i}},{key:"moveIndexInArray",value:function(i,s,o){if(o>=i.length)for(var c=o-i.length+1;c--;)i.push(void 0);return i.splice(o,0,i.splice(s,1)[0]),i}},{key:"extractNumber",value:function(i){return parseFloat(i.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(i,s){for(;(i=i.parentElement)&&!i.classList.contains(s););return i}},{key:"setELstyles",value:function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i.style.key=s[o])}},{key:"isNumber",value:function(i){return!isNaN(i)&&parseFloat(Number(i))===i&&!isNaN(parseInt(i,10))}},{key:"isFloat",value:function(i){return Number(i)===i&&i%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var i=window.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var o=i.indexOf("rv:");return parseInt(i.substring(o+3,i.indexOf(".",o)),10)}var c=i.indexOf("Edge/");return c>0&&parseInt(i.substring(c+5,i.indexOf(".",c)),10)}},{key:"getGCD",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,c=Math.pow(10,o-Math.floor(Math.log10(Math.max(i,s))));for(i=Math.round(Math.abs(i)*c),s=Math.round(Math.abs(s)*c);s;){var h=s;s=i%s,i=h}return i/c}},{key:"getPrimeFactors",value:function(i){for(var s=[],o=2;i>=2;)i%o==0?(s.push(o),i/=o):o++;return s}},{key:"mod",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,c=Math.pow(10,o-Math.floor(Math.log10(Math.max(i,s))));return(i=Math.round(Math.abs(i)*c))%(s=Math.round(Math.abs(s)*c))/c}}]),V}(),J=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.setEasingFunctions()}return p(V,[{key:"setEasingFunctions",value:function(){var i;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":i="-";break;case"easein":i="<";break;case"easeout":i=">";break;case"easeinout":default:i="<>";break;case"swing":i=function(s){var o=1.70158;return(s-=1)*s*((o+1)*s+o)+1};break;case"bounce":i=function(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375};break;case"elastic":i=function(s){return s===!!s?s:Math.pow(2,-10*s)*Math.sin((s-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=i}}},{key:"animateLine",value:function(i,s,o,c){i.attr(s).animate(c).attr(o)}},{key:"animateMarker",value:function(i,s,o,c){i.attr({opacity:0}).animate(s,o).attr({opacity:1}).afterAll(function(){c()})}},{key:"animateRect",value:function(i,s,o,c,h){i.attr(s).animate(c).attr(o).afterAll(function(){return h()})}},{key:"animatePathsGradually",value:function(i){var s=i.el,o=i.realIndex,c=i.j,h=i.fill,d=i.pathFrom,f=i.pathTo,g=i.speed,y=i.delay,b=this.w,S=0;b.config.chart.animations.animateGradually.enabled&&(S=b.config.chart.animations.animateGradually.delay),b.config.chart.animations.dynamicAnimation.enabled&&b.globals.dataChanged&&b.config.chart.type!=="bar"&&(S=0),this.morphSVG(s,o,c,b.config.chart.type!=="line"||b.globals.comboCharts?h:"stroke",d,f,g,y*S)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(i){var s=i.el;s.classList.remove("apexcharts-element-hidden"),s.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(i){var s=this.w;s.globals.animationEnded||(s.globals.animationEnded=!0,this.showDelayedElements(),typeof s.config.chart.events.animationEnd=="function"&&s.config.chart.events.animationEnd(this.ctx,{el:i,w:s}))}},{key:"morphSVG",value:function(i,s,o,c,h,d,f,g){var y=this,b=this.w;h||(h=i.attr("pathFrom")),d||(d=i.attr("pathTo"));var S=function(_){return b.config.chart.type==="radar"&&(f=1),"M 0 ".concat(b.globals.gridHeight)};(!h||h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h=S()),(!d||d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d=S()),b.globals.shouldAnimate||(f=1),i.plot(h).animate(1,b.globals.easing,g).plot(h).animate(f,b.globals.easing,g).plot(d).afterAll(function(){L.isNumber(o)?o===b.globals.series[b.globals.maxValsInArrayIndex].length-2&&b.globals.shouldAnimate&&y.animationCompleted(i):c!=="none"&&b.globals.shouldAnimate&&(!b.globals.comboCharts&&s===b.globals.series.length-1||b.globals.comboCharts)&&y.animationCompleted(i),y.showDelayedElements()})}}]),V}(),re=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"getDefaultFilter",value:function(i,s){var o=this.w;i.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),o.config.states.normal.filter!=="none"?this.applyFilter(i,s,o.config.states.normal.filter.type,o.config.states.normal.filter.value):o.config.chart.dropShadow.enabled&&this.dropShadow(i,o.config.chart.dropShadow,s)}},{key:"addNormalFilter",value:function(i,s){var o=this.w;o.config.chart.dropShadow.enabled&&!i.node.classList.contains("apexcharts-marker")&&this.dropShadow(i,o.config.chart.dropShadow,s)}},{key:"addLightenFilter",value:function(i,s,o){var c=this,h=this.w,d=o.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(f){var g=h.config.chart.dropShadow;(g.enabled?c.addShadow(f,s,g):f).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:d}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"addDarkenFilter",value:function(i,s,o){var c=this,h=this.w,d=o.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(f){var g=h.config.chart.dropShadow;(g.enabled?c.addShadow(f,s,g):f).componentTransfer({rgb:{type:"linear",slope:d}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"applyFilter",value:function(i,s,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(o){case"none":this.addNormalFilter(i,s);break;case"lighten":this.addLightenFilter(i,s,{intensity:c});break;case"darken":this.addDarkenFilter(i,s,{intensity:c})}}},{key:"addShadow",value:function(i,s,o){var c,h=this.w,d=o.blur,f=o.top,g=o.left,y=o.color,b=o.opacity;if(((c=h.config.chart.dropShadow.enabledOnSeries)===null||c===void 0?void 0:c.length)>0&&h.config.chart.dropShadow.enabledOnSeries.indexOf(s)===-1)return i;var S=i.flood(Array.isArray(y)?y[s]:y,b).composite(i.sourceAlpha,"in").offset(g,f).gaussianBlur(d).merge(i.source);return i.blend(i.source,S)}},{key:"dropShadow",value:function(i,s){var o,c,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=s.top,f=s.left,g=s.blur,y=s.color,b=s.opacity,S=s.noUserSpaceOnUse,_=this.w;return i.unfilter(!0),L.isIE()&&_.config.chart.type==="radialBar"||((o=_.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.length)>0&&((c=_.config.chart.dropShadow.enabledOnSeries)===null||c===void 0?void 0:c.indexOf(h))===-1||(y=Array.isArray(y)?y[h]:y,i.filter(function(k){var C=null;C=L.isSafari()||L.isFirefox()||L.isIE()?k.flood(y,b).composite(k.sourceAlpha,"in").offset(f,d).gaussianBlur(g):k.flood(y,b).composite(k.sourceAlpha,"in").offset(f,d).gaussianBlur(g).merge(k.source),k.blend(k.source,C)}),S||i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)),i}},{key:"setSelectionFilter",value:function(i,s,o){var c=this.w;if(c.globals.selectedDataPoints[s]!==void 0&&c.globals.selectedDataPoints[s].indexOf(o)>-1){i.node.setAttribute("selected",!0);var h=c.config.states.active.filter;h!=="none"&&this.applyFilter(i,s,h.type,h.value)}}},{key:"_scaleFilterSize",value:function(i){(function(s){for(var o in s)s.hasOwnProperty(o)&&i.setAttribute(o,s[o])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),V}(),te=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"roundPathCorners",value:function(i,s){function o(G,ae,se){var ge=ae.x-G.x,fe=ae.y-G.y,he=Math.sqrt(ge*ge+fe*fe);return c(G,ae,Math.min(1,se/he))}function c(G,ae,se){return{x:G.x+(ae.x-G.x)*se,y:G.y+(ae.y-G.y)*se}}function h(G,ae){G.length>2&&(G[G.length-2]=ae.x,G[G.length-1]=ae.y)}function d(G){return{x:parseFloat(G[G.length-2]),y:parseFloat(G[G.length-1])}}i.indexOf("NaN")>-1&&(i="");var f=i.split(/[,\s]/).reduce(function(G,ae){var se=ae.match("([a-zA-Z])(.+)");return se?(G.push(se[1]),G.push(se[2])):G.push(ae),G},[]).reduce(function(G,ae){return parseFloat(ae)==ae&&G.length?G[G.length-1].push(ae):G.push([ae]),G},[]),g=[];if(f.length>1){var y=d(f[0]),b=null;f[f.length-1][0]=="Z"&&f[0].length>2&&(b=["L",y.x,y.y],f[f.length-1]=b),g.push(f[0]);for(var S=1;S<f.length;S++){var _=g[g.length-1],k=f[S],C=k==b?f[1]:f[S+1];if(C&&_&&_.length>2&&k[0]=="L"&&C.length>2&&C[0]=="L"){var R,O,F=d(_),U=d(k),v=d(C);R=o(U,F,s),O=o(U,v,s),h(k,R),k.origPoint=U,g.push(k);var E=c(R,U,.5),N=c(U,O,.5),H=["C",E.x,E.y,N.x,N.y,O.x,O.y];H.origPoint=U,g.push(H)}else g.push(k)}if(b){var B=d(g[g.length-1]);g.push(["Z"]),h(g[0],B)}}else g=f;return g.reduce(function(G,ae){return G+ae.join(" ")+" "},"")}},{key:"drawLine",value:function(i,s,o,c){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:i,y1:s,x2:o,y2:c,stroke:h,"stroke-dasharray":d,"stroke-width":f,"stroke-linecap":g})}},{key:"drawRect",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,y=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,b=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,S=this.w.globals.dom.Paper.rect();return S.attr({x:i,y:s,width:o>0?o:0,height:c>0?c:0,rx:h,ry:h,opacity:f,"stroke-width":g!==null?g:0,stroke:y!==null?y:"none","stroke-dasharray":b}),S.node.setAttribute("fill",d),S}},{key:"drawPolygon",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(i).attr({fill:c,stroke:s,"stroke-width":o})}},{key:"drawCircle",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;i<0&&(i=0);var o=this.w.globals.dom.Paper.circle(2*i);return s!==null&&o.attr(s),o}},{key:"drawPath",value:function(i){var s=i.d,o=s===void 0?"":s,c=i.stroke,h=c===void 0?"#a8a8a8":c,d=i.strokeWidth,f=d===void 0?1:d,g=i.fill,y=i.fillOpacity,b=y===void 0?1:y,S=i.strokeOpacity,_=S===void 0?1:S,k=i.classes,C=i.strokeLinecap,R=C===void 0?null:C,O=i.strokeDashArray,F=O===void 0?0:O,U=this.w;return R===null&&(R=U.config.stroke.lineCap),(o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o="M 0 ".concat(U.globals.gridHeight)),U.globals.dom.Paper.path(o).attr({fill:g,"fill-opacity":b,stroke:h,"stroke-opacity":_,"stroke-linecap":R,"stroke-width":f,"stroke-dasharray":F,class:k})}},{key:"group",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w.globals.dom.Paper.group();return i!==null&&s.attr(i),s}},{key:"move",value:function(i,s){var o=["M",i,s].join(" ");return o}},{key:"line",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=null;return o===null?c=[" L",i,s].join(" "):o==="H"?c=[" H",i].join(" "):o==="V"&&(c=[" V",s].join(" ")),c}},{key:"curve",value:function(i,s,o,c,h,d){var f=["C",i,s,o,c,h,d].join(" ");return f}},{key:"quadraticCurve",value:function(i,s,o,c){return["Q",i,s,o,c].join(" ")}},{key:"arc",value:function(i,s,o,c,h,d,f){var g="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(g="a");var y=[g,i,s,o,c,h,d,f].join(" ");return y}},{key:"renderPaths",value:function(i){var s,o=i.j,c=i.realIndex,h=i.pathFrom,d=i.pathTo,f=i.stroke,g=i.strokeWidth,y=i.strokeLinecap,b=i.fill,S=i.animationDelay,_=i.initialSpeed,k=i.dataChangeSpeed,C=i.className,R=i.shouldClipToGrid,O=R===void 0||R,F=i.bindEventsOnPaths,U=F===void 0||F,v=i.drawShadow,E=v===void 0||v,N=this.w,H=new re(this.ctx),B=new J(this.ctx),G=this.w.config.chart.animations.enabled,ae=G&&this.w.config.chart.animations.dynamicAnimation.enabled,se=!!(G&&!N.globals.resized||ae&&N.globals.dataChanged&&N.globals.shouldAnimate);se?s=h:(s=d,N.globals.animationEnded=!0);var ge=N.config.stroke.dashArray,fe=0;fe=Array.isArray(ge)?ge[c]:N.config.stroke.dashArray;var he=this.drawPath({d:s,stroke:f,strokeWidth:g,fill:b,fillOpacity:1,classes:C,strokeLinecap:y,strokeDashArray:fe});if(he.attr("index",c),O&&he.attr({"clip-path":"url(#gridRectMask".concat(N.globals.cuid,")")}),N.config.states.normal.filter.type!=="none")H.getDefaultFilter(he,c);else if(N.config.chart.dropShadow.enabled&&E){var ve=N.config.chart.dropShadow;H.dropShadow(he,ve,c)}U&&(he.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,he)),he.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,he)),he.node.addEventListener("mousedown",this.pathMouseDown.bind(this,he))),he.attr({pathTo:d,pathFrom:h});var Te={el:he,j:o,realIndex:c,pathFrom:h,pathTo:d,fill:b,strokeWidth:g,delay:S};return!G||N.globals.resized||N.globals.dataChanged?!N.globals.resized&&N.globals.dataChanged||B.showDelayedElements():B.animatePathsGradually(r(r({},Te),{},{speed:_})),N.globals.dataChanged&&ae&&se&&B.animatePathsGradually(r(r({},Te),{},{speed:k})),he}},{key:"drawPattern",value:function(i,s,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(s,o,function(d){i==="horizontalLines"?d.line(0,0,o,0).stroke({color:c,width:h+1}):i==="verticalLines"?d.line(0,0,0,s).stroke({color:c,width:h+1}):i==="slantedLines"?d.line(0,0,s,o).stroke({color:c,width:h}):i==="squares"?d.rect(s,o).fill("none").stroke({color:c,width:h}):i==="circles"&&d.circle(s).fill("none").stroke({color:c,width:h})})}},{key:"drawGradient",value:function(i,s,o,c,h){var d,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,S=this.w;s.length<9&&s.indexOf("#")===0&&(s=L.hexToRgba(s,c)),o.length<9&&o.indexOf("#")===0&&(o=L.hexToRgba(o,h));var _=0,k=1,C=1,R=null;g!==null&&(_=g[0]!==void 0?g[0]/100:0,k=g[1]!==void 0?g[1]/100:1,C=g[2]!==void 0?g[2]/100:1,R=g[3]!==void 0?g[3]/100:null);var O=!(S.config.chart.type!=="donut"&&S.config.chart.type!=="pie"&&S.config.chart.type!=="polarArea"&&S.config.chart.type!=="bubble");if(d=y===null||y.length===0?S.globals.dom.Paper.gradient(O?"radial":"linear",function(v){v.at(_,s,c),v.at(k,o,h),v.at(C,o,h),R!==null&&v.at(R,s,c)}):S.globals.dom.Paper.gradient(O?"radial":"linear",function(v){(Array.isArray(y[b])?y[b]:y).forEach(function(E){v.at(E.offset/100,E.color,E.opacity)})}),O){var F=S.globals.gridWidth/2,U=S.globals.gridHeight/2;S.config.chart.type!=="bubble"?d.attr({gradientUnits:"userSpaceOnUse",cx:F,cy:U,r:f}):d.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else i==="vertical"?d.from(0,0).to(0,1):i==="diagonal"?d.from(0,0).to(1,1):i==="horizontal"?d.from(0,1).to(1,1):i==="diagonal2"&&d.from(1,0).to(0,1);return d}},{key:"getTextBasedOnMaxWidth",value:function(i){var s=i.text,o=i.maxWidth,c=i.fontSize,h=i.fontFamily,d=this.getTextRects(s,c,h),f=d.width/s.length,g=Math.floor(o/f);return o<d.width?s.slice(0,g-3)+"...":s}},{key:"drawText",value:function(i){var s=this,o=i.x,c=i.y,h=i.text,d=i.textAnchor,f=i.fontSize,g=i.fontFamily,y=i.fontWeight,b=i.foreColor,S=i.opacity,_=i.maxWidth,k=i.cssClass,C=k===void 0?"":k,R=i.isPlainText,O=R===void 0||R,F=i.dominantBaseline,U=F===void 0?"auto":F,v=this.w;h===void 0&&(h="");var E=h;d||(d="start"),b&&b.length||(b=v.config.chart.foreColor),g=g||v.config.chart.fontFamily,y=y||"regular";var N,H={maxWidth:_,fontSize:f=f||"11px",fontFamily:g};return Array.isArray(h)?N=v.globals.dom.Paper.text(function(B){for(var G=0;G<h.length;G++)E=h[G],_&&(E=s.getTextBasedOnMaxWidth(r({text:h[G]},H))),G===0?B.tspan(E):B.tspan(E).newLine()}):(_&&(E=this.getTextBasedOnMaxWidth(r({text:h},H))),N=O?v.globals.dom.Paper.plain(h):v.globals.dom.Paper.text(function(B){return B.tspan(E)})),N.attr({x:o,y:c,"text-anchor":d,"dominant-baseline":U,"font-size":f,"font-family":g,"font-weight":y,fill:b,class:"apexcharts-text "+C}),N.node.style.fontFamily=g,N.node.style.opacity=S,N}},{key:"getMarkerPath",value:function(i,s,o,c){var h="";switch(o){case"cross":h="M ".concat(i-(c/=1.4)," ").concat(s-c," L ").concat(i+c," ").concat(s+c,"  M ").concat(i-c," ").concat(s+c," L ").concat(i+c," ").concat(s-c);break;case"plus":h="M ".concat(i-(c/=1.12)," ").concat(s," L ").concat(i+c," ").concat(s,"  M ").concat(i," ").concat(s-c," L ").concat(i," ").concat(s+c);break;case"star":case"sparkle":var d=5;c*=1.15,o==="sparkle"&&(c/=1.1,d=4);for(var f=Math.PI/d,g=0;g<=2*d;g++){var y=g*f,b=g%2==0?c:c/2;h+=(g===0?"M":"L")+(i+b*Math.sin(y))+","+(s-b*Math.cos(y))}h+="Z";break;case"triangle":h="M ".concat(i," ").concat(s-c,` 
             L `).concat(i+c," ").concat(s+c,` 
             L `).concat(i-c," ").concat(s+c,` 
             Z`);break;case"square":case"rect":h="M ".concat(i-(c/=1.125)," ").concat(s-c,` 
           L `).concat(i+c," ").concat(s-c,` 
           L `).concat(i+c," ").concat(s+c,` 
           L `).concat(i-c," ").concat(s+c,` 
           Z`);break;case"diamond":c*=1.05,h="M ".concat(i," ").concat(s-c,` 
             L `).concat(i+c," ").concat(s,` 
             L `).concat(i," ").concat(s+c,` 
             L `).concat(i-c," ").concat(s,` 
            Z`);break;case"line":h="M ".concat(i-(c/=1.1)," ").concat(s,` 
           L `).concat(i+c," ").concat(s);break;default:c*=2,h="M ".concat(i,", ").concat(s,` 
           m -`).concat(c/2,`, 0 
           a `).concat(c/2,",").concat(c/2," 0 1,0 ").concat(c,`,0 
           a `).concat(c/2,",").concat(c/2," 0 1,0 -").concat(c,",0")}return h}},{key:"drawMarkerShape",value:function(i,s,o,c,h){var d=this.drawPath({d:this.getMarkerPath(i,s,o,c,h),stroke:h.pointStrokeColor,strokeDashArray:h.pointStrokeDashArray,strokeWidth:h.pointStrokeWidth,fill:h.pointFillColor,fillOpacity:h.pointFillOpacity,strokeOpacity:h.pointStrokeOpacity});return d.attr({cx:i,cy:s,shape:h.shape,class:h.class?h.class:""}),d}},{key:"drawMarker",value:function(i,s,o){i=i||0;var c=o.pSize||0;return L.isNumber(s)||(c=0,s=0),this.drawMarkerShape(i,s,o==null?void 0:o.shape,c,r(r({},o),o.shape==="line"||o.shape==="plus"||o.shape==="cross"?{pointStrokeColor:o.pointFillColor,pointStrokeOpacity:o.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(i,s){var o=this.w,c=new re(this.ctx),h=parseInt(i.node.getAttribute("index"),10),d=parseInt(i.node.getAttribute("j"),10);if(typeof o.config.chart.events.dataPointMouseEnter=="function"&&o.config.chart.events.dataPointMouseEnter(s,this.ctx,{seriesIndex:h,dataPointIndex:d,w:o}),this.ctx.events.fireEvent("dataPointMouseEnter",[s,this.ctx,{seriesIndex:h,dataPointIndex:d,w:o}]),(o.config.states.active.filter.type==="none"||i.node.getAttribute("selected")!=="true")&&o.config.states.hover.filter.type!=="none"&&!o.globals.isTouchDevice){var f=o.config.states.hover.filter;c.applyFilter(i,h,f.type,f.value)}}},{key:"pathMouseLeave",value:function(i,s){var o=this.w,c=new re(this.ctx),h=parseInt(i.node.getAttribute("index"),10),d=parseInt(i.node.getAttribute("j"),10);typeof o.config.chart.events.dataPointMouseLeave=="function"&&o.config.chart.events.dataPointMouseLeave(s,this.ctx,{seriesIndex:h,dataPointIndex:d,w:o}),this.ctx.events.fireEvent("dataPointMouseLeave",[s,this.ctx,{seriesIndex:h,dataPointIndex:d,w:o}]),o.config.states.active.filter.type!=="none"&&i.node.getAttribute("selected")==="true"||o.config.states.hover.filter.type!=="none"&&c.getDefaultFilter(i,h)}},{key:"pathMouseDown",value:function(i,s){var o=this.w,c=new re(this.ctx),h=parseInt(i.node.getAttribute("index"),10),d=parseInt(i.node.getAttribute("j"),10),f="false";if(i.node.getAttribute("selected")==="true"){if(i.node.setAttribute("selected","false"),o.globals.selectedDataPoints[h].indexOf(d)>-1){var g=o.globals.selectedDataPoints[h].indexOf(d);o.globals.selectedDataPoints[h].splice(g,1)}}else{if(!o.config.states.active.allowMultipleDataPointsSelection&&o.globals.selectedDataPoints.length>0){o.globals.selectedDataPoints=[];var y=o.globals.dom.Paper.select(".apexcharts-series path").members,b=o.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,S=function(C){Array.prototype.forEach.call(C,function(R){R.node.setAttribute("selected","false"),c.getDefaultFilter(R,h)})};S(y),S(b)}i.node.setAttribute("selected","true"),f="true",o.globals.selectedDataPoints[h]===void 0&&(o.globals.selectedDataPoints[h]=[]),o.globals.selectedDataPoints[h].push(d)}if(f==="true"){var _=o.config.states.active.filter;if(_!=="none")c.applyFilter(i,h,_.type,_.value);else if(o.config.states.hover.filter!=="none"&&!o.globals.isTouchDevice){var k=o.config.states.hover.filter;c.applyFilter(i,h,k.type,k.value)}}else o.config.states.active.filter.type!=="none"&&(o.config.states.hover.filter.type==="none"||o.globals.isTouchDevice?c.getDefaultFilter(i,h):(k=o.config.states.hover.filter,c.applyFilter(i,h,k.type,k.value)));typeof o.config.chart.events.dataPointSelection=="function"&&o.config.chart.events.dataPointSelection(s,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:d,w:o}),s&&this.ctx.events.fireEvent("dataPointSelection",[s,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:d,w:o}])}},{key:"rotateAroundCenter",value:function(i){var s={};return i&&typeof i.getBBox=="function"&&(s=i.getBBox()),{x:s.x+s.width/2,y:s.y+s.height/2}}},{key:"getTextRects",value:function(i,s,o,c){var h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=this.w,f=this.drawText({x:-200,y:-200,text:i,textAnchor:"start",fontSize:s,fontFamily:o,foreColor:"#fff",opacity:0});c&&f.attr("transform",c),d.globals.dom.Paper.add(f);var g=f.bbox();return h||(g=f.node.getBoundingClientRect()),f.remove(),{width:g.width,height:g.height}}},{key:"placeTextWithEllipsis",value:function(i,s,o){if(typeof i.getComputedTextLength=="function"&&(i.textContent=s,s.length>0&&i.getComputedTextLength()>=o/1.1)){for(var c=s.length-3;c>0;c-=3)if(i.getSubStringLength(0,c)<=o/1.1)return void(i.textContent=s.substring(0,c)+"...");i.textContent="."}}}],[{key:"setAttrs",value:function(i,s){for(var o in s)s.hasOwnProperty(o)&&i.setAttribute(o,s[o])}}]),V}(),oe=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"getStackedSeriesTotals",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=this.w,o=[];if(s.globals.series.length===0)return o;for(var c=0;c<s.globals.series[s.globals.maxValsInArrayIndex].length;c++){for(var h=0,d=0;d<s.globals.series.length;d++)s.globals.series[d][c]!==void 0&&i.indexOf(d)===-1&&(h+=s.globals.series[d][c]);o.push(h)}return o}},{key:"getSeriesTotalByIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return i===null?this.w.config.series.reduce(function(s,o){return s+o},0):this.w.globals.series[i].reduce(function(s,o){return s+o},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var i=this,s=this.w,o=[];return s.globals.seriesGroups.forEach(function(c){var h=[];s.config.series.forEach(function(f,g){c.indexOf(s.globals.seriesNames[g])>-1&&h.push(g)});var d=s.globals.series.map(function(f,g){return h.indexOf(g)===-1?g:-1}).filter(function(f){return f!==-1});o.push(i.getStackedSeriesTotals(d))}),o}},{key:"setSeriesYAxisMappings",value:function(){var i=this.w.globals,s=this.w.config,o=[],c=[],h=[],d=i.series.length>s.yaxis.length||s.yaxis.some(function(S){return Array.isArray(S.seriesName)});s.series.forEach(function(S,_){h.push(_),c.push(null)}),s.yaxis.forEach(function(S,_){o[_]=[]});var f=[];s.yaxis.forEach(function(S,_){var k=!1;if(S.seriesName){var C=[];Array.isArray(S.seriesName)?C=S.seriesName:C.push(S.seriesName),C.forEach(function(R){s.series.forEach(function(O,F){if(O.name===R){var U=F;_===F||d?!d||h.indexOf(F)>-1?o[_].push([_,F]):console.warn("Series '"+O.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(o[F].push([F,_]),U=_),k=!0,(U=h.indexOf(U))!==-1&&h.splice(U,1)}})})}k||f.push(_)}),o=o.map(function(S,_){var k=[];return S.forEach(function(C){c[C[1]]=C[0],k.push(C[1])}),k});for(var g=s.yaxis.length-1,y=0;y<f.length&&(g=f[y],o[g]=[],h);y++){var b=h[0];h.shift(),o[g].push(b),c[b]=g}h.forEach(function(S){o[g].push(S),c[S]=g}),i.seriesYAxisMap=o.map(function(S){return S}),i.seriesYAxisReverseMap=c.map(function(S){return S}),i.seriesYAxisMap.forEach(function(S,_){S.forEach(function(k){s.series[k]&&s.series[k].group===void 0&&(s.series[k].group="apexcharts-axis-".concat(_.toString()))})})}},{key:"isSeriesNull",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(i===null?this.w.config.series.filter(function(s){return s!==null}):this.w.config.series[i].data.filter(function(s){return s!==null})).length===0}},{key:"seriesHaveSameValues",value:function(i){return this.w.globals.series[i].every(function(s,o,c){return s===c[0]})}},{key:"getCategoryLabels",value:function(i){var s=this.w,o=i.slice();return s.config.xaxis.convertedCatToNumeric&&(o=i.map(function(c,h){return s.config.xaxis.labels.formatter(c-s.globals.minX+1)})),o}},{key:"getLargestSeries",value:function(){var i=this.w;i.globals.maxValsInArrayIndex=i.globals.series.map(function(s){return s.length}).indexOf(Math.max.apply(Math,i.globals.series.map(function(s){return s.length})))}},{key:"getLargestMarkerSize",value:function(){var i=this.w,s=0;return i.globals.markers.size.forEach(function(o){s=Math.max(s,o)}),i.config.markers.discrete&&i.config.markers.discrete.length&&i.config.markers.discrete.forEach(function(o){s=Math.max(s,o.size)}),s>0&&(s+=i.config.markers.hover.sizeOffset+1),i.globals.markers.largestSize=s,s}},{key:"getSeriesTotals",value:function(){var i=this.w;i.globals.seriesTotals=i.globals.series.map(function(s,o){var c=0;if(Array.isArray(s))for(var h=0;h<s.length;h++)c+=s[h];else c+=s;return c})}},{key:"getSeriesTotalsXRange",value:function(i,s){var o=this.w;return o.globals.series.map(function(c,h){for(var d=0,f=0;f<c.length;f++)o.globals.seriesX[h][f]>i&&o.globals.seriesX[h][f]<s&&(d+=c[f]);return d})}},{key:"getPercentSeries",value:function(){var i=this.w;i.globals.seriesPercent=i.globals.series.map(function(s,o){var c=[];if(Array.isArray(s))for(var h=0;h<s.length;h++){var d=i.globals.stackedSeriesTotals[h],f=0;d&&(f=100*s[h]/d),c.push(f)}else{var g=100*s/i.globals.seriesTotals.reduce(function(y,b){return y+b},0);c.push(g)}return c})}},{key:"getCalculatedRatios",value:function(){var i,s,o,c=this,h=this.w,d=h.globals,f=[],g=0,y=[],b=.1,S=0;if(d.yRange=[],d.isMultipleYAxis)for(var _=0;_<d.minYArr.length;_++)d.yRange.push(Math.abs(d.minYArr[_]-d.maxYArr[_])),y.push(0);else d.yRange.push(Math.abs(d.minY-d.maxY));d.xRange=Math.abs(d.maxX-d.minX),d.zRange=Math.abs(d.maxZ-d.minZ);for(var k=0;k<d.yRange.length;k++)f.push(d.yRange[k]/d.gridHeight);if(s=d.xRange/d.gridWidth,i=d.yRange/d.gridWidth,o=d.xRange/d.gridHeight,(g=d.zRange/d.gridHeight*16)||(g=1),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(d.hasNegs=!0),h.globals.seriesYAxisReverseMap.length>0){var C=function(O,F){var U=h.config.yaxis[h.globals.seriesYAxisReverseMap[F]],v=O<0?-1:1;return O=Math.abs(O),U.logarithmic&&(O=c.getBaseLog(U.logBase,O)),-v*O/f[F]};if(d.isMultipleYAxis){y=[];for(var R=0;R<f.length;R++)y.push(C(d.minYArr[R],R))}else(y=[]).push(C(d.minY,0)),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(b=-d.minY/i,S=d.minX/s)}else(y=[]).push(0),b=0,S=0;return{yRatio:f,invertedYRatio:i,zRatio:g,xRatio:s,invertedXRatio:o,baseLineInvertedY:b,baseLineY:y,baseLineX:S}}},{key:"getLogSeries",value:function(i){var s=this,o=this.w;return o.globals.seriesLog=i.map(function(c,h){var d=o.globals.seriesYAxisReverseMap[h];return o.config.yaxis[d]&&o.config.yaxis[d].logarithmic?c.map(function(f){return f===null?null:s.getLogVal(o.config.yaxis[d].logBase,f,h)}):c}),o.globals.invalidLogScale?i:o.globals.seriesLog}},{key:"getBaseLog",value:function(i,s){return Math.log(s)/Math.log(i)}},{key:"getLogVal",value:function(i,s,o){if(s<=0)return 0;var c=this.w,h=c.globals.minYArr[o]===0?-1:this.getBaseLog(i,c.globals.minYArr[o]),d=(c.globals.maxYArr[o]===0?0:this.getBaseLog(i,c.globals.maxYArr[o]))-h;return s<1?s/d:(this.getBaseLog(i,s)-h)/d}},{key:"getLogYRatios",value:function(i){var s=this,o=this.w,c=this.w.globals;return c.yLogRatio=i.slice(),c.logYRange=c.yRange.map(function(h,d){var f=o.globals.seriesYAxisReverseMap[d];if(o.config.yaxis[f]&&s.w.config.yaxis[f].logarithmic){var g,y=-Number.MAX_VALUE,b=Number.MIN_VALUE;return c.seriesLog.forEach(function(S,_){S.forEach(function(k){o.config.yaxis[_]&&o.config.yaxis[_].logarithmic&&(y=Math.max(k,y),b=Math.min(k,b))})}),g=Math.pow(c.yRange[d],Math.abs(b-y)/c.yRange[d]),c.yLogRatio[d]=g/c.gridHeight,g}}),c.invalidLogScale?i.slice():c.yLogRatio}},{key:"drawSeriesByGroup",value:function(i,s,o,c){var h=this.w,d=[];return i.series.length>0&&s.forEach(function(f){var g=[],y=[];i.i.forEach(function(b,S){h.config.series[b].group===f&&(g.push(i.series[S]),y.push(b))}),g.length>0&&d.push(c.draw(g,o,y))}),d}}],[{key:"checkComboSeries",value:function(i,s){var o=!1,c=0,h=0;return s===void 0&&(s="line"),i.length&&i[0].type!==void 0&&i.forEach(function(d){d.type!=="bar"&&d.type!=="column"&&d.type!=="candlestick"&&d.type!=="boxPlot"||c++,d.type!==void 0&&d.type!==s&&h++}),h>0&&(o=!0),{comboBarCount:c,comboCharts:o}}},{key:"extendArrayProps",value:function(i,s,o){var c,h,d,f,g,y;return(c=s)!==null&&c!==void 0&&c.yaxis&&(s=i.extendYAxis(s,o)),(h=s)!==null&&h!==void 0&&h.annotations&&(s.annotations.yaxis&&(s=i.extendYAxisAnnotations(s)),(d=s)!==null&&d!==void 0&&(f=d.annotations)!==null&&f!==void 0&&f.xaxis&&(s=i.extendXAxisAnnotations(s)),(g=s)!==null&&g!==void 0&&(y=g.annotations)!==null&&y!==void 0&&y.points&&(s=i.extendPointAnnotations(s))),s}}]),V}(),j=function(){function V(i){l(this,V),this.w=i.w,this.annoCtx=i}return p(V,[{key:"setOrientations",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.w;if(i.label.orientation==="vertical"){var c=s!==null?s:0,h=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(c,"']"));if(h!==null){var d=h.getBoundingClientRect();h.setAttribute("x",parseFloat(h.getAttribute("x"))-d.height+4),i.label.position==="top"?h.setAttribute("y",parseFloat(h.getAttribute("y"))+d.width):h.setAttribute("y",parseFloat(h.getAttribute("y"))-d.width);var f=this.annoCtx.graphics.rotateAroundCenter(h),g=f.x,y=f.y;h.setAttribute("transform","rotate(-90 ".concat(g," ").concat(y,")"))}}}},{key:"addBackgroundToAnno",value:function(i,s){var o=this.w;if(!i||s.label.text===void 0||s.label.text!==void 0&&!String(s.label.text).trim())return null;var c=o.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),h=i.getBoundingClientRect(),d=s.label.style.padding.left,f=s.label.style.padding.right,g=s.label.style.padding.top,y=s.label.style.padding.bottom;s.label.orientation==="vertical"&&(g=s.label.style.padding.left,y=s.label.style.padding.right,d=s.label.style.padding.top,f=s.label.style.padding.bottom);var b=h.left-c.left-d,S=h.top-c.top-g,_=this.annoCtx.graphics.drawRect(b-o.globals.barPadForNumericAxis,S,h.width+d+f,h.height+g+y,s.label.borderRadius,s.label.style.background,1,s.label.borderWidth,s.label.borderColor,0);return s.id&&_.node.classList.add(s.id),_}},{key:"annotationsBackground",value:function(){var i=this,s=this.w,o=function(c,h,d){var f=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations .apexcharts-").concat(d,"-annotation-label[rel='").concat(h,"']"));if(f){var g=f.parentNode,y=i.addBackgroundToAnno(f,c);y&&(g.insertBefore(y.node,f),c.label.mouseEnter&&y.node.addEventListener("mouseenter",c.label.mouseEnter.bind(i,c)),c.label.mouseLeave&&y.node.addEventListener("mouseleave",c.label.mouseLeave.bind(i,c)),c.label.click&&y.node.addEventListener("click",c.label.click.bind(i,c)))}};s.config.annotations.xaxis.map(function(c,h){o(c,h,"xaxis")}),s.config.annotations.yaxis.map(function(c,h){o(c,h,"yaxis")}),s.config.annotations.points.map(function(c,h){o(c,h,"point")})}},{key:"getY1Y2",value:function(i,s){var o,c=i==="y1"?s.y:s.y2,h=!1,d=this.w;if(this.annoCtx.invertAxis){var f=d.globals.labels;d.config.xaxis.convertedCatToNumeric&&(f=d.globals.categoryLabels);var g=f.indexOf(c),y=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(g+1)+")");o=y?parseFloat(y.getAttribute("y")):(d.globals.gridHeight/f.length-1)*(g+1)-d.globals.barHeight,s.seriesIndex!==void 0&&d.globals.barHeight&&(o=o-d.globals.barHeight/2*(d.globals.series.length-1)+d.globals.barHeight*s.seriesIndex)}else{var b,S=d.globals.seriesYAxisMap[s.yAxisIndex][0];d.config.yaxis[s.yAxisIndex].logarithmic?b=(c=new oe(this.annoCtx.ctx).getLogVal(d.config.yaxis[s.yAxisIndex].logBase,c,S))/d.globals.yLogRatio[S]:b=(c-d.globals.minYArr[S])/(d.globals.yRange[S]/d.globals.gridHeight),b>d.globals.gridHeight?(b=d.globals.gridHeight,h=!0):b<0&&(b=0,h=!0),o=d.globals.gridHeight-b,!s.marker||s.y!==void 0&&s.y!==null||(o=0),d.config.yaxis[s.yAxisIndex]&&d.config.yaxis[s.yAxisIndex].reversed&&(o=b)}return typeof c=="string"&&c.indexOf("px")>-1&&(o=parseFloat(c)),{yP:o,clipped:h}}},{key:"getX1X2",value:function(i,s){var o,c=i==="x1"?s.x:s.x2,h=this.w,d=this.annoCtx.invertAxis?h.globals.minY:h.globals.minX,f=this.annoCtx.invertAxis?h.globals.maxY:h.globals.maxX,g=this.annoCtx.invertAxis?h.globals.yRange[0]:h.globals.xRange,y=!1;return o=this.annoCtx.inversedReversedAxis?(f-c)/(g/h.globals.gridWidth):(c-d)/(g/h.globals.gridWidth),h.config.xaxis.type!=="category"&&!h.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||h.globals.dataFormatXNumeric||h.config.chart.sparkline.enabled||(o=this.getStringX(c)),typeof c=="string"&&c.indexOf("px")>-1&&(o=parseFloat(c)),c==null&&s.marker&&(o=h.globals.gridWidth),s.seriesIndex!==void 0&&h.globals.barWidth&&!this.annoCtx.invertAxis&&(o=o-h.globals.barWidth/2*(h.globals.series.length-1)+h.globals.barWidth*s.seriesIndex),o>h.globals.gridWidth?(o=h.globals.gridWidth,y=!0):o<0&&(o=0,y=!0),{x:o,clipped:y}}},{key:"getStringX",value:function(i){var s=this.w,o=i;s.config.xaxis.convertedCatToNumeric&&s.globals.categoryLabels.length&&(i=s.globals.categoryLabels.indexOf(i)+1);var c=s.globals.labels.indexOf(i),h=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(c+1)+")");return h&&(o=parseFloat(h.getAttribute("x"))),o}}]),V}(),W=function(){function V(i){l(this,V),this.w=i.w,this.annoCtx=i,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new j(this.annoCtx)}return p(V,[{key:"addXaxisAnnotation",value:function(i,s,o){var c,h=this.w,d=this.helpers.getX1X2("x1",i),f=d.x,g=d.clipped,y=!0,b=i.label.text,S=i.strokeDashArray;if(L.isNumber(f)){if(i.x2===null||i.x2===void 0){if(!g){var _=this.annoCtx.graphics.drawLine(f+i.offsetX,0+i.offsetY,f+i.offsetX,h.globals.gridHeight+i.offsetY,i.borderColor,S,i.borderWidth);s.appendChild(_.node),i.id&&_.node.classList.add(i.id)}}else{var k=this.helpers.getX1X2("x2",i);if(c=k.x,y=k.clipped,!g||!y){if(c<f){var C=f;f=c,c=C}var R=this.annoCtx.graphics.drawRect(f+i.offsetX,0+i.offsetY,c-f,h.globals.gridHeight+i.offsetY,0,i.fillColor,i.opacity,1,i.borderColor,S);R.node.classList.add("apexcharts-annotation-rect"),R.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),s.appendChild(R.node),i.id&&R.node.classList.add(i.id)}}if(!g||!y){var O=this.annoCtx.graphics.getTextRects(b,parseFloat(i.label.style.fontSize)),F=i.label.position==="top"?4:i.label.position==="center"?h.globals.gridHeight/2+(i.label.orientation==="vertical"?O.width/2:0):h.globals.gridHeight,U=this.annoCtx.graphics.drawText({x:f+i.label.offsetX,y:F+i.label.offsetY-(i.label.orientation==="vertical"?i.label.position==="top"?O.width/2-12:-O.width/2:0),text:b,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});U.attr({rel:o}),s.appendChild(U.node),this.annoCtx.helpers.setOrientations(i,o)}}}},{key:"drawXAxisAnnotations",value:function(){var i=this,s=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return s.config.annotations.xaxis.map(function(c,h){i.addXaxisAnnotation(c,o.node,h)}),o}}]),V}(),Y=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return p(V,[{key:"isValidDate",value:function(i){return typeof i!="number"&&!isNaN(this.parseDate(i))}},{key:"getTimeStamp",value:function(i){return Date.parse(i)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toISOString().substr(0,25)).getTime():new Date(i).getTime():i}},{key:"getDate",value:function(i){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toUTCString()):new Date(i)}},{key:"parseDate",value:function(i){var s=Date.parse(i);if(!isNaN(s))return this.getTimeStamp(i);var o=Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "));return o=this.getTimeStamp(o)}},{key:"parseDateWithTimezone",value:function(i){return Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(i,s){var o=this.w.globals.locale,c=this.w.config.xaxis.labels.datetimeUTC,h=["\0"].concat(q(o.months)),d=[""].concat(q(o.shortMonths)),f=[""].concat(q(o.days)),g=[""].concat(q(o.shortDays));function y(G,ae){var se=G+"";for(ae=ae||2;se.length<ae;)se="0"+se;return se}var b=c?i.getUTCFullYear():i.getFullYear();s=(s=(s=s.replace(/(^|[^\\])yyyy+/g,"$1"+b)).replace(/(^|[^\\])yy/g,"$1"+b.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+b);var S=(c?i.getUTCMonth():i.getMonth())+1;s=(s=(s=(s=s.replace(/(^|[^\\])MMMM+/g,"$1"+h[0])).replace(/(^|[^\\])MMM/g,"$1"+d[0])).replace(/(^|[^\\])MM/g,"$1"+y(S))).replace(/(^|[^\\])M/g,"$1"+S);var _=c?i.getUTCDate():i.getDate();s=(s=(s=(s=s.replace(/(^|[^\\])dddd+/g,"$1"+f[0])).replace(/(^|[^\\])ddd/g,"$1"+g[0])).replace(/(^|[^\\])dd/g,"$1"+y(_))).replace(/(^|[^\\])d/g,"$1"+_);var k=c?i.getUTCHours():i.getHours(),C=k>12?k-12:k===0?12:k;s=(s=(s=(s=s.replace(/(^|[^\\])HH+/g,"$1"+y(k))).replace(/(^|[^\\])H/g,"$1"+k)).replace(/(^|[^\\])hh+/g,"$1"+y(C))).replace(/(^|[^\\])h/g,"$1"+C);var R=c?i.getUTCMinutes():i.getMinutes();s=(s=s.replace(/(^|[^\\])mm+/g,"$1"+y(R))).replace(/(^|[^\\])m/g,"$1"+R);var O=c?i.getUTCSeconds():i.getSeconds();s=(s=s.replace(/(^|[^\\])ss+/g,"$1"+y(O))).replace(/(^|[^\\])s/g,"$1"+O);var F=c?i.getUTCMilliseconds():i.getMilliseconds();s=s.replace(/(^|[^\\])fff+/g,"$1"+y(F,3)),F=Math.round(F/10),s=s.replace(/(^|[^\\])ff/g,"$1"+y(F)),F=Math.round(F/10);var U=k<12?"AM":"PM";s=(s=(s=s.replace(/(^|[^\\])f/g,"$1"+F)).replace(/(^|[^\\])TT+/g,"$1"+U)).replace(/(^|[^\\])T/g,"$1"+U.charAt(0));var v=U.toLowerCase();s=(s=s.replace(/(^|[^\\])tt+/g,"$1"+v)).replace(/(^|[^\\])t/g,"$1"+v.charAt(0));var E=-i.getTimezoneOffset(),N=c||!E?"Z":E>0?"+":"-";if(!c){var H=(E=Math.abs(E))%60;N+=y(Math.floor(E/60))+":"+y(H)}s=s.replace(/(^|[^\\])K/g,"$1"+N);var B=(c?i.getUTCDay():i.getDay())+1;return s=(s=(s=(s=(s=s.replace(new RegExp(f[0],"g"),f[B])).replace(new RegExp(g[0],"g"),g[B])).replace(new RegExp(h[0],"g"),h[S])).replace(new RegExp(d[0],"g"),d[S])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(i,s,o){var c=this.w;c.config.xaxis.min!==void 0&&(i=c.config.xaxis.min),c.config.xaxis.max!==void 0&&(s=c.config.xaxis.max);var h=this.getDate(i),d=this.getDate(s),f=this.formatDate(h,"yyyy MM dd HH mm ss fff").split(" "),g=this.formatDate(d,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(f[6],10),maxMillisecond:parseInt(g[6],10),minSecond:parseInt(f[5],10),maxSecond:parseInt(g[5],10),minMinute:parseInt(f[4],10),maxMinute:parseInt(g[4],10),minHour:parseInt(f[3],10),maxHour:parseInt(g[3],10),minDate:parseInt(f[2],10),maxDate:parseInt(g[2],10),minMonth:parseInt(f[1],10)-1,maxMonth:parseInt(g[1],10)-1,minYear:parseInt(f[0],10),maxYear:parseInt(g[0],10)}}},{key:"isLeapYear",value:function(i){return i%4==0&&i%100!=0||i%400==0}},{key:"calculcateLastDaysOfMonth",value:function(i,s,o){return this.determineDaysOfMonths(i,s)-o}},{key:"determineDaysOfYear",value:function(i){var s=365;return this.isLeapYear(i)&&(s=366),s}},{key:"determineRemainingDaysOfYear",value:function(i,s,o){var c=this.daysCntOfYear[s]+o;return s>1&&this.isLeapYear()&&c++,c}},{key:"determineDaysOfMonths",value:function(i,s){var o=30;switch(i=L.monthMod(i),!0){case this.months30.indexOf(i)>-1:i===2&&(o=this.isLeapYear(s)?29:28);break;case this.months31.indexOf(i)>-1:default:o=31}return o}}]),V}(),ee=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.tooltipKeyFormat="dd MMM"}return p(V,[{key:"xLabelFormat",value:function(i,s,o,c){var h=this.w;if(h.config.xaxis.type==="datetime"&&h.config.xaxis.labels.formatter===void 0&&h.config.tooltip.x.formatter===void 0){var d=new Y(this.ctx);return d.formatDate(d.getDate(s),h.config.tooltip.x.format)}return i(s,o,c)}},{key:"defaultGeneralFormatter",value:function(i){return Array.isArray(i)?i.map(function(s){return s}):i}},{key:"defaultYFormatter",value:function(i,s,o){var c=this.w;if(L.isNumber(i))if(c.globals.yValueDecimal!==0)i=i.toFixed(s.decimalsInFloat!==void 0?s.decimalsInFloat:c.globals.yValueDecimal);else{var h=i.toFixed(0);i=i==h?h:i.toFixed(1)}return i}},{key:"setLabelFormatters",value:function(){var i=this,s=this.w;return s.globals.xaxisTooltipFormatter=function(o){return i.defaultGeneralFormatter(o)},s.globals.ttKeyFormatter=function(o){return i.defaultGeneralFormatter(o)},s.globals.ttZFormatter=function(o){return o},s.globals.legendFormatter=function(o){return i.defaultGeneralFormatter(o)},s.config.xaxis.labels.formatter!==void 0?s.globals.xLabelFormatter=s.config.xaxis.labels.formatter:s.globals.xLabelFormatter=function(o){if(L.isNumber(o)){if(!s.config.xaxis.convertedCatToNumeric&&s.config.xaxis.type==="numeric"){if(L.isNumber(s.config.xaxis.decimalsInFloat))return o.toFixed(s.config.xaxis.decimalsInFloat);var c=s.globals.maxX-s.globals.minX;return c>0&&c<100?o.toFixed(1):o.toFixed(0)}return s.globals.isBarHorizontal&&s.globals.maxY-s.globals.minYArr<4?o.toFixed(1):o.toFixed(0)}return o},typeof s.config.tooltip.x.formatter=="function"?s.globals.ttKeyFormatter=s.config.tooltip.x.formatter:s.globals.ttKeyFormatter=s.globals.xLabelFormatter,typeof s.config.xaxis.tooltip.formatter=="function"&&(s.globals.xaxisTooltipFormatter=s.config.xaxis.tooltip.formatter),(Array.isArray(s.config.tooltip.y)||s.config.tooltip.y.formatter!==void 0)&&(s.globals.ttVal=s.config.tooltip.y),s.config.tooltip.z.formatter!==void 0&&(s.globals.ttZFormatter=s.config.tooltip.z.formatter),s.config.legend.formatter!==void 0&&(s.globals.legendFormatter=s.config.legend.formatter),s.config.yaxis.forEach(function(o,c){o.labels.formatter!==void 0?s.globals.yLabelFormatters[c]=o.labels.formatter:s.globals.yLabelFormatters[c]=function(h){return s.globals.xyCharts?Array.isArray(h)?h.map(function(d){return i.defaultYFormatter(d,o,c)}):i.defaultYFormatter(h,o,c):h}}),s.globals}},{key:"heatmapLabelFormatters",value:function(){var i=this.w;if(i.config.chart.type==="heatmap"){i.globals.yAxisScale[0].result=i.globals.seriesNames.slice();var s=i.globals.seriesNames.reduce(function(o,c){return o.length>c.length?o:c},0);i.globals.yAxisScale[0].niceMax=s,i.globals.yAxisScale[0].niceMin=s}}}]),V}(),ie=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"getLabel",value:function(i,s,o,c){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",f=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],g=this.w,y=i[c]===void 0?"":i[c],b=y,S=g.globals.xLabelFormatter,_=g.config.xaxis.labels.formatter,k=!1,C=new ee(this.ctx),R=y;f&&(b=C.xLabelFormat(S,y,R,{i:c,dateFormatter:new Y(this.ctx).formatDate,w:g}),_!==void 0&&(b=_(y,i[c],{i:c,dateFormatter:new Y(this.ctx).formatDate,w:g})));var O,F;s.length>0?(O=s[c].unit,F=null,s.forEach(function(N){N.unit==="month"?F="year":N.unit==="day"?F="month":N.unit==="hour"?F="day":N.unit==="minute"&&(F="hour")}),k=F===O,o=s[c].position,b=s[c].value):g.config.xaxis.type==="datetime"&&_===void 0&&(b=""),b===void 0&&(b=""),b=Array.isArray(b)?b:b.toString();var U=new te(this.ctx),v={};v=g.globals.rotateXLabels&&f?U.getTextRects(b,parseInt(d,10),null,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1):U.getTextRects(b,parseInt(d,10));var E=!g.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(b)&&(String(b)==="NaN"||h.indexOf(b)>=0&&E)&&(b=""),{x:o,text:b,textRect:v,isBold:k}}},{key:"checkLabelBasedOnTickamount",value:function(i,s,o){var c=this.w,h=c.config.xaxis.tickAmount;return h==="dataPoints"&&(h=Math.round(c.globals.gridWidth/120)),h>o||i%Math.round(o/(h+1))==0||(s.text=""),s}},{key:"checkForOverflowingLabels",value:function(i,s,o,c,h){var d=this.w;if(i===0&&d.globals.skipFirstTimelinelabel&&(s.text=""),i===o-1&&d.globals.skipLastTimelinelabel&&(s.text=""),d.config.xaxis.labels.hideOverlappingLabels&&c.length>0){var f=h[h.length-1];s.x<f.textRect.width/(d.globals.rotateXLabels?Math.abs(d.config.xaxis.labels.rotate)/12:1.01)+f.x&&(s.text="")}return s}},{key:"checkForReversedLabels",value:function(i,s){var o=this.w;return o.config.yaxis[i]&&o.config.yaxis[i].reversed&&s.reverse(),s}},{key:"yAxisAllSeriesCollapsed",value:function(i){var s=this.w.globals;return!s.seriesYAxisMap[i].some(function(o){return s.collapsedSeriesIndices.indexOf(o)===-1})}},{key:"translateYAxisIndex",value:function(i){var s=this.w,o=s.globals,c=s.config.yaxis;return o.series.length>c.length||c.some(function(h){return Array.isArray(h.seriesName)})?i:o.seriesYAxisReverseMap[i]}},{key:"isYAxisHidden",value:function(i){var s=this.w,o=s.config.yaxis[i];if(!o.show||this.yAxisAllSeriesCollapsed(i))return!0;if(!o.showForNullSeries){var c=s.globals.seriesYAxisMap[i],h=new oe(this.ctx);return c.every(function(d){return h.isSeriesNull(d)})}return!1}},{key:"getYAxisForeColor",value:function(i,s){var o=this.w;return Array.isArray(i)&&o.globals.yAxisScale[s]&&this.ctx.theme.pushExtraColors(i,o.globals.yAxisScale[s].result.length,!1),i}},{key:"drawYAxisTicks",value:function(i,s,o,c,h,d,f){var g=this.w,y=new te(this.ctx),b=g.globals.translateY+g.config.yaxis[h].labels.offsetY;if(g.globals.isBarHorizontal?b=0:g.config.chart.type==="heatmap"&&(b+=d/2),c.show&&s>0){g.config.yaxis[h].opposite===!0&&(i+=c.width);for(var S=s;S>=0;S--){var _=y.drawLine(i+o.offsetX-c.width+c.offsetX,b+c.offsetY,i+o.offsetX+c.offsetX,b+c.offsetY,c.color);f.add(_),b+=d}}}}]),V}(),le=function(){function V(i){l(this,V),this.w=i.w,this.annoCtx=i,this.helpers=new j(this.annoCtx),this.axesUtils=new ie(this.annoCtx)}return p(V,[{key:"addYaxisAnnotation",value:function(i,s,o){var c,h=this.w,d=i.strokeDashArray,f=this.helpers.getY1Y2("y1",i),g=f.yP,y=f.clipped,b=!0,S=!1,_=i.label.text;if(i.y2===null||i.y2===void 0){if(!y){S=!0;var k=this.annoCtx.graphics.drawLine(0+i.offsetX,g+i.offsetY,this._getYAxisAnnotationWidth(i),g+i.offsetY,i.borderColor,d,i.borderWidth);s.appendChild(k.node),i.id&&k.node.classList.add(i.id)}}else{if(c=(f=this.helpers.getY1Y2("y2",i)).yP,b=f.clipped,c>g){var C=g;g=c,c=C}if(!y||!b){S=!0;var R=this.annoCtx.graphics.drawRect(0+i.offsetX,c+i.offsetY,this._getYAxisAnnotationWidth(i),g-c,0,i.fillColor,i.opacity,1,i.borderColor,d);R.node.classList.add("apexcharts-annotation-rect"),R.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),s.appendChild(R.node),i.id&&R.node.classList.add(i.id)}}if(S){var O=i.label.position==="right"?h.globals.gridWidth:i.label.position==="center"?h.globals.gridWidth/2:0,F=this.annoCtx.graphics.drawText({x:O+i.label.offsetX,y:(c??g)+i.label.offsetY-3,text:_,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});F.attr({rel:o}),s.appendChild(F.node)}}},{key:"_getYAxisAnnotationWidth",value:function(i){var s=this.w;return s.globals.gridWidth,(i.width.indexOf("%")>-1?s.globals.gridWidth*parseInt(i.width,10)/100:parseInt(i.width,10))+i.offsetX}},{key:"drawYAxisAnnotations",value:function(){var i=this,s=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return s.config.annotations.yaxis.forEach(function(c,h){c.yAxisIndex=i.axesUtils.translateYAxisIndex(c.yAxisIndex),i.axesUtils.isYAxisHidden(c.yAxisIndex)&&i.axesUtils.yAxisAllSeriesCollapsed(c.yAxisIndex)||i.addYaxisAnnotation(c,o.node,h)}),o}}]),V}(),ne=function(){function V(i){l(this,V),this.w=i.w,this.annoCtx=i,this.helpers=new j(this.annoCtx)}return p(V,[{key:"addPointAnnotation",value:function(i,s,o){if(!(this.w.globals.collapsedSeriesIndices.indexOf(i.seriesIndex)>-1)){var c=this.helpers.getX1X2("x1",i),h=c.x,d=c.clipped,f=(c=this.helpers.getY1Y2("y1",i)).yP,g=c.clipped;if(L.isNumber(h)&&!g&&!d){var y={pSize:i.marker.size,pointStrokeWidth:i.marker.strokeWidth,pointFillColor:i.marker.fillColor,pointStrokeColor:i.marker.strokeColor,shape:i.marker.shape,pRadius:i.marker.radius,class:"apexcharts-point-annotation-marker ".concat(i.marker.cssClass," ").concat(i.id?i.id:"")},b=this.annoCtx.graphics.drawMarker(h+i.marker.offsetX,f+i.marker.offsetY,y);s.appendChild(b.node);var S=i.label.text?i.label.text:"",_=this.annoCtx.graphics.drawText({x:h+i.label.offsetX,y:f+i.label.offsetY-i.marker.size-parseFloat(i.label.style.fontSize)/1.6,text:S,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});if(_.attr({rel:o}),s.appendChild(_.node),i.customSVG.SVG){var k=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+i.customSVG.cssClass});k.attr({transform:"translate(".concat(h+i.customSVG.offsetX,", ").concat(f+i.customSVG.offsetY,")")}),k.node.innerHTML=i.customSVG.SVG,s.appendChild(k.node)}if(i.image.path){var C=i.image.width?i.image.width:20,R=i.image.height?i.image.height:20;b=this.annoCtx.addImage({x:h+i.image.offsetX-C/2,y:f+i.image.offsetY-R/2,width:C,height:R,path:i.image.path,appendTo:".apexcharts-point-annotations"})}i.mouseEnter&&b.node.addEventListener("mouseenter",i.mouseEnter.bind(this,i)),i.mouseLeave&&b.node.addEventListener("mouseleave",i.mouseLeave.bind(this,i)),i.click&&b.node.addEventListener("click",i.click.bind(this,i))}}}},{key:"drawPointAnnotations",value:function(){var i=this,s=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return s.config.annotations.points.map(function(c,h){i.addPointAnnotation(c,o.node,h)}),o}}]),V}(),rt={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},gt=function(){function V(){l(this,V),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return p(V,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[rt],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(i){return i}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(i){return i+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(s,o){return s+o},0)/i.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(i){return i},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(i){return i}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(i){return i}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(s,o){return s+o},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(i){return i!==null?i:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(i){return i?i+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),V}(),An=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.graphics=new te(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new j(this),this.xAxisAnnotations=new W(this),this.yAxisAnnotations=new le(this),this.pointsAnnotations=new ne(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return p(V,[{key:"drawAxesAnnotations",value:function(){var i=this.w;if(i.globals.axisCharts){for(var s=this.yAxisAnnotations.drawYAxisAnnotations(),o=this.xAxisAnnotations.drawXAxisAnnotations(),c=this.pointsAnnotations.drawPointAnnotations(),h=i.config.chart.animations.enabled,d=[s,o,c],f=[o.node,s.node,c.node],g=0;g<3;g++)i.globals.dom.elGraphical.add(d[g]),!h||i.globals.resized||i.globals.dataChanged||i.config.chart.type!=="scatter"&&i.config.chart.type!=="bubble"&&i.globals.dataPoints>1&&f[g].classList.add("apexcharts-element-hidden"),i.globals.delayedElements.push({el:f[g],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var i=this;this.w.config.annotations.images.map(function(s,o){i.addImage(s,o)})}},{key:"drawTextAnnos",value:function(){var i=this;this.w.config.annotations.texts.map(function(s,o){i.addText(s,o)})}},{key:"addXaxisAnnotation",value:function(i,s,o){this.xAxisAnnotations.addXaxisAnnotation(i,s,o)}},{key:"addYaxisAnnotation",value:function(i,s,o){this.yAxisAnnotations.addYaxisAnnotation(i,s,o)}},{key:"addPointAnnotation",value:function(i,s,o){this.pointsAnnotations.addPointAnnotation(i,s,o)}},{key:"addText",value:function(i,s){var o=i.x,c=i.y,h=i.text,d=i.textAnchor,f=i.foreColor,g=i.fontSize,y=i.fontFamily,b=i.fontWeight,S=i.cssClass,_=i.backgroundColor,k=i.borderWidth,C=i.strokeDashArray,R=i.borderRadius,O=i.borderColor,F=i.appendTo,U=F===void 0?".apexcharts-svg":F,v=i.paddingLeft,E=v===void 0?4:v,N=i.paddingRight,H=N===void 0?4:N,B=i.paddingBottom,G=B===void 0?2:B,ae=i.paddingTop,se=ae===void 0?2:ae,ge=this.w,fe=this.graphics.drawText({x:o,y:c,text:h,textAnchor:d||"start",fontSize:g||"12px",fontWeight:b||"regular",fontFamily:y||ge.config.chart.fontFamily,foreColor:f||ge.config.chart.foreColor,cssClass:S}),he=ge.globals.dom.baseEl.querySelector(U);he&&he.appendChild(fe.node);var ve=fe.bbox();if(h){var Te=this.graphics.drawRect(ve.x-E,ve.y-se,ve.width+E+H,ve.height+G+se,R,_||"transparent",1,k,O,C);he.insertBefore(Te.node,fe.node)}}},{key:"addImage",value:function(i,s){var o=this.w,c=i.path,h=i.x,d=h===void 0?0:h,f=i.y,g=f===void 0?0:f,y=i.width,b=y===void 0?20:y,S=i.height,_=S===void 0?20:S,k=i.appendTo,C=k===void 0?".apexcharts-svg":k,R=o.globals.dom.Paper.image(c);R.size(b,_).move(d,g);var O=o.globals.dom.baseEl.querySelector(C);return O&&O.appendChild(R.node),R}},{key:"addXaxisAnnotationExternal",value:function(i,s,o){return this.addAnnotationExternal({params:i,pushToMemory:s,context:o,type:"xaxis",contextMethod:o.addXaxisAnnotation}),o}},{key:"addYaxisAnnotationExternal",value:function(i,s,o){return this.addAnnotationExternal({params:i,pushToMemory:s,context:o,type:"yaxis",contextMethod:o.addYaxisAnnotation}),o}},{key:"addPointAnnotationExternal",value:function(i,s,o){return this.invertAxis===void 0&&(this.invertAxis=o.w.globals.isBarHorizontal),this.addAnnotationExternal({params:i,pushToMemory:s,context:o,type:"point",contextMethod:o.addPointAnnotation}),o}},{key:"addAnnotationExternal",value:function(i){var s=i.params,o=i.pushToMemory,c=i.context,h=i.type,d=i.contextMethod,f=c,g=f.w,y=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations")),b=y.childNodes.length+1,S=new gt,_=Object.assign({},h==="xaxis"?S.xAxisAnnotation:h==="yaxis"?S.yAxisAnnotation:S.pointAnnotation),k=L.extend(_,s);switch(h){case"xaxis":this.addXaxisAnnotation(k,y,b);break;case"yaxis":this.addYaxisAnnotation(k,y,b);break;case"point":this.addPointAnnotation(k,y,b)}var C=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations .apexcharts-").concat(h,"-annotation-label[rel='").concat(b,"']")),R=this.helpers.addBackgroundToAnno(C,k);return R&&y.insertBefore(R.node,C),o&&g.globals.memory.methodsToExec.push({context:f,id:k.id?k.id:L.randomId(),method:d,label:"addAnnotation",params:s}),c}},{key:"clearAnnotations",value:function(i){var s=i.w,o=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");s.globals.memory.methodsToExec.map(function(c,h){c.label!=="addText"&&c.label!=="addAnnotation"||s.globals.memory.methodsToExec.splice(h,1)}),o=L.listToArray(o),Array.prototype.forEach.call(o,function(c){for(;c.firstChild;)c.removeChild(c.firstChild)})}},{key:"removeAnnotation",value:function(i,s){var o=i.w,c=o.globals.dom.baseEl.querySelectorAll(".".concat(s));c&&(o.globals.memory.methodsToExec.map(function(h,d){h.id===s&&o.globals.memory.methodsToExec.splice(d,1)}),Array.prototype.forEach.call(c,function(h){h.parentElement.removeChild(h)}))}}]),V}(),Kt=function(V){var i,s=V.isTimeline,o=V.ctx,c=V.seriesIndex,h=V.dataPointIndex,d=V.y1,f=V.y2,g=V.w,y=g.globals.seriesRangeStart[c][h],b=g.globals.seriesRangeEnd[c][h],S=g.globals.labels[h],_=g.config.series[c].name?g.config.series[c].name:"",k=g.globals.ttKeyFormatter,C=g.config.tooltip.y.title.formatter,R={w:g,seriesIndex:c,dataPointIndex:h,start:y,end:b};typeof C=="function"&&(_=C(_,R)),(i=g.config.series[c].data[h])!==null&&i!==void 0&&i.x&&(S=g.config.series[c].data[h].x),s||g.config.xaxis.type==="datetime"&&(S=new ee(o).xLabelFormat(g.globals.ttKeyFormatter,S,S,{i:void 0,dateFormatter:new Y(o).formatDate,w:g})),typeof k=="function"&&(S=k(S,R)),Number.isFinite(d)&&Number.isFinite(f)&&(y=d,b=f);var O="",F="",U=g.globals.colors[c];if(g.config.tooltip.x.formatter===void 0)if(g.config.xaxis.type==="datetime"){var v=new Y(o);O=v.formatDate(v.getDate(y),g.config.tooltip.x.format),F=v.formatDate(v.getDate(b),g.config.tooltip.x.format)}else O=y,F=b;else O=g.config.tooltip.x.formatter(y),F=g.config.tooltip.x.formatter(b);return{start:y,end:b,startVal:O,endVal:F,ylabel:S,color:U,seriesName:_}},Se=function(V){var i=V.color,s=V.seriesName,o=V.ylabel,c=V.start,h=V.end,d=V.seriesIndex,f=V.dataPointIndex,g=V.ctx.tooltip.tooltipLabels.getFormatters(d);c=g.yLbFormatter(c),h=g.yLbFormatter(h);var y=g.yLbFormatter(V.w.globals.series[d][f]),b=`<span class="value start-value">
  `.concat(c,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(h,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+i+'">'+(s||"")+'</span></div><div> <span class="category">'+o+": </span> "+(V.w.globals.comboCharts?V.w.config.series[d].type==="rangeArea"||V.w.config.series[d].type==="rangeBar"?b:"<span>".concat(y,"</span>"):b)+" </div></div>"},Ue=function(){function V(i){l(this,V),this.opts=i}return p(V,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(i){return this.hideYAxis(),L.extend(i,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(i,s){var o=s.w.config.series[s.seriesIndex].name;return i!==null?o+": "+i:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),r(r({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var i=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var o=s.seriesIndex,c=s.dataPointIndex,h=s.w;return i._getBoxTooltip(h,o,c,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var i=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var o=s.seriesIndex,c=s.dataPointIndex,h=s.w;return i._getBoxTooltip(h,o,c,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(i,s){s.ctx;var o=s.seriesIndex,c=s.dataPointIndex,h=s.w,d=function(){var f=h.globals.seriesRangeStart[o][c];return h.globals.seriesRangeEnd[o][c]-f};return h.globals.comboCharts?h.config.series[o].type==="rangeBar"||h.config.series[o].type==="rangeArea"?d():i:d()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(i){return i.w.config.plotOptions&&i.w.config.plotOptions.bar&&i.w.config.plotOptions.bar.horizontal?function(s){var o=Kt(r(r({},s),{},{isTimeline:!0})),c=o.color,h=o.seriesName,d=o.ylabel,f=o.startVal,g=o.endVal;return Se(r(r({},s),{},{color:c,seriesName:h,ylabel:d,start:f,end:g}))}(i):function(s){var o=Kt(s),c=o.color,h=o.seriesName,d=o.ylabel,f=o.start,g=o.end;return Se(r(r({},s),{},{color:c,seriesName:h,ylabel:d,start:f,end:g}))}(i)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(i){var s,o;return(s=i.plotOptions.bar)!==null&&s!==void 0&&s.barHeight||(i.plotOptions.bar.barHeight=2),(o=i.plotOptions.bar)!==null&&o!==void 0&&o.columnWidth||(i.plotOptions.bar.columnWidth=2),i}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(i){return function(s){var o=Kt(s),c=o.color,h=o.seriesName,d=o.ylabel,f=o.start,g=o.end;return Se(r(r({},s),{},{color:c,seriesName:h,ylabel:d,start:f,end:g}))}(i)}}}}},{key:"brush",value:function(i){return L.extend(i,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(i){i.dataLabels=i.dataLabels||{},i.dataLabels.formatter=i.dataLabels.formatter||void 0;var s=i.dataLabels.formatter;return i.yaxis.forEach(function(o,c){i.yaxis[c].min=0,i.yaxis[c].max=100}),i.chart.type==="bar"&&(i.dataLabels.formatter=s||function(o){return typeof o=="number"&&o?o.toFixed(0)+"%":o}),i}},{key:"stackedBars",value:function(){var i=this.bar();return r(r({},i),{},{plotOptions:r(r({},i.plotOptions),{},{bar:r(r({},i.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(i){return i.xaxis.convertedCatToNumeric=!0,i}},{key:"convertCatToNumericXaxis",value:function(i,s,o){i.xaxis.type="numeric",i.xaxis.labels=i.xaxis.labels||{},i.xaxis.labels.formatter=i.xaxis.labels.formatter||function(d){return L.isNumber(d)?Math.floor(d):d};var c=i.xaxis.labels.formatter,h=i.xaxis.categories&&i.xaxis.categories.length?i.xaxis.categories:i.labels;return o&&o.length&&(h=o.map(function(d){return Array.isArray(d)?d:String(d)})),h&&h.length&&(i.xaxis.labels.formatter=function(d){return L.isNumber(d)?c(h[Math.floor(d)-1]):c(d)}),i.xaxis.categories=[],i.labels=[],i.xaxis.tickAmount=i.xaxis.tickAmount||"dataPoints",i}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(i){return i},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(i,s,o,c,h){var d=i.globals.seriesCandleO[s][o],f=i.globals.seriesCandleH[s][o],g=i.globals.seriesCandleM[s][o],y=i.globals.seriesCandleL[s][o],b=i.globals.seriesCandleC[s][o];return i.config.series[s].type&&i.config.series[s].type!==h?`<div class="apexcharts-custom-tooltip">
          `.concat(i.config.series[s].name?i.config.series[s].name:"series-"+(s+1),": <strong>").concat(i.globals.series[s][o],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(i.config.chart.type,'">')+"<div>".concat(c[0],': <span class="value">')+d+"</span></div>"+"<div>".concat(c[1],': <span class="value">')+f+"</span></div>"+(g?"<div>".concat(c[2],': <span class="value">')+g+"</span></div>":"")+"<div>".concat(c[3],': <span class="value">')+y+"</span></div>"+"<div>".concat(c[4],': <span class="value">')+b+"</span></div></div>"}}]),V}(),Ae=function(){function V(i){l(this,V),this.opts=i}return p(V,[{key:"init",value:function(i){var s=i.responsiveOverride,o=this.opts,c=new gt,h=new Ue(o);this.chartType=o.chart.type,o=this.extendYAxis(o),o=this.extendAnnotations(o);var d=c.init(),f={};if(o&&a(o)==="object"){var g,y,b,S,_,k,C,R,O,F,U={};U=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(o.chart.type)!==-1?h[o.chart.type]():h.line(),(g=o.plotOptions)!==null&&g!==void 0&&(y=g.bar)!==null&&y!==void 0&&y.isFunnel&&(U=h.funnel()),o.chart.stacked&&o.chart.type==="bar"&&(U=h.stackedBars()),(b=o.chart.brush)!==null&&b!==void 0&&b.enabled&&(U=h.brush(U)),(S=o.plotOptions)!==null&&S!==void 0&&(_=S.line)!==null&&_!==void 0&&_.isSlopeChart&&(U=h.slope()),o.chart.stacked&&o.chart.stackType==="100%"&&(o=h.stacked100(o)),(k=o.plotOptions)!==null&&k!==void 0&&(C=k.bar)!==null&&C!==void 0&&C.isDumbbell&&(o=h.dumbbell(o)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(o),o.xaxis=o.xaxis||window.Apex.xaxis||{},s||(o.xaxis.convertedCatToNumeric=!1),((R=(o=this.checkForCatToNumericXAxis(this.chartType,U,o)).chart.sparkline)!==null&&R!==void 0&&R.enabled||(O=window.Apex.chart)!==null&&O!==void 0&&(F=O.sparkline)!==null&&F!==void 0&&F.enabled)&&(U=h.sparkline(U)),f=L.extend(d,U)}var v=L.extend(f,window.Apex);return d=L.extend(v,o),d=this.handleUserInputErrors(d)}},{key:"checkForCatToNumericXAxis",value:function(i,s,o){var c,h,d=new Ue(o),f=(i==="bar"||i==="boxPlot")&&((c=o.plotOptions)===null||c===void 0||(h=c.bar)===null||h===void 0?void 0:h.horizontal),g=i==="pie"||i==="polarArea"||i==="donut"||i==="radar"||i==="radialBar"||i==="heatmap",y=o.xaxis.type!=="datetime"&&o.xaxis.type!=="numeric",b=o.xaxis.tickPlacement?o.xaxis.tickPlacement:s.xaxis&&s.xaxis.tickPlacement;return f||g||!y||b==="between"||(o=d.convertCatToNumeric(o)),o}},{key:"extendYAxis",value:function(i,s){var o=new gt;(i.yaxis===void 0||!i.yaxis||Array.isArray(i.yaxis)&&i.yaxis.length===0)&&(i.yaxis={}),i.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(i.yaxis=L.extend(i.yaxis,window.Apex.yaxis)),i.yaxis.constructor!==Array?i.yaxis=[L.extend(o.yAxis,i.yaxis)]:i.yaxis=L.extendArray(i.yaxis,o.yAxis);var c=!1;i.yaxis.forEach(function(d){d.logarithmic&&(c=!0)});var h=i.series;return s&&!h&&(h=s.config.series),c&&h.length!==i.yaxis.length&&h.length&&(i.yaxis=h.map(function(d,f){if(d.name||(h[f].name="series-".concat(f+1)),i.yaxis[f])return i.yaxis[f].seriesName=h[f].name,i.yaxis[f];var g=L.extend(o.yAxis,i.yaxis[0]);return g.show=!1,g})),c&&h.length>1&&h.length!==i.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),i}},{key:"extendAnnotations",value:function(i){return i.annotations===void 0&&(i.annotations={},i.annotations.yaxis=[],i.annotations.xaxis=[],i.annotations.points=[]),i=this.extendYAxisAnnotations(i),i=this.extendXAxisAnnotations(i),i=this.extendPointAnnotations(i)}},{key:"extendYAxisAnnotations",value:function(i){var s=new gt;return i.annotations.yaxis=L.extendArray(i.annotations.yaxis!==void 0?i.annotations.yaxis:[],s.yAxisAnnotation),i}},{key:"extendXAxisAnnotations",value:function(i){var s=new gt;return i.annotations.xaxis=L.extendArray(i.annotations.xaxis!==void 0?i.annotations.xaxis:[],s.xAxisAnnotation),i}},{key:"extendPointAnnotations",value:function(i){var s=new gt;return i.annotations.points=L.extendArray(i.annotations.points!==void 0?i.annotations.points:[],s.pointAnnotation),i}},{key:"checkForDarkTheme",value:function(i){i.theme&&i.theme.mode==="dark"&&(i.tooltip||(i.tooltip={}),i.tooltip.theme!=="light"&&(i.tooltip.theme="dark"),i.chart.foreColor||(i.chart.foreColor="#f6f7f8"),i.theme.palette||(i.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(i){var s=i;if(s.tooltip.shared&&s.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(s.chart.type==="bar"&&s.plotOptions.bar.horizontal){if(s.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");s.yaxis[0].reversed&&(s.yaxis[0].opposite=!0),s.xaxis.tooltip.enabled=!1,s.yaxis[0].tooltip.enabled=!1,s.chart.zoom.enabled=!1}return s.chart.type!=="bar"&&s.chart.type!=="rangeBar"||s.tooltip.shared&&s.xaxis.crosshairs.width==="barWidth"&&s.series.length>1&&(s.xaxis.crosshairs.width="tickWidth"),s.chart.type!=="candlestick"&&s.chart.type!=="boxPlot"||s.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(s.chart.type," chart is not supported.")),s.yaxis[0].reversed=!1),s}}]),V}(),Xe=function(){function V(){l(this,V)}return p(V,[{key:"initGlobalVars",value:function(i){i.series=[],i.seriesCandleO=[],i.seriesCandleH=[],i.seriesCandleM=[],i.seriesCandleL=[],i.seriesCandleC=[],i.seriesRangeStart=[],i.seriesRangeEnd=[],i.seriesRange=[],i.seriesPercent=[],i.seriesGoals=[],i.seriesX=[],i.seriesZ=[],i.seriesNames=[],i.seriesTotals=[],i.seriesLog=[],i.seriesColors=[],i.stackedSeriesTotals=[],i.seriesXvalues=[],i.seriesYvalues=[],i.labels=[],i.hasXaxisGroups=!1,i.groups=[],i.barGroups=[],i.lineGroups=[],i.areaGroups=[],i.hasSeriesGroups=!1,i.seriesGroups=[],i.categoryLabels=[],i.timescaleLabels=[],i.noLabelsProvided=!1,i.resizeTimer=null,i.selectionResizeTimer=null,i.delayedElements=[],i.pointsArray=[],i.dataLabelsRects=[],i.isXNumeric=!1,i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1,i.isDataXYZ=!1,i.isMultiLineX=!1,i.isMultipleYAxis=!1,i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE,i.minYArr=[],i.maxYArr=[],i.maxX=-Number.MAX_VALUE,i.minX=Number.MAX_VALUE,i.initialMaxX=-Number.MAX_VALUE,i.initialMinX=Number.MAX_VALUE,i.maxDate=0,i.minDate=Number.MAX_VALUE,i.minZ=Number.MAX_VALUE,i.maxZ=-Number.MAX_VALUE,i.minXDiff=Number.MAX_VALUE,i.yAxisScale=[],i.xAxisScale=null,i.xAxisTicksPositions=[],i.yLabelsCoords=[],i.yTitleCoords=[],i.barPadForNumericAxis=0,i.padHorizontal=0,i.xRange=0,i.yRange=[],i.zRange=0,i.dataPoints=0,i.xTickAmount=0,i.multiAxisTickAmount=0}},{key:"globalVars",value:function(i){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:i.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:i.chart.toolbar.autoSelected==="zoom"&&i.chart.toolbar.tools.zoom&&i.chart.zoom.enabled,panEnabled:i.chart.toolbar.autoSelected==="pan"&&i.chart.toolbar.tools.pan,selectionEnabled:i.chart.toolbar.autoSelected==="selection"&&i.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:i.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(i){var s=this.globalVars(i);return this.initGlobalVars(s),s.initialConfig=L.extend({},i),s.initialSeries=L.clone(i.series),s.lastXAxis=L.clone(s.initialConfig.xaxis),s.lastYAxis=L.clone(s.initialConfig.yaxis),s}}]),V}(),$e=function(){function V(i){l(this,V),this.opts=i}return p(V,[{key:"init",value:function(){var i=new Ae(this.opts).init({responsiveOverride:!1});return{config:i,globals:new Xe().init(i)}}}]),V}(),Oe=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.opts=null,this.seriesIndex=0}return p(V,[{key:"clippedImgArea",value:function(i){var s=this.w,o=s.config,c=parseInt(s.globals.gridWidth,10),h=parseInt(s.globals.gridHeight,10),d=c>h?c:h,f=i.image,g=0,y=0;i.width===void 0&&i.height===void 0?o.fill.image.width!==void 0&&o.fill.image.height!==void 0?(g=o.fill.image.width+1,y=o.fill.image.height):(g=d+1,y=d):(g=i.width,y=i.height);var b=document.createElementNS(s.globals.SVGNS,"pattern");te.setAttrs(b,{id:i.patternID,patternUnits:i.patternUnits?i.patternUnits:"userSpaceOnUse",width:g+"px",height:y+"px"});var S=document.createElementNS(s.globals.SVGNS,"image");b.appendChild(S),S.setAttributeNS(window.SVG.xlink,"href",f),te.setAttrs(S,{x:0,y:0,preserveAspectRatio:"none",width:g+"px",height:y+"px"}),S.style.opacity=i.opacity,s.globals.dom.elDefs.node.appendChild(b)}},{key:"getSeriesIndex",value:function(i){var s=this.w,o=s.config.chart.type;return(o==="bar"||o==="rangeBar")&&s.config.plotOptions.bar.distributed||o==="heatmap"||o==="treemap"?this.seriesIndex=i.seriesNumber:this.seriesIndex=i.seriesNumber%s.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(i){var s=this.w;this.opts=i;var o,c,h,d=this.w.config;this.seriesIndex=this.getSeriesIndex(i);var f=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(f=s.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:i.dataPointIndex,value:i.value,w:s}));var g=i.fillType?i.fillType:this.getFillType(this.seriesIndex),y=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity;i.color&&(f=i.color),f||(f="#fff",console.warn("undefined color - ApexCharts"));var b=f;if(f.indexOf("rgb")===-1?f.length<9&&(b=L.hexToRgba(f,y)):f.indexOf("rgba")>-1&&(y=L.getOpacityFromRGBA(f)),i.opacity&&(y=i.opacity),g==="pattern"&&(c=this.handlePatternFill({fillConfig:i.fillConfig,patternFill:c,fillColor:f,fillOpacity:y,defaultColor:b})),g==="gradient"&&(h=this.handleGradientFill({fillConfig:i.fillConfig,fillColor:f,fillOpacity:y,i:this.seriesIndex})),g==="image"){var S=d.fill.image.src,_=i.patternID?i.patternID:"";this.clippedImgArea({opacity:y,image:Array.isArray(S)?i.seriesNumber<S.length?S[i.seriesNumber]:S[0]:S,width:i.width?i.width:void 0,height:i.height?i.height:void 0,patternUnits:i.patternUnits,patternID:"pattern".concat(s.globals.cuid).concat(i.seriesNumber+1).concat(_)}),o="url(#pattern".concat(s.globals.cuid).concat(i.seriesNumber+1).concat(_,")")}else o=g==="gradient"?h:g==="pattern"?c:b;return i.solid&&(o=b),o}},{key:"getFillType",value:function(i){var s=this.w;return Array.isArray(s.config.fill.type)?s.config.fill.type[i]:s.config.fill.type}},{key:"getFillColors",value:function(){var i=this.w,s=i.config,o=this.opts,c=[];return i.globals.comboCharts?i.config.series[this.seriesIndex].type==="line"?Array.isArray(i.globals.stroke.colors)?c=i.globals.stroke.colors:c.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?c=i.globals.fill.colors:c.push(i.globals.fill.colors):s.chart.type==="line"?Array.isArray(i.globals.stroke.colors)?c=i.globals.stroke.colors:c.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?c=i.globals.fill.colors:c.push(i.globals.fill.colors),o.fillColors!==void 0&&(c=[],Array.isArray(o.fillColors)?c=o.fillColors.slice():c.push(o.fillColors)),c}},{key:"handlePatternFill",value:function(i){var s=i.fillConfig,o=i.patternFill,c=i.fillColor,h=i.fillOpacity,d=i.defaultColor,f=this.w.config.fill;s&&(f=s);var g=this.opts,y=new te(this.ctx),b=Array.isArray(f.pattern.strokeWidth)?f.pattern.strokeWidth[this.seriesIndex]:f.pattern.strokeWidth,S=c;return Array.isArray(f.pattern.style)?o=f.pattern.style[g.seriesNumber]!==void 0?y.drawPattern(f.pattern.style[g.seriesNumber],f.pattern.width,f.pattern.height,S,b,h):d:o=y.drawPattern(f.pattern.style,f.pattern.width,f.pattern.height,S,b,h),o}},{key:"handleGradientFill",value:function(i){var s=i.fillColor,o=i.fillOpacity,c=i.fillConfig,h=i.i,d=this.w.config.fill;c&&(d=r(r({},d),c));var f,g=this.opts,y=new te(this.ctx),b=new L,S=d.gradient.type,_=s,k=d.gradient.opacityFrom===void 0?o:Array.isArray(d.gradient.opacityFrom)?d.gradient.opacityFrom[h]:d.gradient.opacityFrom;_.indexOf("rgba")>-1&&(k=L.getOpacityFromRGBA(_));var C=d.gradient.opacityTo===void 0?o:Array.isArray(d.gradient.opacityTo)?d.gradient.opacityTo[h]:d.gradient.opacityTo;if(d.gradient.gradientToColors===void 0||d.gradient.gradientToColors.length===0)f=d.gradient.shade==="dark"?b.shadeColor(-1*parseFloat(d.gradient.shadeIntensity),s.indexOf("rgb")>-1?L.rgb2hex(s):s):b.shadeColor(parseFloat(d.gradient.shadeIntensity),s.indexOf("rgb")>-1?L.rgb2hex(s):s);else if(d.gradient.gradientToColors[g.seriesNumber]){var R=d.gradient.gradientToColors[g.seriesNumber];f=R,R.indexOf("rgba")>-1&&(C=L.getOpacityFromRGBA(R))}else f=s;if(d.gradient.gradientFrom&&(_=d.gradient.gradientFrom),d.gradient.gradientTo&&(f=d.gradient.gradientTo),d.gradient.inverseColors){var O=_;_=f,f=O}return _.indexOf("rgb")>-1&&(_=L.rgb2hex(_)),f.indexOf("rgb")>-1&&(f=L.rgb2hex(f)),y.drawGradient(S,_,f,k,C,g.size,d.gradient.stops,d.gradient.colorStops,h)}}]),V}(),ht=function(){function V(i,s){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"setGlobalMarkerSize",value:function(){var i=this.w;if(i.globals.markers.size=Array.isArray(i.config.markers.size)?i.config.markers.size:[i.config.markers.size],i.globals.markers.size.length>0){if(i.globals.markers.size.length<i.globals.series.length+1)for(var s=0;s<=i.globals.series.length;s++)i.globals.markers.size[s]===void 0&&i.globals.markers.size.push(i.globals.markers.size[0])}else i.globals.markers.size=i.config.series.map(function(o){return i.config.markers.size})}},{key:"plotChartMarkers",value:function(i,s,o,c){var h,d=arguments.length>4&&arguments[4]!==void 0&&arguments[4],f=this.w,g=s,y=i,b=null,S=new te(this.ctx),_=f.config.markers.discrete&&f.config.markers.discrete.length;if((f.globals.markers.size[s]>0||d||_)&&(b=S.group({class:d||_?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(f.globals.cuid,")")),Array.isArray(y.x))for(var k=0;k<y.x.length;k++){var C=o;o===1&&k===0&&(C=0),o===1&&k===1&&(C=1);var R="apexcharts-marker";if(f.config.chart.type!=="line"&&f.config.chart.type!=="area"||f.globals.comboCharts||f.config.tooltip.intersect||(R+=" no-pointer-events"),(Array.isArray(f.config.markers.size)?f.globals.markers.size[s]>0:f.config.markers.size>0)||d||_){L.isNumber(y.y[k])?R+=" w".concat(L.randomId()):R="apexcharts-nullpoint";var O=this.getMarkerConfig({cssClass:R,seriesIndex:s,dataPointIndex:C});f.config.series[g].data[C]&&(f.config.series[g].data[C].fillColor&&(O.pointFillColor=f.config.series[g].data[C].fillColor),f.config.series[g].data[C].strokeColor&&(O.pointStrokeColor=f.config.series[g].data[C].strokeColor)),c!==void 0&&(O.pSize=c),(y.x[k]<-f.globals.markers.largestSize||y.x[k]>f.globals.gridWidth+f.globals.markers.largestSize||y.y[k]<-f.globals.markers.largestSize||y.y[k]>f.globals.gridHeight+f.globals.markers.largestSize)&&(O.pSize=0),(h=S.drawMarker(y.x[k],y.y[k],O)).attr("rel",C),h.attr("j",C),h.attr("index",s),h.node.setAttribute("default-marker-size",O.pSize),new re(this.ctx).setSelectionFilter(h,s,C),this.addEvents(h),b&&b.add(h)}else f.globals.pointsArray[s]===void 0&&(f.globals.pointsArray[s]=[]),f.globals.pointsArray[s].push([y.x[k],y.y[k]])}return b}},{key:"getMarkerConfig",value:function(i){var s=i.cssClass,o=i.seriesIndex,c=i.dataPointIndex,h=c===void 0?null:c,d=i.radius,f=d===void 0?null:d,g=i.size,y=g===void 0?null:g,b=i.strokeWidth,S=b===void 0?null:b,_=this.w,k=this.getMarkerStyle(o),C=y===null?_.globals.markers.size[o]:y,R=_.config.markers;return h!==null&&R.discrete.length&&R.discrete.map(function(O){O.seriesIndex===o&&O.dataPointIndex===h&&(k.pointStrokeColor=O.strokeColor,k.pointFillColor=O.fillColor,C=O.size,k.pointShape=O.shape)}),{pSize:f===null?C:f,pRadius:f!==null?f:R.radius,pointStrokeWidth:S!==null?S:Array.isArray(R.strokeWidth)?R.strokeWidth[o]:R.strokeWidth,pointStrokeColor:k.pointStrokeColor,pointFillColor:k.pointFillColor,shape:k.pointShape||(Array.isArray(R.shape)?R.shape[o]:R.shape),class:s,pointStrokeOpacity:Array.isArray(R.strokeOpacity)?R.strokeOpacity[o]:R.strokeOpacity,pointStrokeDashArray:Array.isArray(R.strokeDashArray)?R.strokeDashArray[o]:R.strokeDashArray,pointFillOpacity:Array.isArray(R.fillOpacity)?R.fillOpacity[o]:R.fillOpacity,seriesIndex:o}}},{key:"addEvents",value:function(i){var s=this.w,o=new te(this.ctx);i.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this.ctx,i)),i.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this.ctx,i)),i.node.addEventListener("mousedown",o.pathMouseDown.bind(this.ctx,i)),i.node.addEventListener("click",s.config.markers.onClick),i.node.addEventListener("dblclick",s.config.markers.onDblClick),i.node.addEventListener("touchstart",o.pathMouseDown.bind(this.ctx,i),{passive:!0})}},{key:"getMarkerStyle",value:function(i){var s=this.w,o=s.globals.markers.colors,c=s.config.markers.strokeColor||s.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(c)?c[i]:c,pointFillColor:Array.isArray(o)?o[i]:o}}}]),V}(),_e=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.initialAnim=this.w.config.chart.animations.enabled}return p(V,[{key:"draw",value:function(i,s,o){var c=this.w,h=new te(this.ctx),d=o.realIndex,f=o.pointsPos,g=o.zRatio,y=o.elParent,b=h.group({class:"apexcharts-series-markers apexcharts-series-".concat(c.config.chart.type)});if(b.attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),Array.isArray(f.x))for(var S=0;S<f.x.length;S++){var _=s+1,k=!0;s===0&&S===0&&(_=0),s===0&&S===1&&(_=1);var C=c.globals.markers.size[d];if(g!==1/0){var R=c.config.plotOptions.bubble;C=c.globals.seriesZ[d][_],R.zScaling&&(C/=g),R.minBubbleRadius&&C<R.minBubbleRadius&&(C=R.minBubbleRadius),R.maxBubbleRadius&&C>R.maxBubbleRadius&&(C=R.maxBubbleRadius)}var O=f.x[S],F=f.y[S];if(C=C||0,F!==null&&c.globals.series[d][_]!==void 0||(k=!1),k){var U=this.drawPoint(O,F,C,d,_,s);b.add(U)}y.add(b)}}},{key:"drawPoint",value:function(i,s,o,c,h,d){var f=this.w,g=c,y=new J(this.ctx),b=new re(this.ctx),S=new Oe(this.ctx),_=new ht(this.ctx),k=new te(this.ctx),C=_.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:g,dataPointIndex:h,radius:f.config.chart.type==="bubble"||f.globals.comboCharts&&f.config.series[c]&&f.config.series[c].type==="bubble"?o:null}),R=S.fillPath({seriesNumber:c,dataPointIndex:h,color:C.pointFillColor,patternUnits:"objectBoundingBox",value:f.globals.series[c][d]}),O=k.drawMarker(i,s,C);if(f.config.series[g].data[h]&&f.config.series[g].data[h].fillColor&&(R=f.config.series[g].data[h].fillColor),O.attr({fill:R}),f.config.chart.dropShadow.enabled){var F=f.config.chart.dropShadow;b.dropShadow(O,F,c)}if(!this.initialAnim||f.globals.dataChanged||f.globals.resized)f.globals.animationEnded=!0;else{var U=f.config.chart.animations.speed;y.animateMarker(O,U,f.globals.easing,function(){window.setTimeout(function(){y.animationCompleted(O)},100)})}return O.attr({rel:h,j:h,index:c,"default-marker-size":C.pSize}),b.setSelectionFilter(O,c,h),_.addEvents(O),O.node.classList.add("apexcharts-marker"),O}},{key:"centerTextInBubble",value:function(i){var s=this.w;return{y:i+=parseInt(s.config.dataLabels.style.fontSize,10)/4}}}]),V}(),Pe=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"dataLabelsCorrection",value:function(i,s,o,c,h,d,f){var g=this.w,y=!1,b=new te(this.ctx).getTextRects(o,f),S=b.width,_=b.height;s<0&&(s=0),s>g.globals.gridHeight+_&&(s=g.globals.gridHeight+_/2),g.globals.dataLabelsRects[c]===void 0&&(g.globals.dataLabelsRects[c]=[]),g.globals.dataLabelsRects[c].push({x:i,y:s,width:S,height:_});var k=g.globals.dataLabelsRects[c].length-2,C=g.globals.lastDrawnDataLabelsIndexes[c]!==void 0?g.globals.lastDrawnDataLabelsIndexes[c][g.globals.lastDrawnDataLabelsIndexes[c].length-1]:0;if(g.globals.dataLabelsRects[c][k]!==void 0){var R=g.globals.dataLabelsRects[c][C];(i>R.x+R.width||s>R.y+R.height||s+_<R.y||i+S<R.x)&&(y=!0)}return(h===0||d)&&(y=!0),{x:i,y:s,textRects:b,drawnextLabel:y}}},{key:"drawDataLabel",value:function(i){var s=this,o=i.type,c=i.pos,h=i.i,d=i.j,f=i.isRangeStart,g=i.strokeWidth,y=g===void 0?2:g,b=this.w,S=new te(this.ctx),_=b.config.dataLabels,k=0,C=0,R=d,O=null;if(b.globals.collapsedSeriesIndices.indexOf(h)!==-1||!_.enabled||!Array.isArray(c.x))return O;O=S.group({class:"apexcharts-data-labels"});for(var F=0;F<c.x.length;F++)if(k=c.x[F]+_.offsetX,C=c.y[F]+_.offsetY+y,!isNaN(k)){d===1&&F===0&&(R=0),d===1&&F===1&&(R=1);var U=b.globals.series[h][R];o==="rangeArea"&&(U=f?b.globals.seriesRangeStart[h][R]:b.globals.seriesRangeEnd[h][R]);var v="",E=function(H){return b.config.dataLabels.formatter(H,{ctx:s.ctx,seriesIndex:h,dataPointIndex:R,w:b})};b.config.chart.type==="bubble"?(v=E(U=b.globals.seriesZ[h][R]),C=c.y[F],C=new _e(this.ctx).centerTextInBubble(C,h,R).y):U!==void 0&&(v=E(U));var N=b.config.dataLabels.textAnchor;b.globals.isSlopeChart&&(N=R===0?"end":R===b.config.series[h].data.length-1?"start":"middle"),this.plotDataLabelsText({x:k,y:C,text:v,i:h,j:R,parent:O,offsetCorrection:!0,dataLabelsConfig:b.config.dataLabels,textAnchor:N})}return O}},{key:"plotDataLabelsText",value:function(i){var s=this.w,o=new te(this.ctx),c=i.x,h=i.y,d=i.i,f=i.j,g=i.text,y=i.textAnchor,b=i.fontSize,S=i.parent,_=i.dataLabelsConfig,k=i.color,C=i.alwaysDrawDataLabel,R=i.offsetCorrection,O=i.className,F=null;if(Array.isArray(s.config.dataLabels.enabledOnSeries)&&s.config.dataLabels.enabledOnSeries.indexOf(d)<0)return F;var U={x:c,y:h,drawnextLabel:!0,textRects:null};R&&(U=this.dataLabelsCorrection(c,h,g,d,f,C,parseInt(_.style.fontSize,10))),s.globals.zoomed||(c=U.x,h=U.y),U.textRects&&(c<-20-U.textRects.width||c>s.globals.gridWidth+U.textRects.width+30)&&(g="");var v=s.globals.dataLabels.style.colors[d];((s.config.chart.type==="bar"||s.config.chart.type==="rangeBar")&&s.config.plotOptions.bar.distributed||s.config.dataLabels.distributed)&&(v=s.globals.dataLabels.style.colors[f]),typeof v=="function"&&(v=v({series:s.globals.series,seriesIndex:d,dataPointIndex:f,w:s})),k&&(v=k);var E=_.offsetX,N=_.offsetY;if(s.config.chart.type!=="bar"&&s.config.chart.type!=="rangeBar"||(E=0,N=0),s.globals.isSlopeChart&&(f!==0&&(E=-2*_.offsetX+5),f!==0&&f!==s.config.series[d].data.length-1&&(E=0)),U.drawnextLabel){if((F=o.drawText({width:100,height:parseInt(_.style.fontSize,10),x:c+E,y:h+N,foreColor:v,textAnchor:y||_.textAnchor,text:g,fontSize:b||_.style.fontSize,fontFamily:_.style.fontFamily,fontWeight:_.style.fontWeight||"normal"})).attr({class:O||"apexcharts-datalabel",cx:c,cy:h}),_.dropShadow.enabled){var H=_.dropShadow;new re(this.ctx).dropShadow(F,H)}S.add(F),s.globals.lastDrawnDataLabelsIndexes[d]===void 0&&(s.globals.lastDrawnDataLabelsIndexes[d]=[]),s.globals.lastDrawnDataLabelsIndexes[d].push(f)}return F}},{key:"addBackgroundToDataLabel",value:function(i,s){var o=this.w,c=o.config.dataLabels.background,h=c.padding,d=c.padding/2,f=s.width,g=s.height,y=new te(this.ctx).drawRect(s.x-h,s.y-d/2,f+2*h,g+d,c.borderRadius,o.config.chart.background!=="transparent"&&o.config.chart.background?o.config.chart.background:"#fff",c.opacity,c.borderWidth,c.borderColor);return c.dropShadow.enabled&&new re(this.ctx).dropShadow(y,c.dropShadow),y}},{key:"dataLabelsBackground",value:function(){var i=this.w;if(i.config.chart.type!=="bubble")for(var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),o=0;o<s.length;o++){var c=s[o],h=c.getBBox(),d=null;if(h.width&&h.height&&(d=this.addBackgroundToDataLabel(c,h)),d){c.parentNode.insertBefore(d.node,c);var f=c.getAttribute("fill");i.config.chart.animations.enabled&&!i.globals.resized&&!i.globals.dataChanged?d.animate().attr({fill:f}):d.attr({fill:f}),c.setAttribute("fill",i.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var i=this.w,s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),o=i.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),c=0;c<s.length;c++)o&&o.insertBefore(s[c],o.nextSibling)}}]),V}(),Ne=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.legendInactiveClass="legend-mouseover-inactive"}return p(V,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(i){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(L.escapeString(i),"']"))}},{key:"isSeriesHidden",value:function(i){var s=this.getSeriesByName(i),o=parseInt(s.getAttribute("data:realIndex"),10);return{isHidden:s.classList.contains("apexcharts-series-collapsed"),realIndex:o}}},{key:"addCollapsedClassToSeries",value:function(i,s){var o=this.w;function c(h){for(var d=0;d<h.length;d++)h[d].index===s&&i.node.classList.add("apexcharts-series-collapsed")}c(o.globals.collapsedSeries),c(o.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(i){var s=this.isSeriesHidden(i);return this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,s.isHidden),s.isHidden}},{key:"showSeries",value:function(i){var s=this.isSeriesHidden(i);s.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!0)}},{key:"hideSeries",value:function(i){var s=this.isSeriesHidden(i);s.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!1)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w,h=L.clone(c.globals.initialSeries);c.globals.previousPaths=[],o?(c.globals.collapsedSeries=[],c.globals.ancillaryCollapsedSeries=[],c.globals.collapsedSeriesIndices=[],c.globals.ancillaryCollapsedSeriesIndices=[]):h=this.emptyCollapsedSeries(h),c.config.series=h,i&&(s&&(c.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(i){for(var s=this.w,o=0;o<i.length;o++)s.globals.collapsedSeriesIndices.indexOf(o)>-1&&(i[o].data=[]);return i}},{key:"toggleSeriesOnHover",value:function(i,s){var o=this.w;s||(s=i.target);var c=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(i.type==="mousemove"){var h=parseInt(s.getAttribute("rel"),10)-1,d=null,f=null,g=null;if(o.globals.axisCharts||o.config.chart.type==="radialBar")if(o.globals.axisCharts){d=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),f=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(h,"']"));var y=o.globals.seriesYAxisReverseMap[h];g=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(y,"']"))}else d=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']"));else d=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"'] path"));for(var b=0;b<c.length;b++)c[b].classList.add(this.legendInactiveClass);d!==null&&(o.globals.axisCharts||d.parentNode.classList.remove(this.legendInactiveClass),d.classList.remove(this.legendInactiveClass),f!==null&&f.classList.remove(this.legendInactiveClass),g!==null&&g.classList.remove(this.legendInactiveClass))}else if(i.type==="mouseout")for(var S=0;S<c.length;S++)c[S].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(i,s){var o=this,c=this.w,h=c.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),d=function(g){for(var y=0;y<h.length;y++)h[y].classList[g](o.legendInactiveClass)};if(i.type==="mousemove"){var f=parseInt(s.getAttribute("rel"),10)-1;d("add"),function(g){for(var y=0;y<h.length;y++){var b=parseInt(h[y].getAttribute("val"),10);b>=g.from&&b<=g.to&&h[y].classList.remove(o.legendInactiveClass)}}(c.config.plotOptions.heatmap.colorScale.ranges[f])}else i.type==="mouseout"&&d("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=this.w,c=0;if(o.config.series.length>1){for(var h=o.config.series.map(function(f,g){return f.data&&f.data.length>0&&o.globals.collapsedSeriesIndices.indexOf(g)===-1&&(!o.globals.comboCharts||s.length===0||s.length&&s.indexOf(o.config.series[g].type)>-1)?g:-1}),d=i==="asc"?0:h.length-1;i==="asc"?d<h.length:d>=0;i==="asc"?d++:d--)if(h[d]!==-1){c=h[d];break}}return c}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(i,s){return i.type==="bar"||i.type==="column"?s:-1}).filter(function(i){return i!==-1}):this.w.config.series.map(function(i,s){return s})}},{key:"getPreviousPaths",value:function(){var i=this.w;function s(d,f,g){for(var y=d[f].childNodes,b={type:g,paths:[],realIndex:d[f].getAttribute("data:realIndex")},S=0;S<y.length;S++)if(y[S].hasAttribute("pathTo")){var _=y[S].getAttribute("pathTo");b.paths.push({d:_})}i.globals.previousPaths.push(b)}i.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(d){for(var f,g=(f=d,i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(f,"-series .apexcharts-series"))),y=0;y<g.length;y++)s(g,y,d)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var o=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series"));if(o.length>0)for(var c=function(d){for(var f=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(d,"'] rect")),g=[],y=function(S){var _=function(C){return f[S].getAttribute(C)},k={x:parseFloat(_("x")),y:parseFloat(_("y")),width:parseFloat(_("width")),height:parseFloat(_("height"))};g.push({rect:k,color:f[S].getAttribute("color")})},b=0;b<f.length;b++)y(b);i.globals.previousPaths.push(g)},h=0;h<o.length;h++)c(h);i.globals.axisCharts||(i.globals.previousPaths=i.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(i){var s=this.w,o=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series"));if(o.length>0)for(var c=0;c<o.length;c++){for(var h=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series[data\\:realIndex='").concat(c,"'] circle")),d=[],f=0;f<h.length;f++)d.push({x:h[f].getAttribute("cx"),y:h[f].getAttribute("cy"),r:h[f].getAttribute("r")});s.globals.previousPaths.push(d)}}},{key:"clearPreviousPaths",value:function(){var i=this.w;i.globals.previousPaths=[],i.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var i=this.w,s=i.config.noData,o=new te(this.ctx),c=i.globals.svgWidth/2,h=i.globals.svgHeight/2,d="middle";if(i.globals.noData=!0,i.globals.animationEnded=!0,s.align==="left"?(c=10,d="start"):s.align==="right"&&(c=i.globals.svgWidth-10,d="end"),s.verticalAlign==="top"?h=50:s.verticalAlign==="bottom"&&(h=i.globals.svgHeight-50),c+=s.offsetX,h=h+parseInt(s.style.fontSize,10)+2+s.offsetY,s.text!==void 0&&s.text!==""){var f=o.drawText({x:c,y:h,text:s.text,textAnchor:d,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,foreColor:s.style.color,opacity:1,class:"apexcharts-text-nodata"});i.globals.dom.Paper.add(f)}}},{key:"setNullSeriesToZeroValues",value:function(i){for(var s=this.w,o=0;o<i.length;o++)if(i[o].length===0)for(var c=0;c<i[s.globals.maxValsInArrayIndex].length;c++)i[o].push(0);return i}},{key:"hasAllSeriesEqualX",value:function(){for(var i=!0,s=this.w,o=this.filteredSeriesX(),c=0;c<o.length-1;c++)if(o[c][0]!==o[c+1][0]){i=!1;break}return s.globals.allSeriesHasEqualX=i,i}},{key:"filteredSeriesX",value:function(){var i=this.w.globals.seriesX.map(function(s){return s.length>0?s:[]});return i}}]),V}(),lt=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new oe(this.ctx)}return p(V,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var i=this.w.config.series.slice(),s=new Ne(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),i[this.activeSeriesIndex].data!==void 0&&i[this.activeSeriesIndex].data.length>0&&i[this.activeSeriesIndex].data[0]!==null&&i[this.activeSeriesIndex].data[0].x!==void 0&&i[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var i=this.w.config.series.slice(),s=new Ne(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),i[this.activeSeriesIndex].data!==void 0&&i[this.activeSeriesIndex].data.length>0&&i[this.activeSeriesIndex].data[0]!==void 0&&i[this.activeSeriesIndex].data[0]!==null&&i[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(i,s){for(var o=this.w.config,c=this.w.globals,h=o.chart.type==="boxPlot"||o.series[s].type==="boxPlot",d=0;d<i[s].data.length;d++)if(i[s].data[d][1]!==void 0&&(Array.isArray(i[s].data[d][1])&&i[s].data[d][1].length===4&&!h?this.twoDSeries.push(L.parseNumber(i[s].data[d][1][3])):i[s].data[d].length>=5?this.twoDSeries.push(L.parseNumber(i[s].data[d][4])):this.twoDSeries.push(L.parseNumber(i[s].data[d][1])),c.dataFormatXNumeric=!0),o.xaxis.type==="datetime"){var f=new Date(i[s].data[d][0]);f=new Date(f).getTime(),this.twoDSeriesX.push(f)}else this.twoDSeriesX.push(i[s].data[d][0]);for(var g=0;g<i[s].data.length;g++)i[s].data[g][2]!==void 0&&(this.threeDSeries.push(i[s].data[g][2]),c.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(i,s){var o=this.w.config,c=this.w.globals,h=new Y(this.ctx),d=s;c.collapsedSeriesIndices.indexOf(s)>-1&&(d=this.activeSeriesIndex);for(var f=0;f<i[s].data.length;f++)i[s].data[f].y!==void 0&&(Array.isArray(i[s].data[f].y)?this.twoDSeries.push(L.parseNumber(i[s].data[f].y[i[s].data[f].y.length-1])):this.twoDSeries.push(L.parseNumber(i[s].data[f].y))),i[s].data[f].goals!==void 0&&Array.isArray(i[s].data[f].goals)?(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(i[s].data[f].goals)):(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(null));for(var g=0;g<i[d].data.length;g++){var y=typeof i[d].data[g].x=="string",b=Array.isArray(i[d].data[g].x),S=!b&&!!h.isValidDate(i[d].data[g].x);if(y||S)if(y||o.xaxis.convertedCatToNumeric){var _=c.isBarHorizontal&&c.isRangeData;o.xaxis.type!=="datetime"||_?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[d].data[g].x),isNaN(i[d].data[g].x)||this.w.config.xaxis.type==="category"||typeof i[d].data[g].x=="string"||(c.isXNumeric=!0)):this.twoDSeriesX.push(h.parseDate(i[d].data[g].x))}else o.xaxis.type==="datetime"?this.twoDSeriesX.push(h.parseDate(i[d].data[g].x.toString())):(c.dataFormatXNumeric=!0,c.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(i[d].data[g].x)));else b?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[d].data[g].x)):(c.isXNumeric=!0,c.dataFormatXNumeric=!0,this.twoDSeriesX.push(i[d].data[g].x))}if(i[s].data[0]&&i[s].data[0].z!==void 0){for(var k=0;k<i[s].data.length;k++)this.threeDSeries.push(i[s].data[k].z);c.isDataXYZ=!0}}},{key:"handleRangeData",value:function(i,s){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleRangeDataFormat("array",i,s):this.isFormatXY()&&(c=this.handleRangeDataFormat("xy",i,s)),o.seriesRangeStart.push(c.start===void 0?[]:c.start),o.seriesRangeEnd.push(c.end===void 0?[]:c.end),o.seriesRange.push(c.rangeUniques),o.seriesRange.forEach(function(h,d){h&&h.forEach(function(f,g){f.y.forEach(function(y,b){for(var S=0;S<f.y.length;S++)if(b!==S){var _=y.y1,k=y.y2,C=f.y[S].y1;_<=f.y[S].y2&&C<=k&&(f.overlaps.indexOf(y.rangeName)<0&&f.overlaps.push(y.rangeName),f.overlaps.indexOf(f.y[S].rangeName)<0&&f.overlaps.push(f.y[S].rangeName))}})})}),c}},{key:"handleCandleStickBoxData",value:function(i,s){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleCandleStickBoxDataFormat("array",i,s):this.isFormatXY()&&(c=this.handleCandleStickBoxDataFormat("xy",i,s)),o.seriesCandleO[s]=c.o,o.seriesCandleH[s]=c.h,o.seriesCandleM[s]=c.m,o.seriesCandleL[s]=c.l,o.seriesCandleC[s]=c.c,c}},{key:"handleRangeDataFormat",value:function(i,s,o){var c=[],h=[],d=s[o].data.filter(function(b,S,_){return S===_.findIndex(function(k){return k.x===b.x})}).map(function(b,S){return{x:b.x,overlaps:[],y:[]}});if(i==="array")for(var f=0;f<s[o].data.length;f++)Array.isArray(s[o].data[f])?(c.push(s[o].data[f][1][0]),h.push(s[o].data[f][1][1])):(c.push(s[o].data[f]),h.push(s[o].data[f]));else if(i==="xy")for(var g=function(b){var S=Array.isArray(s[o].data[b].y),_=L.randomId(),k=s[o].data[b].x,C={y1:S?s[o].data[b].y[0]:s[o].data[b].y,y2:S?s[o].data[b].y[1]:s[o].data[b].y,rangeName:_};s[o].data[b].rangeName=_;var R=d.findIndex(function(O){return O.x===k});d[R].y.push(C),c.push(C.y1),h.push(C.y2)},y=0;y<s[o].data.length;y++)g(y);return{start:c,end:h,rangeUniques:d}}},{key:"handleCandleStickBoxDataFormat",value:function(i,s,o){var c=this.w,h=c.config.chart.type==="boxPlot"||c.config.series[o].type==="boxPlot",d=[],f=[],g=[],y=[],b=[];if(i==="array")if(h&&s[o].data[0].length===6||!h&&s[o].data[0].length===5)for(var S=0;S<s[o].data.length;S++)d.push(s[o].data[S][1]),f.push(s[o].data[S][2]),h?(g.push(s[o].data[S][3]),y.push(s[o].data[S][4]),b.push(s[o].data[S][5])):(y.push(s[o].data[S][3]),b.push(s[o].data[S][4]));else for(var _=0;_<s[o].data.length;_++)Array.isArray(s[o].data[_][1])&&(d.push(s[o].data[_][1][0]),f.push(s[o].data[_][1][1]),h?(g.push(s[o].data[_][1][2]),y.push(s[o].data[_][1][3]),b.push(s[o].data[_][1][4])):(y.push(s[o].data[_][1][2]),b.push(s[o].data[_][1][3])));else if(i==="xy")for(var k=0;k<s[o].data.length;k++)Array.isArray(s[o].data[k].y)&&(d.push(s[o].data[k].y[0]),f.push(s[o].data[k].y[1]),h?(g.push(s[o].data[k].y[2]),y.push(s[o].data[k].y[3]),b.push(s[o].data[k].y[4])):(y.push(s[o].data[k].y[2]),b.push(s[o].data[k].y[3])));return{o:d,h:f,m:g,l:y,c:b}}},{key:"parseDataAxisCharts",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,c=this.w.config,h=this.w.globals,d=new Y(o),f=c.labels.length>0?c.labels.slice():c.xaxis.categories.slice();h.isRangeBar=c.chart.type==="rangeBar"&&h.isBarHorizontal,h.hasXaxisGroups=c.xaxis.type==="category"&&c.xaxis.group.groups.length>0,h.hasXaxisGroups&&(h.groups=c.xaxis.group.groups),i.forEach(function(k,C){k.name!==void 0?h.seriesNames.push(k.name):h.seriesNames.push("series-"+parseInt(C+1,10))}),this.coreUtils.setSeriesYAxisMappings();var g=[],y=q(new Set(c.series.map(function(k){return k.group})));c.series.forEach(function(k,C){var R=y.indexOf(k.group);g[R]||(g[R]=[]),g[R].push(h.seriesNames[C])}),h.seriesGroups=g;for(var b=function(){for(var k=0;k<f.length;k++)if(typeof f[k]=="string"){if(!d.isValidDate(f[k]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");s.twoDSeriesX.push(d.parseDate(f[k]))}else s.twoDSeriesX.push(f[k])},S=0;S<i.length;S++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],i[S].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(c.chart.type!=="rangeBar"&&c.chart.type!=="rangeArea"&&i[S].type!=="rangeBar"&&i[S].type!=="rangeArea"||(h.isRangeData=!0,c.chart.type!=="rangeBar"&&c.chart.type!=="rangeArea"||this.handleRangeData(i,S)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(i,S):this.isFormatXY()&&this.handleFormatXY(i,S),c.chart.type!=="candlestick"&&i[S].type!=="candlestick"&&c.chart.type!=="boxPlot"&&i[S].type!=="boxPlot"||this.handleCandleStickBoxData(i,S),h.series.push(this.twoDSeries),h.labels.push(this.twoDSeriesX),h.seriesX.push(this.twoDSeriesX),h.seriesGoals=this.seriesGoals,S!==this.activeSeriesIndex||this.fallbackToCategory||(h.isXNumeric=!0);else{c.xaxis.type==="datetime"?(h.isXNumeric=!0,b(),h.seriesX.push(this.twoDSeriesX)):c.xaxis.type==="numeric"&&(h.isXNumeric=!0,f.length>0&&(this.twoDSeriesX=f,h.seriesX.push(this.twoDSeriesX))),h.labels.push(this.twoDSeriesX);var _=i[S].data.map(function(k){return L.parseNumber(k)});h.series.push(_)}h.seriesZ.push(this.threeDSeries),i[S].color!==void 0?h.seriesColors.push(i[S].color):h.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(i){var s=this.w.globals,o=this.w.config;s.series=i.slice(),s.seriesNames=o.labels.slice();for(var c=0;c<s.series.length;c++)s.seriesNames[c]===void 0&&s.seriesNames.push("series-"+(c+1));return this.w}},{key:"handleExternalLabelsData",value:function(i){var s=this.w.config,o=this.w.globals;s.xaxis.categories.length>0?o.labels=s.xaxis.categories:s.labels.length>0?o.labels=s.labels.slice():this.fallbackToCategory?(o.labels=o.labels[0],o.seriesRange.length&&(o.seriesRange.map(function(c){c.forEach(function(h){o.labels.indexOf(h.x)<0&&h.x&&o.labels.push(h.x)})}),o.labels=Array.from(new Set(o.labels.map(JSON.stringify)),JSON.parse)),s.xaxis.convertedCatToNumeric&&(new Ue(s).convertCatToNumericXaxis(s,this.ctx,o.seriesX[0]),this._generateExternalLabels(i))):this._generateExternalLabels(i)}},{key:"_generateExternalLabels",value:function(i){var s=this.w.globals,o=this.w.config,c=[];if(s.axisCharts){if(s.series.length>0)if(this.isFormatXY())for(var h=o.series.map(function(S,_){return S.data.filter(function(k,C,R){return R.findIndex(function(O){return O.x===k.x})===C})}),d=h.reduce(function(S,_,k,C){return C[S].length>_.length?S:k},0),f=0;f<h[d].length;f++)c.push(f+1);else for(var g=0;g<s.series[s.maxValsInArrayIndex].length;g++)c.push(g+1);s.seriesX=[];for(var y=0;y<i.length;y++)s.seriesX.push(c);this.w.globals.isBarHorizontal||(s.isXNumeric=!0)}if(c.length===0){c=s.axisCharts?[]:s.series.map(function(S,_){return _+1});for(var b=0;b<i.length;b++)s.seriesX.push(c)}s.labels=c,o.xaxis.convertedCatToNumeric&&(s.categoryLabels=c.map(function(S){return o.xaxis.labels.formatter(S)})),s.noLabelsProvided=!0}},{key:"parseData",value:function(i){var s=this.w,o=s.config,c=s.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),c.axisCharts?(this.parseDataAxisCharts(i),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(i),o.chart.stacked){var h=new Ne(this.ctx);c.series=h.setNullSeriesToZeroValues(c.series)}this.coreUtils.getSeriesTotals(),c.axisCharts&&(c.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),c.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),c.dataFormatXNumeric||c.isXNumeric&&(o.xaxis.type!=="numeric"||o.labels.length!==0||o.xaxis.categories.length!==0)||this.handleExternalLabelsData(i);for(var d=this.coreUtils.getCategoryLabels(c.labels),f=0;f<d.length;f++)if(Array.isArray(d[f])){c.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var i=this.w,s=[];i.globals.seriesYAxisMap.forEach(function(o,c){var h=0;o.forEach(function(d){i.globals.collapsedSeriesIndices.indexOf(d)!==-1&&h++}),h>0&&h==o.length&&s.push(c)}),i.globals.ignoreYAxisIndexes=s.map(function(o){return o})}}]),V}(),kt=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"scaleSvgNode",value:function(i,s){var o=parseFloat(i.getAttributeNS(null,"width")),c=parseFloat(i.getAttributeNS(null,"height"));i.setAttributeNS(null,"width",o*s),i.setAttributeNS(null,"height",c*s),i.setAttributeNS(null,"viewBox","0 0 "+o+" "+c)}},{key:"fixSvgStringForIe11",value:function(i){if(!L.isIE11())return i.replace(/&nbsp;/g,"&#160;");var s=0,o=i.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(c){return++s===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':c});return o=(o=o.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(i){i==null&&(i=1);var s=this.w.globals.dom.Paper.svg();if(i!==1){var o=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(o,i),s=new XMLSerializer().serializeToString(o)}return this.fixSvgStringForIe11(s)}},{key:"cleanup",value:function(){var i=this.w,s=i.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(c,function(h){h.setAttribute("width",0)}),s&&s[0]&&(s[0].setAttribute("x",-500),s[0].setAttribute("x1",-500),s[0].setAttribute("x2",-500)),o&&o[0]&&(o[0].setAttribute("y",-100),o[0].setAttribute("y1",-100),o[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var i=this.getSvgString(),s=new Blob([i],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(s)}},{key:"dataURI",value:function(i){var s=this;return new Promise(function(o){var c=s.w,h=i?i.scale||i.width/c.globals.svgWidth:1;s.cleanup();var d=document.createElement("canvas");d.width=c.globals.svgWidth*h,d.height=parseInt(c.globals.dom.elWrap.style.height,10)*h;var f=c.config.chart.background!=="transparent"&&c.config.chart.background?c.config.chart.background:"#fff",g=d.getContext("2d");g.fillStyle=f,g.fillRect(0,0,d.width*h,d.height*h);var y=s.getSvgString(h);if(window.canvg&&L.isIE11()){var b=window.canvg.Canvg.fromString(g,y,{ignoreClear:!0,ignoreDimensions:!0});b.start();var S=d.msToBlob();b.stop(),o({blob:S})}else{var _="data:image/svg+xml,"+encodeURIComponent(y),k=new Image;k.crossOrigin="anonymous",k.onload=function(){if(g.drawImage(k,0,0),d.msToBlob){var C=d.msToBlob();o({blob:C})}else{var R=d.toDataURL("image/png");o({imgURI:R})}},k.src=_}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var i=this;this.dataURI().then(function(s){var o=s.imgURI,c=s.blob;c?navigator.msSaveOrOpenBlob(c,i.w.globals.chartID+".png"):i.triggerDownload(o,i.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(i){var s=this,o=i.series,c=i.fileName,h=i.columnDelimiter,d=h===void 0?",":h,f=i.lineDelimiter,g=f===void 0?`
`:f,y=this.w;o||(o=y.config.series);var b,S,_=[],k=[],C="",R=y.globals.series.map(function(B,G){return y.globals.collapsedSeriesIndices.indexOf(G)===-1?B:[]}),O=function(B){return typeof y.config.chart.toolbar.export.csv.categoryFormatter=="function"?y.config.chart.toolbar.export.csv.categoryFormatter(B):y.config.xaxis.type==="datetime"&&String(B).length>=10?new Date(B).toDateString():L.isNumber(B)?B:B.split(d).join("")},F=function(B){return typeof y.config.chart.toolbar.export.csv.valueFormatter=="function"?y.config.chart.toolbar.export.csv.valueFormatter(B):B},U=Math.max.apply(Math,q(o.map(function(B){return B.data?B.data.length:0}))),v=new lt(this.ctx),E=new ie(this.ctx),N=function(B){var G="";if(y.globals.axisCharts){if(y.config.xaxis.type==="category"||y.config.xaxis.convertedCatToNumeric)if(y.globals.isBarHorizontal){var ae=y.globals.yLabelFormatters[0],se=new Ne(s.ctx).getActiveConfigSeriesIndex();G=ae(y.globals.labels[B],{seriesIndex:se,dataPointIndex:B,w:y})}else G=E.getLabel(y.globals.labels,y.globals.timescaleLabels,0,B).text;y.config.xaxis.type==="datetime"&&(y.config.xaxis.categories.length?G=y.config.xaxis.categories[B]:y.config.labels.length&&(G=y.config.labels[B]))}else G=y.config.labels[B];return G===null?"nullvalue":(Array.isArray(G)&&(G=G.join(" ")),L.isNumber(G)?G:G.split(d).join(""))},H=function(B,G){if(_.length&&G===0&&k.push(_.join(d)),B.data){B.data=B.data.length&&B.data||q(Array(U)).map(function(){return""});for(var ae=0;ae<B.data.length;ae++){_=[];var se=N(ae);if(se!=="nullvalue"){if(se||(v.isFormatXY()?se=o[G].data[ae].x:v.isFormat2DArray()&&(se=o[G].data[ae]?o[G].data[ae][0]:"")),G===0){_.push(O(se));for(var ge=0;ge<y.globals.series.length;ge++){var fe,he=v.isFormatXY()?(fe=o[ge].data[ae])===null||fe===void 0?void 0:fe.y:R[ge][ae];_.push(F(he))}}(y.config.chart.type==="candlestick"||B.type&&B.type==="candlestick")&&(_.pop(),_.push(y.globals.seriesCandleO[G][ae]),_.push(y.globals.seriesCandleH[G][ae]),_.push(y.globals.seriesCandleL[G][ae]),_.push(y.globals.seriesCandleC[G][ae])),(y.config.chart.type==="boxPlot"||B.type&&B.type==="boxPlot")&&(_.pop(),_.push(y.globals.seriesCandleO[G][ae]),_.push(y.globals.seriesCandleH[G][ae]),_.push(y.globals.seriesCandleM[G][ae]),_.push(y.globals.seriesCandleL[G][ae]),_.push(y.globals.seriesCandleC[G][ae])),y.config.chart.type==="rangeBar"&&(_.pop(),_.push(y.globals.seriesRangeStart[G][ae]),_.push(y.globals.seriesRangeEnd[G][ae])),_.length&&k.push(_.join(d))}}}};_.push(y.config.chart.toolbar.export.csv.headerCategory),y.config.chart.type==="boxPlot"?(_.push("minimum"),_.push("q1"),_.push("median"),_.push("q3"),_.push("maximum")):y.config.chart.type==="candlestick"?(_.push("open"),_.push("high"),_.push("low"),_.push("close")):y.config.chart.type==="rangeBar"?(_.push("minimum"),_.push("maximum")):o.map(function(B,G){var ae=(B.name?B.name:"series-".concat(G))+"";y.globals.axisCharts&&_.push(ae.split(d).join("")?ae.split(d).join(""):"series-".concat(G))}),y.globals.axisCharts||(_.push(y.config.chart.toolbar.export.csv.headerValue),k.push(_.join(d))),y.globals.allSeriesHasEqualX||!y.globals.axisCharts||y.config.xaxis.categories.length||y.config.labels.length?o.map(function(B,G){y.globals.axisCharts?H(B,G):((_=[]).push(O(y.globals.labels[G])),_.push(F(R[G])),k.push(_.join(d)))}):(b=new Set,S={},o.forEach(function(B,G){B==null||B.data.forEach(function(ae){var se,ge;if(v.isFormatXY())se=ae.x,ge=ae.y;else{if(!v.isFormat2DArray())return;se=ae[0],ge=ae[1]}S[se]||(S[se]=Array(o.length).fill("")),S[se][G]=F(ge),b.add(se)})}),_.length&&k.push(_.join(d)),Array.from(b).sort().forEach(function(B){k.push([O(B),S[B].join(d)])})),C+=k.join(g),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+C),c||y.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(i,s,o){var c=document.createElement("a");c.href=i,c.download=(s||this.w.globals.chartID)+o,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}]),V}(),jt=function(){function V(i,s){l(this,V),this.ctx=i,this.elgrid=s,this.w=i.w;var o=this.w;this.axesUtils=new ie(i),this.xaxisLabels=o.globals.labels.slice(),o.globals.timescaleLabels.length>0&&!o.globals.isBarHorizontal&&(this.xaxisLabels=o.globals.timescaleLabels.slice()),o.config.xaxis.overwriteCategories&&(this.xaxisLabels=o.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],o.config.xaxis.position==="top"?this.offY=0:this.offY=o.globals.gridHeight,this.offY=this.offY+o.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.xaxisBorderWidth=o.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=o.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=o.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=o.config.xaxis.axisBorder.height,this.yaxis=o.config.yaxis[0]}return p(V,[{key:"drawXaxis",value:function(){var i=this.w,s=new te(this.ctx),o=s.group({class:"apexcharts-xaxis",transform:"translate(".concat(i.config.xaxis.offsetX,", ").concat(i.config.xaxis.offsetY,")")}),c=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});o.add(c);for(var h=[],d=0;d<this.xaxisLabels.length;d++)h.push(this.xaxisLabels[d]);if(this.drawXAxisLabelAndGroup(!0,s,c,h,i.globals.isXNumeric,function(C,R){return R}),i.globals.hasXaxisGroups){var f=i.globals.groups;h=[];for(var g=0;g<f.length;g++)h.push(f[g].title);var y={};i.config.xaxis.group.style&&(y.xaxisFontSize=i.config.xaxis.group.style.fontSize,y.xaxisFontFamily=i.config.xaxis.group.style.fontFamily,y.xaxisForeColors=i.config.xaxis.group.style.colors,y.fontWeight=i.config.xaxis.group.style.fontWeight,y.cssClass=i.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,s,c,h,!1,function(C,R){return f[C].cols*R},y)}if(i.config.xaxis.title.text!==void 0){var b=s.group({class:"apexcharts-xaxis-title"}),S=s.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(i.config.xaxis.position==="bottom"?i.globals.xAxisLabelsHeight:-i.globals.xAxisLabelsHeight-10)+i.config.xaxis.title.offsetY,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass});b.add(S),o.add(b)}if(i.config.xaxis.axisBorder.show){var _=i.globals.barPadForNumericAxis,k=s.drawLine(i.globals.padHorizontal+i.config.xaxis.axisBorder.offsetX-_,this.offY,this.xaxisBorderWidth+_,this.offY,i.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(k):o.add(k)}return o}},{key:"drawXAxisLabelAndGroup",value:function(i,s,o,c,h,d){var f,g=this,y=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},b=[],S=[],_=this.w,k=y.xaxisFontSize||this.xaxisFontSize,C=y.xaxisFontFamily||this.xaxisFontFamily,R=y.xaxisForeColors||this.xaxisForeColors,O=y.fontWeight||_.config.xaxis.labels.style.fontWeight,F=y.cssClass||_.config.xaxis.labels.style.cssClass,U=_.globals.padHorizontal,v=c.length,E=_.config.xaxis.type==="category"?_.globals.dataPoints:v;if(E===0&&v>E&&(E=v),h){var N=E>1?E-1:E;f=_.globals.gridWidth/Math.min(N,v-1),U=U+d(0,f)/2+_.config.xaxis.labels.offsetX}else f=_.globals.gridWidth/E,U=U+d(0,f)+_.config.xaxis.labels.offsetX;for(var H=function(G){var ae=U-d(G,f)/2+_.config.xaxis.labels.offsetX;G===0&&v===1&&f/2===U&&E===1&&(ae=_.globals.gridWidth/2);var se=g.axesUtils.getLabel(c,_.globals.timescaleLabels,ae,G,b,k,i),ge=28;if(_.globals.rotateXLabels&&i&&(ge=22),_.config.xaxis.title.text&&_.config.xaxis.position==="top"&&(ge+=parseFloat(_.config.xaxis.title.style.fontSize)+2),i||(ge=ge+parseFloat(k)+(_.globals.xAxisLabelsHeight-_.globals.xAxisGroupLabelsHeight)+(_.globals.rotateXLabels?10:0)),se=_.config.xaxis.tickAmount!==void 0&&_.config.xaxis.tickAmount!=="dataPoints"&&_.config.xaxis.type!=="datetime"?g.axesUtils.checkLabelBasedOnTickamount(G,se,v):g.axesUtils.checkForOverflowingLabels(G,se,v,b,S),_.config.xaxis.labels.show){var fe=s.drawText({x:se.x,y:g.offY+_.config.xaxis.labels.offsetY+ge-(_.config.xaxis.position==="top"?_.globals.xAxisHeight+_.config.xaxis.axisTicks.height-2:0),text:se.text,textAnchor:"middle",fontWeight:se.isBold?600:O,fontSize:k,fontFamily:C,foreColor:Array.isArray(R)?i&&_.config.xaxis.convertedCatToNumeric?R[_.globals.minX+G-1]:R[G]:R,isPlainText:!1,cssClass:(i?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+F});if(o.add(fe),fe.on("click",function(ve){if(typeof _.config.chart.events.xAxisLabelClick=="function"){var Te=Object.assign({},_,{labelIndex:G});_.config.chart.events.xAxisLabelClick(ve,g.ctx,Te)}}),i){var he=document.createElementNS(_.globals.SVGNS,"title");he.textContent=Array.isArray(se.text)?se.text.join(" "):se.text,fe.node.appendChild(he),se.text!==""&&(b.push(se.text),S.push(se))}}G<v-1&&(U+=d(G+1,f))},B=0;B<=v-1;B++)H(B)}},{key:"drawXaxisInversed",value:function(i){var s,o,c=this,h=this.w,d=new te(this.ctx),f=h.config.yaxis[0].opposite?h.globals.translateYAxisX[i]:0,g=d.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:i}),y=d.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+f+", 0)"});g.add(y);var b=[];if(h.config.yaxis[i].show)for(var S=0;S<this.xaxisLabels.length;S++)b.push(this.xaxisLabels[S]);s=h.globals.gridHeight/b.length,o=-s/2.2;var _=h.globals.yLabelFormatters[0],k=h.config.yaxis[0].labels;if(k.show)for(var C=function(N){var H=b[N]===void 0?"":b[N];H=_(H,{seriesIndex:i,dataPointIndex:N,w:h});var B=c.axesUtils.getYAxisForeColor(k.style.colors,i),G=0;Array.isArray(H)&&(G=H.length/2*parseInt(k.style.fontSize,10));var ae=k.offsetX-15,se="end";c.yaxis.opposite&&(se="start"),h.config.yaxis[0].labels.align==="left"?(ae=k.offsetX,se="start"):h.config.yaxis[0].labels.align==="center"?(ae=k.offsetX,se="middle"):h.config.yaxis[0].labels.align==="right"&&(se="end");var ge=d.drawText({x:ae,y:o+s+k.offsetY-G,text:H,textAnchor:se,foreColor:Array.isArray(B)?B[N]:B,fontSize:k.style.fontSize,fontFamily:k.style.fontFamily,fontWeight:k.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+k.style.cssClass,maxWidth:k.maxWidth});y.add(ge),ge.on("click",function(ve){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var Te=Object.assign({},h,{labelIndex:N});h.config.chart.events.xAxisLabelClick(ve,c.ctx,Te)}});var fe=document.createElementNS(h.globals.SVGNS,"title");if(fe.textContent=Array.isArray(H)?H.join(" "):H,ge.node.appendChild(fe),h.config.yaxis[i].labels.rotate!==0){var he=d.rotateAroundCenter(ge.node);ge.node.setAttribute("transform","rotate(".concat(h.config.yaxis[i].labels.rotate," 0 ").concat(he.y,")"))}o+=s},R=0;R<=b.length-1;R++)C(R);if(h.config.yaxis[0].title.text!==void 0){var O=d.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+f+", 0)"}),F=d.drawText({x:h.config.yaxis[0].title.offsetX,y:h.globals.gridHeight/2+h.config.yaxis[0].title.offsetY,text:h.config.yaxis[0].title.text,textAnchor:"middle",foreColor:h.config.yaxis[0].title.style.color,fontSize:h.config.yaxis[0].title.style.fontSize,fontWeight:h.config.yaxis[0].title.style.fontWeight,fontFamily:h.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+h.config.yaxis[0].title.style.cssClass});O.add(F),g.add(O)}var U=0;this.isCategoryBarHorizontal&&h.config.yaxis[0].opposite&&(U=h.globals.gridWidth);var v=h.config.xaxis.axisBorder;if(v.show){var E=d.drawLine(h.globals.padHorizontal+v.offsetX+U,1+v.offsetY,h.globals.padHorizontal+v.offsetX+U,h.globals.gridHeight+v.offsetY,v.color,0);this.elgrid&&this.elgrid.elGridBorders&&h.config.grid.show?this.elgrid.elGridBorders.add(E):g.add(E)}return h.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(U,b.length,h.config.yaxis[0].axisBorder,h.config.yaxis[0].axisTicks,0,s,g),g}},{key:"drawXaxisTicks",value:function(i,s,o){var c=this.w,h=i;if(!(i<0||i-2>c.globals.gridWidth)){var d=this.offY+c.config.xaxis.axisTicks.offsetY;if(s=s+d+c.config.xaxis.axisTicks.height,c.config.xaxis.position==="top"&&(s=d-c.config.xaxis.axisTicks.height),c.config.xaxis.axisTicks.show){var f=new te(this.ctx).drawLine(i+c.config.xaxis.axisTicks.offsetX,d+c.config.xaxis.offsetY,h+c.config.xaxis.axisTicks.offsetX,s+c.config.xaxis.offsetY,c.config.xaxis.axisTicks.color);o.add(f),f.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var i=this.w,s=[],o=this.xaxisLabels.length,c=i.globals.padHorizontal;if(i.globals.timescaleLabels.length>0)for(var h=0;h<o;h++)c=this.xaxisLabels[h].position,s.push(c);else for(var d=o,f=0;f<d;f++){var g=d;i.globals.isXNumeric&&i.config.chart.type!=="bar"&&(g-=1),c+=i.globals.gridWidth/g,s.push(c)}return s}},{key:"xAxisLabelCorrections",value:function(){var i=this.w,s=new te(this.ctx),o=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),d=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(i.globals.rotateXLabels||i.config.xaxis.labels.rotateAlways)for(var f=0;f<c.length;f++){var g=s.rotateAroundCenter(c[f]);g.y=g.y-1,g.x=g.x+1,c[f].setAttribute("transform","rotate(".concat(i.config.xaxis.labels.rotate," ").concat(g.x," ").concat(g.y,")")),c[f].setAttribute("text-anchor","end"),o.setAttribute("transform","translate(0, ".concat(-10,")"));var y=c[f].childNodes;i.config.xaxis.labels.trim&&Array.prototype.forEach.call(y,function(k){s.placeTextWithEllipsis(k,k.textContent,i.globals.xAxisLabelsHeight-(i.config.legend.position==="bottom"?20:10))})}else(function(){for(var k=i.globals.gridWidth/(i.globals.labels.length+1),C=0;C<c.length;C++){var R=c[C].childNodes;i.config.xaxis.labels.trim&&i.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(R,function(O){s.placeTextWithEllipsis(O,O.textContent,k)})}})();if(h.length>0){var b=h[h.length-1].getBBox(),S=h[0].getBBox();b.x<-20&&h[h.length-1].parentNode.removeChild(h[h.length-1]),S.x+S.width>i.globals.gridWidth&&!i.globals.isBarHorizontal&&h[0].parentNode.removeChild(h[0]);for(var _=0;_<d.length;_++)s.placeTextWithEllipsis(d[_],d[_].textContent,i.config.yaxis[0].labels.maxWidth-(i.config.yaxis[0].title.text?2*parseFloat(i.config.yaxis[0].title.style.fontSize):0)-15)}}}]),V}(),Rr=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w;var s=this.w;this.xaxisLabels=s.globals.labels.slice(),this.axesUtils=new ie(i),this.isRangeBar=s.globals.seriesRange.length&&s.globals.isBarHorizontal,s.globals.timescaleLabels.length>0&&(this.xaxisLabels=s.globals.timescaleLabels.slice())}return p(V,[{key:"drawGridArea",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w,o=new te(this.ctx);i===null&&(i=o.group({class:"apexcharts-grid"}));var c=o.drawLine(s.globals.padHorizontal,1,s.globals.padHorizontal,s.globals.gridHeight,"transparent"),h=o.drawLine(s.globals.padHorizontal,s.globals.gridHeight,s.globals.gridWidth,s.globals.gridHeight,"transparent");return i.add(h),i.add(c),i}},{key:"drawGrid",value:function(){var i=null;return this.w.globals.axisCharts&&(i=this.renderGrid(),this.drawGridArea(i.el)),i}},{key:"createGridMask",value:function(){var i=this.w,s=i.globals,o=new te(this.ctx),c=Array.isArray(i.config.stroke.width)?0:i.config.stroke.width;if(Array.isArray(i.config.stroke.width)){var h=0;i.config.stroke.width.forEach(function(S){h=Math.max(h,S)}),c=h}s.dom.elGridRectMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(s.cuid)),s.dom.elGridRectMarkerMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(s.cuid)),s.dom.elForecastMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elForecastMask.setAttribute("id","forecastMask".concat(s.cuid)),s.dom.elNonForecastMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(s.cuid));var d=i.config.chart.type,f=0,g=0;(d==="bar"||d==="rangeBar"||d==="candlestick"||d==="boxPlot"||i.globals.comboBarCount>0)&&i.globals.isXNumeric&&!i.globals.isBarHorizontal&&(f=i.config.grid.padding.left,g=i.config.grid.padding.right,s.barPadForNumericAxis>f&&(f=s.barPadForNumericAxis,g=s.barPadForNumericAxis)),s.dom.elGridRect=o.drawRect(-c/2-f-2,-c/2-2,s.gridWidth+c+g+f+4,s.gridHeight+c+4,0,"#fff");var y=i.globals.markers.largestSize+1;s.dom.elGridRectMarker=o.drawRect(2*-y,2*-y,s.gridWidth+4*y,s.gridHeight+4*y,0,"#fff"),s.dom.elGridRectMask.appendChild(s.dom.elGridRect.node),s.dom.elGridRectMarkerMask.appendChild(s.dom.elGridRectMarker.node);var b=s.dom.baseEl.querySelector("defs");b.appendChild(s.dom.elGridRectMask),b.appendChild(s.dom.elForecastMask),b.appendChild(s.dom.elNonForecastMask),b.appendChild(s.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(i){var s=i.i,o=i.x1,c=i.y1,h=i.x2,d=i.y2,f=i.xCount,g=i.parent,y=this.w;if(!(s===0&&y.globals.skipFirstTimelinelabel||s===f-1&&y.globals.skipLastTimelinelabel&&!y.config.xaxis.labels.formatter||y.config.chart.type==="radar")){y.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,x1:o,y1:c,x2:h,y2:d,xCount:f,parent:g});var b=0;if(y.globals.hasXaxisGroups&&y.config.xaxis.tickPlacement==="between"){var S=y.globals.groups;if(S){for(var _=0,k=0;_<s&&k<S.length;k++)_+=S[k].cols;_===s&&(b=.6*y.globals.xAxisLabelsHeight)}}new jt(this.ctx).drawXaxisTicks(o,b,y.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(i){var s=i.i,o=i.x1,c=i.y1,h=i.x2,d=i.y2,f=i.xCount,g=i.parent,y=this.w,b=!1,S=g.node.classList.contains("apexcharts-gridlines-horizontal"),_=y.config.grid.strokeDashArray,k=y.globals.barPadForNumericAxis;(c===0&&d===0||o===0&&h===0)&&(b=!0),c===y.globals.gridHeight&&d===y.globals.gridHeight&&(b=!0),!y.globals.isBarHorizontal||s!==0&&s!==f-1||(b=!0);var C=new te(this).drawLine(o-(S?k:0),c,h+(S?k:0),d,y.config.grid.borderColor,_);C.node.classList.add("apexcharts-gridline"),b&&y.config.grid.show?this.elGridBorders.add(C):g.add(C)}},{key:"_drawGridBandRect",value:function(i){var s=i.c,o=i.x1,c=i.y1,h=i.x2,d=i.y2,f=i.type,g=this.w,y=new te(this.ctx),b=g.globals.barPadForNumericAxis;if(f!=="column"||g.config.xaxis.type!=="datetime"){var S=g.config.grid[f].colors[s],_=y.drawRect(o-(f==="row"?b:0),c,h+(f==="row"?2*b:0),d,0,S,g.config.grid[f].opacity);this.elg.add(_),_.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")")),_.node.classList.add("apexcharts-grid-".concat(f))}}},{key:"_drawXYLines",value:function(i){var s=this,o=i.xCount,c=i.tickAmount,h=this.w;if(h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show){var d,f=h.globals.padHorizontal,g=h.globals.gridHeight;h.globals.timescaleLabels.length?function(C){for(var R=C.xC,O=C.x1,F=C.y1,U=C.x2,v=C.y2,E=0;E<R;E++)O=s.xaxisLabels[E].position,U=s.xaxisLabels[E].position,s._drawGridLines({i:E,x1:O,y1:F,x2:U,y2:v,xCount:o,parent:s.elgridLinesV})}({xC:o,x1:f,y1:0,x2:d,y2:g}):(h.globals.isXNumeric&&(o=h.globals.xAxisScale.result.length),function(C){for(var R=C.xC,O=C.x1,F=C.y1,U=C.x2,v=C.y2,E=0;E<R+(h.globals.isXNumeric?0:1);E++)E===0&&R===1&&h.globals.dataPoints===1&&(U=O=h.globals.gridWidth/2),s._drawGridLines({i:E,x1:O,y1:F,x2:U,y2:v,xCount:o,parent:s.elgridLinesV}),U=O+=h.globals.gridWidth/(h.globals.isXNumeric?R-1:R)}({xC:o,x1:f,y1:0,x2:d,y2:g}))}if(h.config.grid.yaxis.lines.show){var y=0,b=0,S=h.globals.gridWidth,_=c+1;this.isRangeBar&&(_=h.globals.labels.length);for(var k=0;k<_+(this.isRangeBar?1:0);k++)this._drawGridLine({i:k,xCount:_+(this.isRangeBar?1:0),x1:0,y1:y,x2:S,y2:b,parent:this.elgridLinesH}),b=y+=h.globals.gridHeight/(this.isRangeBar?_:c)}}},{key:"_drawInvertedXYLines",value:function(i){var s=i.xCount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show)for(var c,h=o.globals.padHorizontal,d=o.globals.gridHeight,f=0;f<s+1;f++)o.config.grid.xaxis.lines.show&&this._drawGridLine({i:f,xCount:s+1,x1:h,y1:0,x2:c,y2:d,parent:this.elgridLinesV}),new jt(this.ctx).drawXaxisTicks(h,0,o.globals.dom.elGraphical),c=h+=o.globals.gridWidth/s;if(o.config.grid.yaxis.lines.show)for(var g=0,y=0,b=o.globals.gridWidth,S=0;S<o.globals.dataPoints+1;S++)this._drawGridLine({i:S,xCount:o.globals.dataPoints+1,x1:0,y1:g,x2:b,y2:y,parent:this.elgridLinesH}),y=g+=o.globals.gridHeight/o.globals.dataPoints}},{key:"renderGrid",value:function(){var i=this.w,s=i.globals,o=new te(this.ctx);this.elg=o.group({class:"apexcharts-grid"}),this.elgridLinesH=o.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=o.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=o.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),i.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var c=0;c<s.seriesYAxisMap.length&&s.ignoreYAxisIndexes.indexOf(c)!==-1;)c++;c===s.seriesYAxisMap.length&&(c=0);var h,d=s.yAxisScale[c].result.length-1;if(!s.isBarHorizontal||this.isRangeBar){var f,g,y;h=this.xaxisLabels.length,this.isRangeBar&&(d=s.labels.length,i.config.xaxis.tickAmount&&i.config.xaxis.labels.formatter&&(h=i.config.xaxis.tickAmount),((f=s.yAxisScale)===null||f===void 0||(g=f[c])===null||g===void 0||(y=g.result)===null||y===void 0?void 0:y.length)>0&&i.config.xaxis.type!=="datetime"&&(h=s.yAxisScale[c].result.length-1)),this._drawXYLines({xCount:h,tickAmount:d})}else h=d,d=s.xTickAmount,this._drawInvertedXYLines({xCount:h,tickAmount:d});return this.drawGridBands(h,d),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:s.gridWidth/h}}},{key:"drawGridBands",value:function(i,s){var o=this.w;if(o.config.grid.row.colors!==void 0&&o.config.grid.row.colors.length>0)for(var c=0,h=o.globals.gridHeight/s,d=o.globals.gridWidth,f=0,g=0;f<s;f++,g++)g>=o.config.grid.row.colors.length&&(g=0),this._drawGridBandRect({c:g,x1:0,y1:c,x2:d,y2:h,type:"row"}),c+=o.globals.gridHeight/s;if(o.config.grid.column.colors!==void 0&&o.config.grid.column.colors.length>0)for(var y=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?i:i-1,b=o.globals.padHorizontal,S=o.globals.padHorizontal+o.globals.gridWidth/y,_=o.globals.gridHeight,k=0,C=0;k<i;k++,C++)C>=o.config.grid.column.colors.length&&(C=0),this._drawGridBandRect({c:C,x1:b,y1:0,x2:S,y2:_,type:"column"}),b+=o.globals.gridWidth/y}}]),V}(),cn=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"niceScale",value:function(i,s){var o,c,h,d,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=1e-11,y=this.w,b=y.globals;b.isBarHorizontal?(o=y.config.xaxis,c=Math.max((b.svgWidth-100)/25,2)):(o=y.config.yaxis[f],c=Math.max((b.svgHeight-100)/15,2)),h=o.min!==void 0&&o.min!==null,d=o.max!==void 0&&o.min!==null;var S=o.stepSize!==void 0&&o.stepSize!==null,_=o.tickAmount!==void 0&&o.tickAmount!==null,k=_?o.tickAmount:o.forceNiceScale?b.niceScaleDefaultTicks[Math.min(Math.round(c/2),b.niceScaleDefaultTicks.length-1)]:10;if(b.isMultipleYAxis&&!_&&b.multiAxisTickAmount>0&&(k=b.multiAxisTickAmount,_=!0),k=k==="dataPoints"?b.dataPoints-1:Math.abs(Math.round(k)),(i===Number.MIN_VALUE&&s===0||!L.isNumber(i)&&!L.isNumber(s)||i===Number.MIN_VALUE&&s===-Number.MAX_VALUE)&&(i=L.isNumber(o.min)?o.min:0,s=L.isNumber(o.max)?o.max:i+k,b.allSeriesCollapsed=!1),i>s){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var C=s;s=i,i=C}else i===s&&(i=i===0?0:i-1,s=s===0?2:s+1);var R=[];k<1&&(k=1);var O=k,F=Math.abs(s-i);o.forceNiceScale&&(!h&&i>0&&i/F<.15&&(i=0,h=!0),!d&&s<0&&-s/F<.15&&(s=0,d=!0),F=Math.abs(s-i));var U=F/O,v=U,E=Math.floor(Math.log10(v)),N=Math.pow(10,E),H=Math.ceil(v/N);if(U=v=(H=b.niceScaleAllowedMagMsd[b.yValueDecimal===0?0:1][H])*N,b.isBarHorizontal&&o.stepSize&&o.type!=="datetime"?(U=o.stepSize,S=!0):S&&(U=o.stepSize),S&&o.forceNiceScale){var B=Math.floor(Math.log10(U));U*=Math.pow(10,E-B)}if(h&&d){var G=F/O;if(_)if(S)if(L.mod(F,U)!=0){var ae=L.getGCD(U,G);U=G/ae<10?ae:G}else L.mod(U,G)==0?U=G:(G=U,_=!1);else U=G;else if(S)L.mod(F,U)==0?G=U:U=G;else if(L.mod(F,U)==0)G=U;else{G=F/(O=Math.ceil(F/U));var se=L.getGCD(F,U);F/se<c&&(G=se),U=G}O=Math.round(F/U)}else{if(h||d){if(d)if(_)i=s-U*O;else{var ge=i;i=U*Math.floor(i/U),Math.abs(s-i)/L.getGCD(F,U)>c&&(i=s-U*k,i+=U*Math.floor((ge-i)/U))}else if(h)if(_)s=i+U*O;else{var fe=s;s=U*Math.ceil(s/U),Math.abs(s-i)/L.getGCD(F,U)>c&&(s=i+U*k,s+=U*Math.ceil((fe-s)/U))}}else if(_){var he=U/(s-i>s?1:2),ve=he*Math.floor(i/he);Math.abs(ve-i)<=he/2?s=(i=ve)+U*O:i=(s=he*Math.ceil(s/he))-U*O}else i=U*Math.floor(i/U),s=U*Math.ceil(s/U);F=Math.abs(s-i),U=L.getGCD(F,U),O=Math.round(F/U)}if(_||h||d||(O=Math.ceil((F-g)/(U+g)))>16&&L.getPrimeFactors(O).length<2&&O++,!_&&o.forceNiceScale&&b.yValueDecimal===0&&O>F&&(O=F,U=Math.round(F/O)),O>c&&(!_&&!S||o.forceNiceScale)){var Te=L.getPrimeFactors(O),Me=Te.length-1,Be=O;e:for(var qe=0;qe<Me;qe++)for(var it=0;it<=Me-qe;it++){for(var nt=Math.min(it+qe,Me),ft=Be,Pt=1,Ct=it;Ct<=nt;Ct++)Pt*=Te[Ct];if((ft/=Pt)<c){Be=ft;break e}}U=Be===O?F:F/Be,O=Math.round(F/U)}b.isMultipleYAxis&&b.multiAxisTickAmount==0&&b.ignoreYAxisIndexes.indexOf(f)<0&&(b.multiAxisTickAmount=O);var Nt=i-U,Yn=U*g;do Nt+=U,R.push(L.stripNumber(Nt,7));while(s-Nt>Yn);return{result:R,niceMin:R[0],niceMax:R[R.length-1]}}},{key:"linearScale",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,d=Math.abs(s-i);(o=this._adjustTicksForSmallRange(o,c,d))==="dataPoints"&&(o=this.w.globals.dataPoints-1),h||(h=d/o),o===Number.MAX_VALUE&&(o=5,h=1);for(var f=[],g=i;o>=0;)f.push(g),g+=h,o-=1;return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"logarithmicScaleNice",value:function(i,s,o){s<=0&&(s=Math.max(i,o)),i<=0&&(i=Math.min(s,o));for(var c=[],h=Math.ceil(Math.log(s)/Math.log(o)+1),d=Math.floor(Math.log(i)/Math.log(o));d<h;d++)c.push(Math.pow(o,d));return{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"logarithmicScale",value:function(i,s,o){s<=0&&(s=Math.max(i,o)),i<=0&&(i=Math.min(s,o));for(var c=[],h=Math.log(s)/Math.log(o),d=Math.log(i)/Math.log(o),f=h-d,g=Math.round(f),y=f/g,b=0,S=d;b<g;b++,S+=y)c.push(Math.pow(o,S));return c.push(Math.pow(o,h)),{result:c,niceMin:i,niceMax:s}}},{key:"_adjustTicksForSmallRange",value:function(i,s,o){var c=i;if(s!==void 0&&this.w.config.yaxis[s].labels.formatter&&this.w.config.yaxis[s].tickAmount===void 0){var h=Number(this.w.config.yaxis[s].labels.formatter(1));L.isNumber(h)&&this.w.globals.yValueDecimal===0&&(c=Math.ceil(o))}return c<i?c:i}},{key:"setYScaleForIndex",value:function(i,s,o){var c=this.w.globals,h=this.w.config,d=c.isBarHorizontal?h.xaxis:h.yaxis[i];c.yAxisScale[i]===void 0&&(c.yAxisScale[i]=[]);var f=Math.abs(o-s);d.logarithmic&&f<=5&&(c.invalidLogScale=!0),d.logarithmic&&f>5?(c.allSeriesCollapsed=!1,c.yAxisScale[i]=d.forceNiceScale?this.logarithmicScaleNice(s,o,d.logBase):this.logarithmicScale(s,o,d.logBase)):o!==-Number.MAX_VALUE&&L.isNumber(o)&&s!==Number.MAX_VALUE&&L.isNumber(s)?(c.allSeriesCollapsed=!1,c.yAxisScale[i]=this.niceScale(s,o,i)):c.yAxisScale[i]=this.niceScale(Number.MIN_VALUE,0,i)}},{key:"setXScale",value:function(i,s){var o=this.w,c=o.globals,h=Math.abs(s-i);return s!==-Number.MAX_VALUE&&L.isNumber(s)?c.xAxisScale=this.linearScale(i,s,o.config.xaxis.tickAmount?o.config.xaxis.tickAmount:h<10&&h>1?h+1:10,0,o.config.xaxis.stepSize):c.xAxisScale=this.linearScale(0,10,10),c.xAxisScale}},{key:"setSeriesYAxisMappings",value:function(){var i=this.w.globals,s=this.w.config,o=[],c=[],h=[],d=i.series.length>s.yaxis.length||s.yaxis.some(function(S){return Array.isArray(S.seriesName)});s.series.forEach(function(S,_){h.push(_),c.push(null)}),s.yaxis.forEach(function(S,_){o[_]=[]});var f=[];s.yaxis.forEach(function(S,_){var k=!1;if(S.seriesName){var C=[];Array.isArray(S.seriesName)?C=S.seriesName:C.push(S.seriesName),C.forEach(function(R){s.series.forEach(function(O,F){if(O.name===R){var U=F;_===F||d?!d||h.indexOf(F)>-1?o[_].push([_,F]):console.warn("Series '"+O.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(o[F].push([F,_]),U=_),k=!0,(U=h.indexOf(U))!==-1&&h.splice(U,1)}})})}k||f.push(_)}),o=o.map(function(S,_){var k=[];return S.forEach(function(C){c[C[1]]=C[0],k.push(C[1])}),k});for(var g=s.yaxis.length-1,y=0;y<f.length&&(g=f[y],o[g]=[],h);y++){var b=h[0];h.shift(),o[g].push(b),c[b]=g}h.forEach(function(S){o[g].push(S),c[S]=g}),i.seriesYAxisMap=o.map(function(S){return S}),i.seriesYAxisReverseMap=c.map(function(S){return S})}},{key:"scaleMultipleYAxes",value:function(){var i=this,s=this.w.config,o=this.w.globals;this.setSeriesYAxisMappings();var c=o.seriesYAxisMap,h=o.minYArr,d=o.maxYArr;o.allSeriesCollapsed=!0,o.barGroups=[],c.forEach(function(f,g){var y=[];f.forEach(function(b){var S=s.series[b].group;y.indexOf(S)<0&&y.push(S)}),f.length>0?function(){var b,S,_=Number.MAX_VALUE,k=-Number.MAX_VALUE,C=_,R=k;if(s.chart.stacked)(function(){var U=o.seriesX[f[0]],v=[],E=[],N=[];y.forEach(function(){v.push(U.map(function(){return Number.MIN_VALUE})),E.push(U.map(function(){return Number.MIN_VALUE})),N.push(U.map(function(){return Number.MIN_VALUE}))});for(var H=function(G){!b&&s.series[f[G]].type&&(b=s.series[f[G]].type);var ae=f[G];S=s.series[ae].group?s.series[ae].group:"axis-".concat(g),!(o.collapsedSeriesIndices.indexOf(ae)<0&&o.ancillaryCollapsedSeriesIndices.indexOf(ae)<0)||(o.allSeriesCollapsed=!1,y.forEach(function(se,ge){if(s.series[ae].group===se)for(var fe=0;fe<o.series[ae].length;fe++){var he=o.series[ae][fe];he>=0?E[ge][fe]+=he:N[ge][fe]+=he,v[ge][fe]+=he,C=Math.min(C,he),R=Math.max(R,he)}})),b!=="bar"&&b!=="column"||o.barGroups.push(S)},B=0;B<f.length;B++)H(B);b||(b=s.chart.type),b==="bar"||b==="column"?y.forEach(function(G,ae){_=Math.min(_,Math.min.apply(null,N[ae])),k=Math.max(k,Math.max.apply(null,E[ae]))}):(y.forEach(function(G,ae){C=Math.min(C,Math.min.apply(null,v[ae])),R=Math.max(R,Math.max.apply(null,v[ae]))}),_=C,k=R),_===Number.MIN_VALUE&&k===Number.MIN_VALUE&&(k=-Number.MAX_VALUE)})();else for(var O=0;O<f.length;O++){var F=f[O];_=Math.min(_,h[F]),k=Math.max(k,d[F]),!(o.collapsedSeriesIndices.indexOf(F)<0&&o.ancillaryCollapsedSeriesIndices.indexOf(F)<0)||(o.allSeriesCollapsed=!1)}s.yaxis[g].min!==void 0&&(_=typeof s.yaxis[g].min=="function"?s.yaxis[g].min(_):s.yaxis[g].min),s.yaxis[g].max!==void 0&&(k=typeof s.yaxis[g].max=="function"?s.yaxis[g].max(k):s.yaxis[g].max),o.barGroups=o.barGroups.filter(function(U,v,E){return E.indexOf(U)===v}),i.setYScaleForIndex(g,_,k),f.forEach(function(U){h[U]=o.yAxisScale[g].niceMin,d[U]=o.yAxisScale[g].niceMax})}():i.setYScaleForIndex(g,0,-Number.MAX_VALUE)})}}]),V}(),Wn=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.scales=new cn(i)}return p(V,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w.config,d=this.w.globals,f=-Number.MAX_VALUE,g=Number.MIN_VALUE;c===null&&(c=i+1);var y=d.series,b=y,S=y;h.chart.type==="candlestick"?(b=d.seriesCandleL,S=d.seriesCandleH):h.chart.type==="boxPlot"?(b=d.seriesCandleO,S=d.seriesCandleC):d.isRangeData&&(b=d.seriesRangeStart,S=d.seriesRangeEnd);var _=!1;if(d.seriesX.length>=c){var k,C=(k=d.brushSource)===null||k===void 0?void 0:k.w.config.chart.brush;(h.chart.zoom.enabled&&h.chart.zoom.autoScaleYaxis||C!=null&&C.enabled&&C!=null&&C.autoScaleYaxis)&&(_=!0)}for(var R=i;R<c;R++){d.dataPoints=Math.max(d.dataPoints,y[R].length);var O=h.series[R].type;d.categoryLabels.length&&(d.dataPoints=d.categoryLabels.filter(function(N){return N!==void 0}).length),d.labels.length&&h.xaxis.type!=="datetime"&&d.series.reduce(function(N,H){return N+H.length},0)!==0&&(d.dataPoints=Math.max(d.dataPoints,d.labels.length));var F=0,U=y[R].length-1;if(_){if(h.xaxis.min)for(;F<U&&d.seriesX[R][F]<h.xaxis.min;F++);if(h.xaxis.max)for(;U>F&&d.seriesX[R][U]>h.xaxis.max;U--);}for(var v=F;v<=U&&v<d.series[R].length;v++){var E=y[R][v];if(E!==null&&L.isNumber(E)){switch(S[R][v]!==void 0&&(f=Math.max(f,S[R][v]),s=Math.min(s,S[R][v])),b[R][v]!==void 0&&(s=Math.min(s,b[R][v]),o=Math.max(o,b[R][v])),O){case"candlestick":d.seriesCandleC[R][v]!==void 0&&(f=Math.max(f,d.seriesCandleH[R][v]),s=Math.min(s,d.seriesCandleL[R][v]));break;case"boxPlot":d.seriesCandleC[R][v]!==void 0&&(f=Math.max(f,d.seriesCandleC[R][v]),s=Math.min(s,d.seriesCandleO[R][v]))}O&&O!=="candlestick"&&O!=="boxPlot"&&O!=="rangeArea"&&O!=="rangeBar"&&(f=Math.max(f,d.series[R][v]),s=Math.min(s,d.series[R][v])),o=f,d.seriesGoals[R]&&d.seriesGoals[R][v]&&Array.isArray(d.seriesGoals[R][v])&&d.seriesGoals[R][v].forEach(function(N){g!==Number.MIN_VALUE&&(g=Math.min(g,N.value),s=g),f=Math.max(f,N.value),o=f}),L.isFloat(E)&&(E=L.noExponents(E),d.yValueDecimal=Math.max(d.yValueDecimal,E.toString().split(".")[1].length)),g>b[R][v]&&b[R][v]<0&&(g=b[R][v])}else d.hasNullValues=!0}O!=="bar"&&O!=="column"||(g<0&&f<0&&(f=0,o=Math.max(o,0)),g===Number.MIN_VALUE&&(g=0,s=Math.min(s,0)))}return h.chart.type==="rangeBar"&&d.seriesRangeStart.length&&d.isBarHorizontal&&(g=s),h.chart.type==="bar"&&(g<0&&f<0&&(f=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:f,lowestY:s,highestY:o}}},{key:"setYRange",value:function(){var i=this.w.globals,s=this.w.config;i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE;var o,c=Number.MAX_VALUE;if(i.isMultipleYAxis){c=Number.MAX_VALUE;for(var h=0;h<i.series.length;h++)o=this.getMinYMaxY(h),i.minYArr[h]=o.lowestY,i.maxYArr[h]=o.highestY,c=Math.min(c,o.lowestY)}return o=this.getMinYMaxY(0,c,null,i.series.length),s.chart.type==="bar"?(i.minY=o.minY,i.maxY=o.maxY):(i.minY=o.lowestY,i.maxY=o.highestY),c=o.lowestY,s.chart.stacked&&this._setStackedMinMax(),s.chart.type==="line"||s.chart.type==="area"||s.chart.type==="scatter"||s.chart.type==="candlestick"||s.chart.type==="boxPlot"||s.chart.type==="rangeBar"&&!i.isBarHorizontal?i.minY===Number.MIN_VALUE&&c!==-Number.MAX_VALUE&&c!==i.maxY&&(i.minY=c):i.minY=o.minY,s.yaxis.forEach(function(d,f){d.max!==void 0&&(typeof d.max=="number"?i.maxYArr[f]=d.max:typeof d.max=="function"&&(i.maxYArr[f]=d.max(i.isMultipleYAxis?i.maxYArr[f]:i.maxY)),i.maxY=i.maxYArr[f]),d.min!==void 0&&(typeof d.min=="number"?i.minYArr[f]=d.min:typeof d.min=="function"&&(i.minYArr[f]=d.min(i.isMultipleYAxis?i.minYArr[f]===Number.MIN_VALUE?0:i.minYArr[f]:i.minY)),i.minY=i.minYArr[f])}),i.isBarHorizontal&&["min","max"].forEach(function(d){s.xaxis[d]!==void 0&&typeof s.xaxis[d]=="number"&&(d==="min"?i.minY=s.xaxis[d]:i.maxY=s.xaxis[d])}),i.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),i.minY=c):(this.scales.setYScaleForIndex(0,i.minY,i.maxY),i.minY=i.yAxisScale[0].niceMin,i.maxY=i.yAxisScale[0].niceMax,i.minYArr[0]=i.minY,i.maxYArr[0]=i.maxY),i.barGroups=[],i.lineGroups=[],i.areaGroups=[],s.series.forEach(function(d){switch(d.type||s.chart.type){case"bar":case"column":i.barGroups.push(d.group);break;case"line":i.lineGroups.push(d.group);break;case"area":i.areaGroups.push(d.group)}}),i.barGroups=i.barGroups.filter(function(d,f,g){return g.indexOf(d)===f}),i.lineGroups=i.lineGroups.filter(function(d,f,g){return g.indexOf(d)===f}),i.areaGroups=i.areaGroups.filter(function(d,f,g){return g.indexOf(d)===f}),{minY:i.minY,maxY:i.maxY,minYArr:i.minYArr,maxYArr:i.maxYArr,yAxisScale:i.yAxisScale}}},{key:"setXRange",value:function(){var i=this.w.globals,s=this.w.config,o=s.xaxis.type==="numeric"||s.xaxis.type==="datetime"||s.xaxis.type==="category"&&!i.noLabelsProvided||i.noLabelsProvided||i.isXNumeric;if(i.isXNumeric&&function(){for(var f=0;f<i.series.length;f++)if(i.labels[f])for(var g=0;g<i.labels[f].length;g++)i.labels[f][g]!==null&&L.isNumber(i.labels[f][g])&&(i.maxX=Math.max(i.maxX,i.labels[f][g]),i.initialMaxX=Math.max(i.maxX,i.labels[f][g]),i.minX=Math.min(i.minX,i.labels[f][g]),i.initialMinX=Math.min(i.minX,i.labels[f][g]))}(),i.noLabelsProvided&&s.xaxis.categories.length===0&&(i.maxX=i.labels[i.labels.length-1],i.initialMaxX=i.labels[i.labels.length-1],i.minX=1,i.initialMinX=1),i.isXNumeric||i.noLabelsProvided||i.dataFormatXNumeric){var c;if(s.xaxis.tickAmount===void 0?(c=Math.round(i.svgWidth/150),s.xaxis.type==="numeric"&&i.dataPoints<30&&(c=i.dataPoints-1),c>i.dataPoints&&i.dataPoints!==0&&(c=i.dataPoints-1)):s.xaxis.tickAmount==="dataPoints"?(i.series.length>1&&(c=i.series[i.maxValsInArrayIndex].length-1),i.isXNumeric&&(c=i.maxX-i.minX-1)):c=s.xaxis.tickAmount,i.xTickAmount=c,s.xaxis.max!==void 0&&typeof s.xaxis.max=="number"&&(i.maxX=s.xaxis.max),s.xaxis.min!==void 0&&typeof s.xaxis.min=="number"&&(i.minX=s.xaxis.min),s.xaxis.range!==void 0&&(i.minX=i.maxX-s.xaxis.range),i.minX!==Number.MAX_VALUE&&i.maxX!==-Number.MAX_VALUE)if(s.xaxis.convertedCatToNumeric&&!i.dataFormatXNumeric){for(var h=[],d=i.minX-1;d<i.maxX;d++)h.push(d+1);i.xAxisScale={result:h,niceMin:h[0],niceMax:h[h.length-1]}}else i.xAxisScale=this.scales.setXScale(i.minX,i.maxX);else i.xAxisScale=this.scales.linearScale(0,c,c,0,s.xaxis.stepSize),i.noLabelsProvided&&i.labels.length>0&&(i.xAxisScale=this.scales.linearScale(1,i.labels.length,c-1,0,s.xaxis.stepSize),i.seriesX=i.labels.slice());o&&(i.labels=i.xAxisScale.result.slice())}return i.isBarHorizontal&&i.labels.length&&(i.xTickAmount=i.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:i.minX,maxX:i.maxX}}},{key:"setZRange",value:function(){var i=this.w.globals;if(i.isDataXYZ){for(var s=0;s<i.series.length;s++)if(i.seriesZ[s]!==void 0)for(var o=0;o<i.seriesZ[s].length;o++)i.seriesZ[s][o]!==null&&L.isNumber(i.seriesZ[s][o])&&(i.maxZ=Math.max(i.maxZ,i.seriesZ[s][o]),i.minZ=Math.min(i.minZ,i.seriesZ[s][o]))}}},{key:"_handleSingleDataPoint",value:function(){var i=this.w.globals,s=this.w.config;if(i.minX===i.maxX){var o=new Y(this.ctx);if(s.xaxis.type==="datetime"){var c=o.getDate(i.minX);s.xaxis.labels.datetimeUTC?c.setUTCDate(c.getUTCDate()-2):c.setDate(c.getDate()-2),i.minX=new Date(c).getTime();var h=o.getDate(i.maxX);s.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()+2):h.setDate(h.getDate()+2),i.maxX=new Date(h).getTime()}else(s.xaxis.type==="numeric"||s.xaxis.type==="category"&&!i.noLabelsProvided)&&(i.minX=i.minX-2,i.initialMinX=i.minX,i.maxX=i.maxX+2,i.initialMaxX=i.maxX)}}},{key:"_getMinXDiff",value:function(){var i=this.w.globals;i.isXNumeric&&i.seriesX.forEach(function(s,o){s.length===1&&s.push(i.seriesX[i.maxValsInArrayIndex][i.seriesX[i.maxValsInArrayIndex].length-1]);var c=s.slice();c.sort(function(h,d){return h-d}),c.forEach(function(h,d){if(d>0){var f=h-c[d-1];f>0&&(i.minXDiff=Math.min(f,i.minXDiff))}}),i.dataPoints!==1&&i.minXDiff!==Number.MAX_VALUE||(i.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var i=this,s=this.w.globals;if(s.series.length){var o=s.seriesGroups;o.length||(o=[this.w.globals.seriesNames.map(function(d){return d})]);var c={},h={};o.forEach(function(d){c[d]=[],h[d]=[],i.w.config.series.map(function(f,g){return d.indexOf(s.seriesNames[g])>-1?g:null}).filter(function(f){return f!==null}).forEach(function(f){for(var g=0;g<s.series[s.maxValsInArrayIndex].length;g++){var y,b,S,_;c[d][g]===void 0&&(c[d][g]=0,h[d][g]=0),(i.w.config.chart.stacked&&!s.comboCharts||i.w.config.chart.stacked&&s.comboCharts&&(!i.w.config.chart.stackOnlyBar||((y=i.w.config.series)===null||y===void 0||(b=y[f])===null||b===void 0?void 0:b.type)==="bar"||((S=i.w.config.series)===null||S===void 0||(_=S[f])===null||_===void 0?void 0:_.type)==="column"))&&s.series[f][g]!==null&&L.isNumber(s.series[f][g])&&(s.series[f][g]>0?c[d][g]+=parseFloat(s.series[f][g])+1e-4:h[d][g]+=parseFloat(s.series[f][g]))}})}),Object.entries(c).forEach(function(d){var f=$(d,1)[0];c[f].forEach(function(g,y){s.maxY=Math.max(s.maxY,c[f][y]),s.minY=Math.min(s.minY,h[f][y])})})}}}]),V}(),Gr=function(){function V(i,s){l(this,V),this.ctx=i,this.elgrid=s,this.w=i.w;var o=this.w;this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.axisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xAxisoffX=0,o.config.xaxis.position==="bottom"&&(this.xAxisoffX=o.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new ie(i)}return p(V,[{key:"drawYaxis",value:function(i){var s=this,o=this.w,c=new te(this.ctx),h=o.config.yaxis[i].labels.style,d=h.fontSize,f=h.fontFamily,g=h.fontWeight,y=c.group({class:"apexcharts-yaxis",rel:i,transform:"translate("+o.globals.translateYAxisX[i]+", 0)"});if(this.axesUtils.isYAxisHidden(i))return y;var b=c.group({class:"apexcharts-yaxis-texts-g"});y.add(b);var S=o.globals.yAxisScale[i].result.length-1,_=o.globals.gridHeight/S,k=o.globals.yLabelFormatters[i],C=o.globals.yAxisScale[i].result.slice();C=this.axesUtils.checkForReversedLabels(i,C);var R="";if(o.config.yaxis[i].labels.show){var O=o.globals.translateY+o.config.yaxis[i].labels.offsetY;o.globals.isBarHorizontal?O=0:o.config.chart.type==="heatmap"&&(O-=_/2),O+=parseInt(o.config.yaxis[i].labels.style.fontSize,10)/3;for(var F=function(ae){var se=C[ae];se=k(se,ae,o);var ge=o.config.yaxis[i].labels.padding;o.config.yaxis[i].opposite&&o.config.yaxis.length!==0&&(ge*=-1);var fe="end";o.config.yaxis[i].opposite&&(fe="start"),o.config.yaxis[i].labels.align==="left"?fe="start":o.config.yaxis[i].labels.align==="center"?fe="middle":o.config.yaxis[i].labels.align==="right"&&(fe="end");var he=s.axesUtils.getYAxisForeColor(h.colors,i),ve=L.listToArray(o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label tspan"))).map(function(it){return it.textContent}),Te=c.drawText({x:ge,y:O,text:ve.indexOf(se)>=0?"":se,textAnchor:fe,fontSize:d,fontFamily:f,fontWeight:g,maxWidth:o.config.yaxis[i].labels.maxWidth,foreColor:Array.isArray(he)?he[ae]:he,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.cssClass});ae===S&&(R=Te),b.add(Te);var Me=document.createElementNS(o.globals.SVGNS,"title");if(Me.textContent=Array.isArray(se)?se.join(" "):se,Te.node.appendChild(Me),o.config.yaxis[i].labels.rotate!==0){var Be=c.rotateAroundCenter(R.node),qe=c.rotateAroundCenter(Te.node);Te.node.setAttribute("transform","rotate(".concat(o.config.yaxis[i].labels.rotate," ").concat(Be.x," ").concat(qe.y,")"))}O+=_},U=S;U>=0;U--)F(U)}if(o.config.yaxis[i].title.text!==void 0){var v=c.group({class:"apexcharts-yaxis-title"}),E=0;o.config.yaxis[i].opposite&&(E=o.globals.translateYAxisX[i]);var N=c.drawText({x:E,y:o.globals.gridHeight/2+o.globals.translateY+o.config.yaxis[i].title.offsetY,text:o.config.yaxis[i].title.text,textAnchor:"end",foreColor:o.config.yaxis[i].title.style.color,fontSize:o.config.yaxis[i].title.style.fontSize,fontWeight:o.config.yaxis[i].title.style.fontWeight,fontFamily:o.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[i].title.style.cssClass});v.add(N),y.add(v)}var H=o.config.yaxis[i].axisBorder,B=31+H.offsetX;if(o.config.yaxis[i].opposite&&(B=-31-H.offsetX),H.show){var G=c.drawLine(B,o.globals.translateY+H.offsetY-2,B,o.globals.gridHeight+o.globals.translateY+H.offsetY+2,H.color,0,H.width);y.add(G)}return o.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(B,S,H,o.config.yaxis[i].axisTicks,i,_,y),y}},{key:"drawYaxisInversed",value:function(i){var s=this.w,o=new te(this.ctx),c=o.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),h=o.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(s.globals.translateXAxisX,", ").concat(s.globals.translateXAxisY,")")});c.add(h);var d=s.globals.yAxisScale[i].result.length-1,f=s.globals.gridWidth/d+.1,g=f+s.config.xaxis.labels.offsetX,y=s.globals.xLabelFormatter,b=s.globals.yAxisScale[i].result.slice(),S=s.globals.timescaleLabels;S.length>0&&(this.xaxisLabels=S.slice(),d=(b=S.slice()).length),b=this.axesUtils.checkForReversedLabels(i,b);var _=S.length;if(s.config.xaxis.labels.show)for(var k=_?0:d;_?k<_:k>=0;_?k++:k--){var C=b[k];C=y(C,k,s);var R=s.globals.gridWidth+s.globals.padHorizontal-(g-f+s.config.xaxis.labels.offsetX);if(S.length){var O=this.axesUtils.getLabel(b,S,R,k,this.drawnLabels,this.xaxisFontSize);R=O.x,C=O.text,this.drawnLabels.push(O.text),k===0&&s.globals.skipFirstTimelinelabel&&(C=""),k===b.length-1&&s.globals.skipLastTimelinelabel&&(C="")}var F=o.drawText({x:R,y:this.xAxisoffX+s.config.xaxis.labels.offsetY+30-(s.config.xaxis.position==="top"?s.globals.xAxisHeight+s.config.xaxis.axisTicks.height-2:0),text:C,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[i]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:s.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+s.config.xaxis.labels.style.cssClass});h.add(F),F.tspan(C);var U=document.createElementNS(s.globals.SVGNS,"title");U.textContent=C,F.node.appendChild(U),g+=f}return this.inversedYAxisTitleText(c),this.inversedYAxisBorder(c),c}},{key:"inversedYAxisBorder",value:function(i){var s=this.w,o=new te(this.ctx),c=s.config.xaxis.axisBorder;if(c.show){var h=0;s.config.chart.type==="bar"&&s.globals.isXNumeric&&(h-=15);var d=o.drawLine(s.globals.padHorizontal+h+c.offsetX,this.xAxisoffX,s.globals.gridWidth,this.xAxisoffX,c.color,0,c.height);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(d):i.add(d)}}},{key:"inversedYAxisTitleText",value:function(i){var s=this.w,o=new te(this.ctx);if(s.config.xaxis.title.text!==void 0){var c=o.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),h=o.drawText({x:s.globals.gridWidth/2+s.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(s.config.xaxis.title.style.fontSize)+s.config.xaxis.title.offsetY+20,text:s.config.xaxis.title.text,textAnchor:"middle",fontSize:s.config.xaxis.title.style.fontSize,fontFamily:s.config.xaxis.title.style.fontFamily,fontWeight:s.config.xaxis.title.style.fontWeight,foreColor:s.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+s.config.xaxis.title.style.cssClass});c.add(h),i.add(c)}}},{key:"yAxisTitleRotate",value:function(i,s){var o=this.w,c=new te(this.ctx),h={width:0,height:0},d={width:0,height:0},f=o.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g"));f!==null&&(h=f.getBoundingClientRect());var g=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-title text"));if(g!==null&&(d=g.getBoundingClientRect()),g!==null){var y=this.xPaddingForYAxisTitle(i,h,d,s);g.setAttribute("x",y.xPos-(s?10:0))}if(g!==null){var b=c.rotateAroundCenter(g);g.setAttribute("transform","rotate(".concat(s?-1*o.config.yaxis[i].title.rotate:o.config.yaxis[i].title.rotate," ").concat(b.x," ").concat(b.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(i,s,o,c){var h=this.w,d=0,f=0,g=10;return h.config.yaxis[i].title.text===void 0||i<0?{xPos:f,padd:0}:(c?(f=s.width+h.config.yaxis[i].title.offsetX+o.width/2+g/2,(d+=1)===0&&(f-=g/2)):(f=-1*s.width+h.config.yaxis[i].title.offsetX+g/2+o.width/2,h.globals.isBarHorizontal&&(g=25,f=-1*s.width-h.config.yaxis[i].title.offsetX-g)),{xPos:f,padd:g})}},{key:"setYAxisXPosition",value:function(i,s){var o=this.w,c=0,h=0,d=18,f=1;o.config.yaxis.length>1&&(this.multipleYs=!0),o.config.yaxis.map(function(g,y){var b=o.globals.ignoreYAxisIndexes.indexOf(y)>-1||!g.show||g.floating||i[y].width===0,S=i[y].width+s[y].width;g.opposite?o.globals.isBarHorizontal?(h=o.globals.gridWidth+o.globals.translateX-1,o.globals.translateYAxisX[y]=h-g.labels.offsetX):(h=o.globals.gridWidth+o.globals.translateX+f,b||(f=f+S+20),o.globals.translateYAxisX[y]=h-g.labels.offsetX+20):(c=o.globals.translateX-d,b||(d=d+S+20),o.globals.translateYAxisX[y]=c+g.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var i=this.w,s=i.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(s=L.listToArray(s)).forEach(function(o,c){var h=i.config.yaxis[c];if(h&&!h.floating&&h.labels.align!==void 0){var d=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g")),f=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-label"));f=L.listToArray(f);var g=d.getBoundingClientRect();h.labels.align==="left"?(f.forEach(function(y,b){y.setAttribute("text-anchor","start")}),h.opposite||d.setAttribute("transform","translate(-".concat(g.width,", 0)"))):h.labels.align==="center"?(f.forEach(function(y,b){y.setAttribute("text-anchor","middle")}),d.setAttribute("transform","translate(".concat(g.width/2*(h.opposite?1:-1),", 0)"))):h.labels.align==="right"&&(f.forEach(function(y,b){y.setAttribute("text-anchor","end")}),h.opposite&&d.setAttribute("transform","translate(".concat(g.width,", 0)")))}})}}]),V}(),as=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.documentEvent=L.bind(this.documentEvent,this)}return p(V,[{key:"addEventListener",value:function(i,s){var o=this.w;o.globals.events.hasOwnProperty(i)?o.globals.events[i].push(s):o.globals.events[i]=[s]}},{key:"removeEventListener",value:function(i,s){var o=this.w;if(o.globals.events.hasOwnProperty(i)){var c=o.globals.events[i].indexOf(s);c!==-1&&o.globals.events[i].splice(c,1)}}},{key:"fireEvent",value:function(i,s){var o=this.w;if(o.globals.events.hasOwnProperty(i)){s&&s.length||(s=[]);for(var c=o.globals.events[i],h=c.length,d=0;d<h;d++)c[d].apply(null,s)}}},{key:"setupEventHandlers",value:function(){var i=this,s=this.w,o=this.ctx,c=s.globals.dom.baseEl.querySelector(s.globals.chartClass);this.ctx.eventList.forEach(function(h){c.addEventListener(h,function(d){var f=Object.assign({},s,{seriesIndex:s.globals.axisCharts?s.globals.capturedSeriesIndex:0,dataPointIndex:s.globals.capturedDataPointIndex});d.type==="mousemove"||d.type==="touchmove"?typeof s.config.chart.events.mouseMove=="function"&&s.config.chart.events.mouseMove(d,o,f):d.type==="mouseleave"||d.type==="touchleave"?typeof s.config.chart.events.mouseLeave=="function"&&s.config.chart.events.mouseLeave(d,o,f):(d.type==="mouseup"&&d.which===1||d.type==="touchend")&&(typeof s.config.chart.events.click=="function"&&s.config.chart.events.click(d,o,f),o.ctx.events.fireEvent("click",[d,o,f]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(h){s.globals.dom.baseEl.addEventListener(h,i.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(i){var s=this.w,o=i.target.className;if(i.type==="click"){var c=s.globals.dom.baseEl.querySelector(".apexcharts-menu");c&&c.classList.contains("apexcharts-menu-open")&&o!=="apexcharts-menu-icon"&&c.classList.remove("apexcharts-menu-open")}s.globals.clientX=i.type==="touchmove"?i.touches[0].clientX:i.clientX,s.globals.clientY=i.type==="touchmove"?i.touches[0].clientY:i.clientY}}]),V}(),xr=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"setCurrentLocaleValues",value:function(i){var s=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(s=this.w.config.chart.locales.concat(window.Apex.chart.locales));var o=s.filter(function(h){return h.name===i})[0];if(!o)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var c=L.extend(rt,o);this.w.globals.locale=c.options}}]),V}(),Hs=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"drawAxis",value:function(i,s){var o,c,h=this,d=this.w.globals,f=this.w.config,g=new jt(this.ctx,s),y=new Gr(this.ctx,s);d.axisCharts&&i!=="radar"&&(d.isBarHorizontal?(c=y.drawYaxisInversed(0),o=g.drawXaxisInversed(0),d.dom.elGraphical.add(o),d.dom.elGraphical.add(c)):(o=g.drawXaxis(),d.dom.elGraphical.add(o),f.yaxis.map(function(b,S){if(d.ignoreYAxisIndexes.indexOf(S)===-1&&(c=y.drawYaxis(S),d.dom.Paper.add(c),h.w.config.grid.position==="back")){var _=d.dom.Paper.children()[1];_.remove(),d.dom.Paper.add(_)}})))}}]),V}(),os=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"drawXCrosshairs",value:function(){var i=this.w,s=new te(this.ctx),o=new re(this.ctx),c=i.config.xaxis.crosshairs.fill.gradient,h=i.config.xaxis.crosshairs.dropShadow,d=i.config.xaxis.crosshairs.fill.type,f=c.colorFrom,g=c.colorTo,y=c.opacityFrom,b=c.opacityTo,S=c.stops,_=h.enabled,k=h.left,C=h.top,R=h.blur,O=h.color,F=h.opacity,U=i.config.xaxis.crosshairs.fill.color;if(i.config.xaxis.crosshairs.show){d==="gradient"&&(U=s.drawGradient("vertical",f,g,y,b,null,S,null));var v=s.drawRect();i.config.xaxis.crosshairs.width===1&&(v=s.drawLine());var E=i.globals.gridHeight;(!L.isNumber(E)||E<0)&&(E=0);var N=i.config.xaxis.crosshairs.width;(!L.isNumber(N)||N<0)&&(N=0),v.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:E,width:N,height:E,fill:U,filter:"none","fill-opacity":i.config.xaxis.crosshairs.opacity,stroke:i.config.xaxis.crosshairs.stroke.color,"stroke-width":i.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":i.config.xaxis.crosshairs.stroke.dashArray}),_&&(v=o.dropShadow(v,{left:k,top:C,blur:R,color:O,opacity:F})),i.globals.dom.elGraphical.add(v)}}},{key:"drawYCrosshairs",value:function(){var i=this.w,s=new te(this.ctx),o=i.config.yaxis[0].crosshairs,c=i.globals.barPadForNumericAxis;if(i.config.yaxis[0].crosshairs.show){var h=s.drawLine(-c,0,i.globals.gridWidth+c,0,o.stroke.color,o.stroke.dashArray,o.stroke.width);h.attr({class:"apexcharts-ycrosshairs"}),i.globals.dom.elGraphical.add(h)}var d=s.drawLine(-c,0,i.globals.gridWidth+c,0,o.stroke.color,0,0);d.attr({class:"apexcharts-ycrosshairs-hidden"}),i.globals.dom.elGraphical.add(d)}}]),V}(),Oi=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"checkResponsiveConfig",value:function(i){var s=this,o=this.w,c=o.config;if(c.responsive.length!==0){var h=c.responsive.slice();h.sort(function(y,b){return y.breakpoint>b.breakpoint?1:b.breakpoint>y.breakpoint?-1:0}).reverse();var d=new Ae({}),f=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=h[0].breakpoint,S=window.innerWidth>0?window.innerWidth:screen.width;if(S>b){var _=L.clone(o.globals.initialConfig);_.series=L.clone(o.config.series);var k=oe.extendArrayProps(d,_,o);y=L.extend(k,y),y=L.extend(o.config,y),s.overrideResponsiveOptions(y)}else for(var C=0;C<h.length;C++)S<h[C].breakpoint&&(y=oe.extendArrayProps(d,h[C].options,o),y=L.extend(o.config,y),s.overrideResponsiveOptions(y))};if(i){var g=oe.extendArrayProps(d,i,o);g=L.extend(o.config,g),f(g=L.extend(g,i))}else f({})}}},{key:"overrideResponsiveOptions",value:function(i){var s=new Ae(i).init({responsiveOverride:!0});this.w.config=s}}]),V}(),$s=function(){function V(i){l(this,V),this.ctx=i,this.colors=[],this.w=i.w;var s=this.w;this.isColorFn=!1,this.isHeatmapDistributed=s.config.chart.type==="treemap"&&s.config.plotOptions.treemap.distributed||s.config.chart.type==="heatmap"&&s.config.plotOptions.heatmap.distributed,this.isBarDistributed=s.config.plotOptions.bar.distributed&&(s.config.chart.type==="bar"||s.config.chart.type==="rangeBar")}return p(V,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var i,s=this,o=this.w,c=new L;if(o.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(o.config.theme.mode)),o.config.colors===void 0||((i=o.config.colors)===null||i===void 0?void 0:i.length)===0?o.globals.colors=this.predefined():(o.globals.colors=o.config.colors,Array.isArray(o.config.colors)&&o.config.colors.length>0&&typeof o.config.colors[0]=="function"&&(o.globals.colors=o.config.series.map(function(C,R){var O=o.config.colors[R];return O||(O=o.config.colors[0]),typeof O=="function"?(s.isColorFn=!0,O({value:o.globals.axisCharts?o.globals.series[R][0]?o.globals.series[R][0]:0:o.globals.series[R],seriesIndex:R,dataPointIndex:R,w:o})):O}))),o.globals.seriesColors.map(function(C,R){C&&(o.globals.colors[R]=C)}),o.config.theme.monochrome.enabled){var h=[],d=o.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(d=o.globals.series[0].length*o.globals.series.length);for(var f=o.config.theme.monochrome.color,g=1/(d/o.config.theme.monochrome.shadeIntensity),y=o.config.theme.monochrome.shadeTo,b=0,S=0;S<d;S++){var _=void 0;y==="dark"?(_=c.shadeColor(-1*b,f),b+=g):(_=c.shadeColor(b,f),b+=g),h.push(_)}o.globals.colors=h.slice()}var k=o.globals.colors.slice();this.pushExtraColors(o.globals.colors),["fill","stroke"].forEach(function(C){o.config[C].colors===void 0?o.globals[C].colors=s.isColorFn?o.config.colors:k:o.globals[C].colors=o.config[C].colors.slice(),s.pushExtraColors(o.globals[C].colors)}),o.config.dataLabels.style.colors===void 0?o.globals.dataLabels.style.colors=k:o.globals.dataLabels.style.colors=o.config.dataLabels.style.colors.slice(),this.pushExtraColors(o.globals.dataLabels.style.colors,50),o.config.plotOptions.radar.polygons.fill.colors===void 0?o.globals.radarPolygons.fill.colors=[o.config.theme.mode==="dark"?"#424242":"none"]:o.globals.radarPolygons.fill.colors=o.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(o.globals.radarPolygons.fill.colors,20),o.config.markers.colors===void 0?o.globals.markers.colors=k:o.globals.markers.colors=o.config.markers.colors.slice(),this.pushExtraColors(o.globals.markers.colors)}},{key:"pushExtraColors",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,h=s||c.globals.series.length;if(o===null&&(o=this.isBarDistributed||this.isHeatmapDistributed||c.config.chart.type==="heatmap"&&c.config.plotOptions.heatmap.colorScale.inverse),o&&c.globals.series.length&&(h=c.globals.series[c.globals.maxValsInArrayIndex].length*c.globals.series.length),i.length<h)for(var d=h-i.length,f=0;f<d;f++)i.push(i[f])}},{key:"updateThemeOptions",value:function(i){i.chart=i.chart||{},i.tooltip=i.tooltip||{};var s=i.theme.mode,o=s==="dark"?"palette4":s==="light"?"palette1":i.theme.palette||"palette1",c=s==="dark"?"#f6f7f8":s==="light"?"#373d3f":i.chart.foreColor||"#373d3f";return i.tooltip.theme=s||"light",i.chart.foreColor=c,i.theme.palette=o,i}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),V}(),ls=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(i){var s=this.w,o=i==="title"?s.config.title:s.config.subtitle,c=s.globals.svgWidth/2,h=o.offsetY,d="middle";if(o.align==="left"?(c=10,d="start"):o.align==="right"&&(c=s.globals.svgWidth-10,d="end"),c+=o.offsetX,h=h+parseInt(o.style.fontSize,10)+o.margin/2,o.text!==void 0){var f=new te(this.ctx).drawText({x:c,y:h,text:o.text,textAnchor:d,fontSize:o.style.fontSize,fontFamily:o.style.fontFamily,fontWeight:o.style.fontWeight,foreColor:o.style.color,opacity:1});f.node.setAttribute("class","apexcharts-".concat(i,"-text")),s.globals.dom.Paper.add(f)}}}]),V}(),pe=function(){function V(i){l(this,V),this.w=i.w,this.dCtx=i}return p(V,[{key:"getTitleSubtitleCoords",value:function(i){var s=this.w,o=0,c=0,h=i==="title"?s.config.title.floating:s.config.subtitle.floating,d=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-text"));if(d!==null&&!h){var f=d.getBoundingClientRect();o=f.width,c=s.globals.axisCharts?f.height+5:f.height}return{width:o,height:c}}},{key:"getLegendsRect",value:function(){var i=this.w,s=i.globals.dom.elLegendWrap;i.config.legend.height||i.config.legend.position!=="top"&&i.config.legend.position!=="bottom"||(s.style.maxHeight=i.globals.svgHeight/2+"px");var o=Object.assign({},L.getBoundingClientRect(s));return s!==null&&!i.config.legend.floating&&i.config.legend.show?this.dCtx.lgRect={x:o.x,y:o.y,height:o.height,width:o.height===0?0:o.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},i.config.legend.position!=="left"&&i.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>i.globals.svgWidth&&(this.dCtx.lgRect.width=i.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var i=this,s=this.w,o=[];s.config.series.forEach(function(g,y){g.data.forEach(function(b,S){var _;_=s.globals.series[y][S],c=s.config.dataLabels.formatter(_,{ctx:i.dCtx.ctx,seriesIndex:y,dataPointIndex:S,w:s}),o.push(c)})});var c=L.getLargestStringFromArr(o),h=new te(this.dCtx.ctx),d=s.config.dataLabels.style,f=h.getTextRects(c,parseInt(d.fontSize),d.fontFamily);return{width:1.05*f.width,height:f.height}}},{key:"getLargestStringFromMultiArr",value:function(i,s){var o=i;if(this.w.globals.isMultiLineX){var c=s.map(function(d,f){return Array.isArray(d)?d.length:1}),h=Math.max.apply(Math,q(c));o=s[c.indexOf(h)]}return o}}]),V}(),Re=function(){function V(i){l(this,V),this.w=i.w,this.dCtx=i}return p(V,[{key:"getxAxisLabelsCoords",value:function(){var i,s=this.w,o=s.globals.labels.slice();if(s.config.xaxis.convertedCatToNumeric&&o.length===0&&(o=s.globals.categoryLabels),s.globals.timescaleLabels.length>0){var c=this.getxAxisTimeScaleLabelsCoords();i={width:c.width,height:c.height},s.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=s.config.legend.position!=="left"&&s.config.legend.position!=="right"||s.config.legend.floating?0:this.dCtx.lgRect.width;var h=s.globals.xLabelFormatter,d=L.getLargestStringFromArr(o),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,o);s.globals.isBarHorizontal&&(f=d=s.globals.yAxisScale[0].result.reduce(function(C,R){return C.length>R.length?C:R},0));var g=new ee(this.dCtx.ctx),y=d;d=g.xLabelFormat(h,d,y,{i:void 0,dateFormatter:new Y(this.dCtx.ctx).formatDate,w:s}),f=g.xLabelFormat(h,f,y,{i:void 0,dateFormatter:new Y(this.dCtx.ctx).formatDate,w:s}),(s.config.xaxis.convertedCatToNumeric&&d===void 0||String(d).trim()==="")&&(f=d="1");var b=new te(this.dCtx.ctx),S=b.getTextRects(d,s.config.xaxis.labels.style.fontSize),_=S;if(d!==f&&(_=b.getTextRects(f,s.config.xaxis.labels.style.fontSize)),(i={width:S.width>=_.width?S.width:_.width,height:S.height>=_.height?S.height:_.height}).width*o.length>s.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&s.config.xaxis.labels.rotate!==0||s.config.xaxis.labels.rotateAlways){if(!s.globals.isBarHorizontal){s.globals.rotateXLabels=!0;var k=function(C){return b.getTextRects(C,s.config.xaxis.labels.style.fontSize,s.config.xaxis.labels.style.fontFamily,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1)};S=k(d),d!==f&&(_=k(f)),i.height=(S.height>_.height?S.height:_.height)/1.5,i.width=S.width>_.width?S.width:_.width}}else s.globals.rotateXLabels=!1}return s.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var i,s=this.w;if(!s.globals.hasXaxisGroups)return{width:0,height:0};var o,c=((i=s.config.xaxis.group.style)===null||i===void 0?void 0:i.fontSize)||s.config.xaxis.labels.style.fontSize,h=s.globals.groups.map(function(S){return S.title}),d=L.getLargestStringFromArr(h),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,h),g=new te(this.dCtx.ctx),y=g.getTextRects(d,c),b=y;return d!==f&&(b=g.getTextRects(f,c)),o={width:y.width>=b.width?y.width:b.width,height:y.height>=b.height?y.height:b.height},s.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisTitleCoords",value:function(){var i=this.w,s=0,o=0;if(i.config.xaxis.title.text!==void 0){var c=new te(this.dCtx.ctx).getTextRects(i.config.xaxis.title.text,i.config.xaxis.title.style.fontSize);s=c.width,o=c.height}return{width:s,height:o}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var i,s=this.w;this.dCtx.timescaleLabels=s.globals.timescaleLabels.slice();var o=this.dCtx.timescaleLabels.map(function(h){return h.value}),c=o.reduce(function(h,d){return h===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):h.length>d.length?h:d},0);return 1.05*(i=new te(this.dCtx.ctx).getTextRects(c,s.config.xaxis.labels.style.fontSize)).width*o.length>s.globals.gridWidth&&s.config.xaxis.labels.rotate!==0&&(s.globals.overlappingXLabels=!0),i}},{key:"additionalPaddingXLabels",value:function(i){var s=this,o=this.w,c=o.globals,h=o.config,d=h.xaxis.type,f=i.width;c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1;var g=o.config.yaxis[0].opposite&&o.globals.isBarHorizontal,y=function(b,S){h.yaxis.length>1&&function(_){return c.collapsedSeriesIndices.indexOf(_)!==-1}(S)||function(_){if(s.dCtx.timescaleLabels&&s.dCtx.timescaleLabels.length){var k=s.dCtx.timescaleLabels[0],C=s.dCtx.timescaleLabels[s.dCtx.timescaleLabels.length-1].position+f/1.75-s.dCtx.yAxisWidthRight,R=k.position-f/1.75+s.dCtx.yAxisWidthLeft,O=o.config.legend.position==="right"&&s.dCtx.lgRect.width>0?s.dCtx.lgRect.width:0;C>c.svgWidth-c.translateX-O&&(c.skipLastTimelinelabel=!0),R<-(_.show&&!_.floating||h.chart.type!=="bar"&&h.chart.type!=="candlestick"&&h.chart.type!=="rangeBar"&&h.chart.type!=="boxPlot"?10:f/1.75)&&(c.skipFirstTimelinelabel=!0)}else d==="datetime"?s.dCtx.gridPad.right<f&&!c.rotateXLabels&&(c.skipLastTimelinelabel=!0):d!=="datetime"&&s.dCtx.gridPad.right<f/2-s.dCtx.yAxisWidthRight&&!c.rotateXLabels&&!o.config.xaxis.labels.trim&&(s.dCtx.xPadRight=f/2+1)}(b)};h.yaxis.forEach(function(b,S){g?(s.dCtx.gridPad.left<f&&(s.dCtx.xPadLeft=f/2+1),s.dCtx.xPadRight=f/2+1):y(b,S)})}}]),V}(),Ve=function(){function V(i){l(this,V),this.w=i.w,this.dCtx=i}return p(V,[{key:"getyAxisLabelsCoords",value:function(){var i=this,s=this.w,o=[],c=10,h=new ie(this.dCtx.ctx);return s.config.yaxis.map(function(d,f){var g={seriesIndex:f,dataPointIndex:-1,w:s},y=s.globals.yAxisScale[f],b=0;if(!h.isYAxisHidden(f)&&d.labels.show&&d.labels.minWidth!==void 0&&(b=d.labels.minWidth),!h.isYAxisHidden(f)&&d.labels.show&&y.result.length){var S=s.globals.yLabelFormatters[f],_=y.niceMin===Number.MIN_VALUE?0:y.niceMin,k=y.result.reduce(function(E,N){var H,B;return((H=String(S(E,g)))===null||H===void 0?void 0:H.length)>((B=String(S(N,g)))===null||B===void 0?void 0:B.length)?E:N},_),C=k=S(k,g);if(k!==void 0&&k.length!==0||(k=y.niceMax),s.globals.isBarHorizontal){c=0;var R=s.globals.labels.slice();k=L.getLargestStringFromArr(R),k=S(k,{seriesIndex:f,dataPointIndex:-1,w:s}),C=i.dCtx.dimHelpers.getLargestStringFromMultiArr(k,R)}var O=new te(i.dCtx.ctx),F="rotate(".concat(d.labels.rotate," 0 0)"),U=O.getTextRects(k,d.labels.style.fontSize,d.labels.style.fontFamily,F,!1),v=U;k!==C&&(v=O.getTextRects(C,d.labels.style.fontSize,d.labels.style.fontFamily,F,!1)),o.push({width:(b>v.width||b>U.width?b:v.width>U.width?v.width:U.width)+c,height:v.height>U.height?v.height:U.height})}else o.push({width:0,height:0})}),o}},{key:"getyAxisTitleCoords",value:function(){var i=this,s=this.w,o=[];return s.config.yaxis.map(function(c,h){if(c.show&&c.title.text!==void 0){var d=new te(i.dCtx.ctx),f="rotate(".concat(c.title.rotate," 0 0)"),g=d.getTextRects(c.title.text,c.title.style.fontSize,c.title.style.fontFamily,f,!1);o.push({width:g.width,height:g.height})}else o.push({width:0,height:0})}),o}},{key:"getTotalYAxisWidth",value:function(){var i=this.w,s=0,o=0,c=0,h=i.globals.yAxisScale.length>1?10:0,d=new ie(this.dCtx.ctx),f=function(g,y){var b=i.config.yaxis[y].floating,S=0;g.width>0&&!b?(S=g.width+h,function(_){return i.globals.ignoreYAxisIndexes.indexOf(_)>-1}(y)&&(S=S-g.width-h)):S=b||d.isYAxisHidden(y)?0:5,i.config.yaxis[y].opposite?c+=S:o+=S,s+=S};return i.globals.yLabelsCoords.map(function(g,y){f(g,y)}),i.globals.yTitleCoords.map(function(g,y){f(g,y)}),i.globals.isBarHorizontal&&!i.config.yaxis[0].floating&&(s=i.globals.yLabelsCoords[0].width+i.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=o,this.dCtx.yAxisWidthRight=c,s}}]),V}(),We=function(){function V(i){l(this,V),this.w=i.w,this.dCtx=i}return p(V,[{key:"gridPadForColumnsInNumericAxis",value:function(i){var s=this.w,o=s.config,c=s.globals;if(c.noData||c.collapsedSeries.length+c.ancillaryCollapsedSeries.length===o.series.length)return 0;var h=function(k){return k==="bar"||k==="rangeBar"||k==="candlestick"||k==="boxPlot"},d=o.chart.type,f=0,g=h(d)?o.series.length:1;c.comboBarCount>0&&(g=c.comboBarCount),c.collapsedSeries.forEach(function(k){h(k.type)&&(g-=1)}),o.chart.stacked&&(g=1);var y=h(d)||c.comboBarCount>0,b=Math.abs(c.initialMaxX-c.initialMinX);if(y&&c.isXNumeric&&!c.isBarHorizontal&&g>0&&b!==0){var S,_;b<=3&&(b=c.dataPoints),S=b/i,c.minXDiff&&c.minXDiff/S>0&&(_=c.minXDiff/S),_>i/2&&(_/=2),(f=_*parseInt(o.plotOptions.bar.columnWidth,10)/100)<1&&(f=1),c.barPadForNumericAxis=f}return f}},{key:"gridPadFortitleSubtitle",value:function(){var i=this,s=this.w,o=s.globals,c=this.dCtx.isSparkline||!s.globals.axisCharts?0:10;["title","subtitle"].forEach(function(f){s.config[f].text!==void 0?c+=s.config[f].margin:c+=i.dCtx.isSparkline||!s.globals.axisCharts?0:5}),!s.config.legend.show||s.config.legend.position!=="bottom"||s.config.legend.floating||s.globals.axisCharts||(c+=10);var h=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),d=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");o.gridHeight=o.gridHeight-h.height-d.height-c,o.translateY=o.translateY+h.height+d.height+c}},{key:"setGridXPosForDualYAxis",value:function(i,s){var o=this.w,c=new ie(this.dCtx.ctx);o.config.yaxis.map(function(h,d){o.globals.ignoreYAxisIndexes.indexOf(d)!==-1||h.floating||c.isYAxisHidden(d)||(h.opposite&&(o.globals.translateX=o.globals.translateX-(s[d].width+i[d].width)-parseInt(o.config.yaxis[d].labels.style.fontSize,10)/1.2-12),o.globals.translateX<2&&(o.globals.translateX=2))})}}]),V}(),Ge=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new pe(this),this.dimYAxis=new Ve(this),this.dimXAxis=new Re(this),this.dimGrid=new We(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return p(V,[{key:"plotCoords",value:function(){var i=this,s=this.w,o=s.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var c=Array.isArray(s.config.stroke.width)?Math.max.apply(Math,q(s.config.stroke.width)):s.config.stroke.width;this.isSparkline&&((s.config.markers.discrete.length>0||s.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(d){var f=$(d,2),g=f[0],y=f[1];i.gridPad[g]=Math.max(y,i.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(c/2,this.gridPad.top),this.gridPad.bottom=Math.max(c/2,this.gridPad.bottom)),o.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),o.gridHeight=o.gridHeight-this.gridPad.top-this.gridPad.bottom,o.gridWidth=o.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(o.gridWidth);o.gridWidth=o.gridWidth-2*h,o.translateX=o.translateX+this.gridPad.left+this.xPadLeft+(h>0?h:0),o.translateY=o.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var i=this,s=this.w,o=s.globals,c=this.dimYAxis.getyAxisLabelsCoords(),h=this.dimYAxis.getyAxisTitleCoords();o.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),s.globals.yLabelsCoords=[],s.globals.yTitleCoords=[],s.config.yaxis.map(function(k,C){s.globals.yLabelsCoords.push({width:c[C].width,index:C}),s.globals.yTitleCoords.push({width:h[C].width,index:C})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var d=this.dimXAxis.getxAxisLabelsCoords(),f=this.dimXAxis.getxAxisGroupLabelsCoords(),g=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(d,g,f),o.translateXAxisY=s.globals.rotateXLabels?this.xAxisHeight/8:-4,o.translateXAxisX=s.globals.rotateXLabels&&s.globals.isXNumeric&&s.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,s.globals.isBarHorizontal&&(o.rotateXLabels=!1,o.translateXAxisY=parseInt(s.config.xaxis.labels.style.fontSize,10)/1.5*-1),o.translateXAxisY=o.translateXAxisY+s.config.xaxis.labels.offsetY,o.translateXAxisX=o.translateXAxisX+s.config.xaxis.labels.offsetX;var y=this.yAxisWidth,b=this.xAxisHeight;o.xAxisLabelsHeight=this.xAxisHeight-g.height,o.xAxisGroupLabelsHeight=o.xAxisLabelsHeight-d.height,o.xAxisLabelsWidth=this.xAxisWidth,o.xAxisHeight=this.xAxisHeight;var S=10;(s.config.chart.type==="radar"||this.isSparkline)&&(y=0,b=o.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||s.config.chart.type==="treemap")&&(y=0,b=0,S=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(d);var _=function(){o.translateX=y+i.datalabelsCoords.width,o.gridHeight=o.svgHeight-i.lgRect.height-b-(i.isSparkline||s.config.chart.type==="treemap"?0:s.globals.rotateXLabels?10:15),o.gridWidth=o.svgWidth-y-2*i.datalabelsCoords.width};switch(s.config.xaxis.position==="top"&&(S=o.xAxisHeight-s.config.xaxis.axisTicks.height-5),s.config.legend.position){case"bottom":o.translateY=S,_();break;case"top":o.translateY=this.lgRect.height+S,_();break;case"left":o.translateY=S,o.translateX=this.lgRect.width+y+this.datalabelsCoords.width,o.gridHeight=o.svgHeight-b-12,o.gridWidth=o.svgWidth-this.lgRect.width-y-2*this.datalabelsCoords.width;break;case"right":o.translateY=S,o.translateX=y+this.datalabelsCoords.width,o.gridHeight=o.svgHeight-b-12,o.gridWidth=o.svgWidth-this.lgRect.width-y-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(h,c),new Gr(this.ctx).setYAxisXPosition(c,h)}},{key:"setDimensionsForNonAxisCharts",value:function(){var i=this.w,s=i.globals,o=i.config,c=0;i.config.legend.show&&!i.config.legend.floating&&(c=20);var h=o.chart.type==="pie"||o.chart.type==="polarArea"||o.chart.type==="donut"?"pie":"radialBar",d=o.plotOptions[h].offsetY,f=o.plotOptions[h].offsetX;if(!o.legend.show||o.legend.floating){s.gridHeight=s.svgHeight-o.grid.padding.top-o.grid.padding.bottom;var g=s.dom.elWrap.getBoundingClientRect().width;return s.gridWidth=Math.min(g,s.gridHeight)-o.grid.padding.left-o.grid.padding.right,s.translateY=d,void(s.translateX=f+(s.svgWidth-s.gridWidth)/2)}switch(o.legend.position){case"bottom":s.gridHeight=s.svgHeight-this.lgRect.height-s.goldenPadding,s.gridWidth=s.svgWidth,s.translateY=d-10,s.translateX=f+(s.svgWidth-s.gridWidth)/2;break;case"top":s.gridHeight=s.svgHeight-this.lgRect.height-s.goldenPadding,s.gridWidth=s.svgWidth,s.translateY=this.lgRect.height+d+10,s.translateX=f+(s.svgWidth-s.gridWidth)/2;break;case"left":s.gridWidth=s.svgWidth-this.lgRect.width-c,s.gridHeight=o.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=d,s.translateX=f+this.lgRect.width+c;break;case"right":s.gridWidth=s.svgWidth-this.lgRect.width-c-5,s.gridHeight=o.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=d,s.translateX=f+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(i,s,o){var c=this.w,h=c.globals.hasXaxisGroups?2:1,d=o.height+i.height+s.height,f=c.globals.isMultiLineX?1.2:c.globals.LINE_HEIGHT_RATIO,g=c.globals.rotateXLabels?22:10,y=c.globals.rotateXLabels&&c.config.legend.position==="bottom"?10:0;this.xAxisHeight=d*f+h*g+y,this.xAxisWidth=i.width,this.xAxisHeight-s.height>c.config.xaxis.labels.maxHeight&&(this.xAxisHeight=c.config.xaxis.labels.maxHeight),c.config.xaxis.labels.minHeight&&this.xAxisHeight<c.config.xaxis.labels.minHeight&&(this.xAxisHeight=c.config.xaxis.labels.minHeight),c.config.xaxis.floating&&(this.xAxisHeight=0);var b=0,S=0;c.config.yaxis.forEach(function(_){b+=_.labels.minWidth,S+=_.labels.maxWidth}),this.yAxisWidth<b&&(this.yAxisWidth=b),this.yAxisWidth>S&&(this.yAxisWidth=S)}}]),V}(),Ke=function(){function V(i){l(this,V),this.w=i.w,this.lgCtx=i}return p(V,[{key:"getLegendStyles",value:function(){var i,s,o,c=document.createElement("style");c.setAttribute("type","text/css");var h=((i=this.lgCtx.ctx)===null||i===void 0||(s=i.opts)===null||s===void 0||(o=s.chart)===null||o===void 0?void 0:o.nonce)||this.w.config.chart.nonce;h&&c.setAttribute("nonce",h);var d=document.createTextNode(`
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }`);return c.appendChild(d),c}},{key:"getLegendDimensions",value:function(){var i=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend"),s=i.offsetWidth;return{clwh:i.offsetHeight,clww:s}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(i,s){var o=this,c=this.w;if(c.globals.axisCharts||c.config.chart.type==="radialBar"){c.globals.resized=!0;var h=null,d=null;c.globals.risingSeries=[],c.globals.axisCharts?(h=c.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),d=parseInt(h.getAttribute("data:realIndex"),10)):(h=c.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']")),d=parseInt(h.getAttribute("rel"),10)-1),s?[{cs:c.globals.collapsedSeries,csi:c.globals.collapsedSeriesIndices},{cs:c.globals.ancillaryCollapsedSeries,csi:c.globals.ancillaryCollapsedSeriesIndices}].forEach(function(b){o.riseCollapsedSeries(b.cs,b.csi,d)}):this.hideSeries({seriesEl:h,realIndex:d})}else{var f=c.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(i+1,"'] path")),g=c.config.chart.type;if(g==="pie"||g==="polarArea"||g==="donut"){var y=c.config.plotOptions.pie.donut.labels;new te(this.lgCtx.ctx).pathMouseDown(f.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(f.members[0].node,y)}f.fire("click")}}},{key:"hideSeries",value:function(i){var s=i.seriesEl,o=i.realIndex,c=this.w,h=c.globals,d=L.clone(c.config.series);if(h.axisCharts){var f=c.config.yaxis[h.seriesYAxisReverseMap[o]];if(f&&f.show&&f.showAlways)h.ancillaryCollapsedSeriesIndices.indexOf(o)<0&&(h.ancillaryCollapsedSeries.push({index:o,data:d[o].data.slice(),type:s.parentNode.className.baseVal.split("-")[1]}),h.ancillaryCollapsedSeriesIndices.push(o));else if(h.collapsedSeriesIndices.indexOf(o)<0){h.collapsedSeries.push({index:o,data:d[o].data.slice(),type:s.parentNode.className.baseVal.split("-")[1]}),h.collapsedSeriesIndices.push(o);var g=h.risingSeries.indexOf(o);h.risingSeries.splice(g,1)}}else h.collapsedSeries.push({index:o,data:d[o]}),h.collapsedSeriesIndices.push(o);for(var y=s.childNodes,b=0;b<y.length;b++)y[b].classList.contains("apexcharts-series-markers-wrap")&&(y[b].classList.contains("apexcharts-hide")?y[b].classList.remove("apexcharts-hide"):y[b].classList.add("apexcharts-hide"));h.allSeriesCollapsed=h.collapsedSeries.length+h.ancillaryCollapsedSeries.length===c.config.series.length,d=this._getSeriesBasedOnCollapsedState(d),this.lgCtx.ctx.updateHelpers._updateSeries(d,c.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(i,s,o){var c=this.w,h=L.clone(c.config.series);if(i.length>0){for(var d=0;d<i.length;d++)i[d].index===o&&(c.globals.axisCharts?(h[o].data=i[d].data.slice(),i.splice(d,1),s.splice(d,1),c.globals.risingSeries.push(o)):(h[o]=i[d].data,i.splice(d,1),s.splice(d,1),c.globals.risingSeries.push(o)));h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(i){var s=this.w,o=0;return s.globals.axisCharts?i.forEach(function(c,h){s.globals.collapsedSeriesIndices.indexOf(h)<0&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(h)<0||(i[h].data=[],o++)}):i.forEach(function(c,h){!s.globals.collapsedSeriesIndices.indexOf(h)<0&&(i[h]=0,o++)}),s.globals.allSeriesCollapsed=o===i.length,i}}]),V}(),dt=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Ke(this)}return p(V,[{key:"init",value:function(){var i=this.w,s=i.globals,o=i.config;if((o.legend.showForSingleSeries&&s.series.length===1||this.isBarsDistributed||s.series.length>1||!s.axisCharts)&&o.legend.show){for(;s.dom.elLegendWrap.firstChild;)s.dom.elLegendWrap.removeChild(s.dom.elLegendWrap.firstChild);this.drawLegends(),L.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),o.legend.position==="bottom"||o.legend.position==="top"?this.legendAlignHorizontal():o.legend.position!=="right"&&o.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(i){var s=i.i,o=i.fillcolor,c=this.w,h=document.createElement("span");h.classList.add("apexcharts-legend-marker");var d=c.config.legend.markers.shape||c.config.markers.shape,f=d;Array.isArray(d)&&(f=d[s]);var g=Array.isArray(c.config.legend.markers.size)?parseFloat(c.config.legend.markers.size[s]):parseFloat(c.config.legend.markers.size),y=Array.isArray(c.config.legend.markers.offsetX)?parseFloat(c.config.legend.markers.offsetX[s]):parseFloat(c.config.legend.markers.offsetX),b=Array.isArray(c.config.legend.markers.offsetY)?parseFloat(c.config.legend.markers.offsetY[s]):parseFloat(c.config.legend.markers.offsetY),S=Array.isArray(c.config.legend.markers.strokeWidth)?parseFloat(c.config.legend.markers.strokeWidth[s]):parseFloat(c.config.legend.markers.strokeWidth),_=h.style;if(_.height=2*(g+S)+"px",_.width=2*(g+S)+"px",_.left=y+"px",_.top=b+"px",c.config.legend.markers.customHTML)_.background="transparent",_.color=o[s],Array.isArray(c.config.legend.markers.customHTML)?c.config.legend.markers.customHTML[s]&&(h.innerHTML=c.config.legend.markers.customHTML[s]()):h.innerHTML=c.config.legend.markers.customHTML();else{var k=new ht(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(f),seriesIndex:s,strokeWidth:S,size:g}),C=SVG(h).size("100%","100%"),R=new te(this.ctx).drawMarker(0,0,r(r({},k),{},{pointFillColor:Array.isArray(c.config.legend.markers.fillColors)?o[s]:k.pointFillColor,shape:f}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach(function(O){O.node.classList.contains("apexcharts-marker-triangle")?O.node.style.transform="translate(50%, 45%)":O.node.style.transform="translate(50%, 50%)"}),C.add(R)}return h}},{key:"drawLegends",value:function(){var i=this,s=this.w,o=s.config.legend.fontFamily,c=s.globals.seriesNames,h=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var d=s.config.plotOptions.heatmap.colorScale.ranges;c=d.map(function(N){return N.name?N.name:N.from+" - "+N.to}),h=d.map(function(N){return N.color})}else this.isBarsDistributed&&(c=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(c=s.config.legend.customLegendItems);for(var f=s.globals.legendFormatter,g=s.config.legend.inverseOrder,y=g?c.length-1:0;g?y>=0:y<=c.length-1;g?y--:y++){var b,S=f(c[y],{seriesIndex:y,w:s}),_=!1,k=!1;if(s.globals.collapsedSeries.length>0)for(var C=0;C<s.globals.collapsedSeries.length;C++)s.globals.collapsedSeries[C].index===y&&(_=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var R=0;R<s.globals.ancillaryCollapsedSeriesIndices.length;R++)s.globals.ancillaryCollapsedSeriesIndices[R]===y&&(k=!0);var O=this.createLegendMarker({i:y,fillcolor:h});te.setAttrs(O,{rel:y+1,"data:collapsed":_||k}),(_||k)&&O.classList.add("apexcharts-inactive-legend");var F=document.createElement("div"),U=document.createElement("span");U.classList.add("apexcharts-legend-text"),U.innerHTML=Array.isArray(S)?S.join(" "):S;var v=s.config.legend.labels.useSeriesColors?s.globals.colors[y]:Array.isArray(s.config.legend.labels.colors)?(b=s.config.legend.labels.colors)===null||b===void 0?void 0:b[y]:s.config.legend.labels.colors;v||(v=s.config.chart.foreColor),U.style.color=v,U.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",U.style.fontWeight=s.config.legend.fontWeight,U.style.fontFamily=o||s.config.chart.fontFamily,te.setAttrs(U,{rel:y+1,i:y,"data:default-text":encodeURIComponent(S),"data:collapsed":_||k}),F.appendChild(O),F.appendChild(U);var E=new oe(this.ctx);s.config.legend.showForZeroSeries||E.getSeriesTotalByIndex(y)===0&&E.seriesHaveSameValues(y)&&!E.isSeriesNull(y)&&s.globals.collapsedSeriesIndices.indexOf(y)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&F.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||E.isSeriesNull(y)&&s.globals.collapsedSeriesIndices.indexOf(y)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&F.classList.add("apexcharts-hidden-null-series"),s.globals.dom.elLegendWrap.appendChild(F),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),F.classList.add("apexcharts-legend-series"),F.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",te.setAttrs(F,{rel:y+1,seriesName:L.escapeString(c[y]),"data:collapsed":_||k}),(_||k)&&F.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||F.classList.add("apexcharts-no-click")}s.globals.dom.elWrap.addEventListener("click",i.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",i.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",i.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(i,s){var o=this.w,c=o.globals.dom.elLegendWrap,h=c.getBoundingClientRect(),d=0,f=0;if(o.config.legend.position==="bottom")f+=o.globals.svgHeight-h.height/2;else if(o.config.legend.position==="top"){var g=new Ge(this.ctx),y=g.dimHelpers.getTitleSubtitleCoords("title").height,b=g.dimHelpers.getTitleSubtitleCoords("subtitle").height;f=f+(y>0?y-10:0)+(b>0?b-10:0)}c.style.position="absolute",d=d+i+o.config.legend.offsetX,f=f+s+o.config.legend.offsetY,c.style.left=d+"px",c.style.top=f+"px",o.config.legend.position==="bottom"?(c.style.top="auto",c.style.bottom=5-o.config.legend.offsetY+"px"):o.config.legend.position==="right"&&(c.style.left="auto",c.style.right=25+o.config.legend.offsetX+"px"),["width","height"].forEach(function(S){c.style[S]&&(c.style[S]=parseInt(o.config.legend[S],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var i=this.w;i.globals.dom.elLegendWrap.style.right=0;var s=this.legendHelpers.getLegendDimensions(),o=new Ge(this.ctx),c=o.dimHelpers.getTitleSubtitleCoords("title"),h=o.dimHelpers.getTitleSubtitleCoords("subtitle"),d=0;i.config.legend.position==="bottom"?d=-s.clwh/1.8:i.config.legend.position==="top"&&(d=c.height+h.height+i.config.title.margin+i.config.subtitle.margin-10),this.setLegendWrapXY(20,d)}},{key:"legendAlignVertical",value:function(){var i=this.w,s=this.legendHelpers.getLegendDimensions(),o=0;i.config.legend.position==="left"&&(o=20),i.config.legend.position==="right"&&(o=i.globals.svgWidth-s.clww-10),this.setLegendWrapXY(o,20)}},{key:"onLegendHovered",value:function(i){var s=this.w,o=i.target.classList.contains("apexcharts-legend-series")||i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker");if(s.config.chart.type==="heatmap"||this.isBarsDistributed){if(o){var c=parseInt(i.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,c,this.w]),new Ne(this.ctx).highlightRangeInSeries(i,i.target)}}else!i.target.classList.contains("apexcharts-inactive-legend")&&o&&new Ne(this.ctx).toggleSeriesOnHover(i,i.target)}},{key:"onLegendClick",value:function(i){var s=this.w;if(!s.config.legend.customLegendItems.length&&(i.target.classList.contains("apexcharts-legend-series")||i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker"))){var o=parseInt(i.target.getAttribute("rel"),10)-1,c=i.target.getAttribute("data:collapsed")==="true",h=this.w.config.chart.events.legendClick;typeof h=="function"&&h(this.ctx,o,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,o,this.w]);var d=this.w.config.legend.markers.onClick;typeof d=="function"&&i.target.classList.contains("apexcharts-legend-marker")&&(d(this.ctx,o,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,o,this.w])),s.config.chart.type!=="treemap"&&s.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&s.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(o,c)}}}]),V}(),un=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w;var s=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=s.globals.minX,this.maxX=s.globals.maxX}return p(V,[{key:"createToolbar",value:function(){var i=this,s=this.w,o=function(){return document.createElement("div")},c=o();if(c.setAttribute("class","apexcharts-toolbar"),c.style.top=s.config.chart.toolbar.offsetY+"px",c.style.right=3-s.config.chart.toolbar.offsetX+"px",s.globals.dom.elWrap.appendChild(c),this.elZoom=o(),this.elZoomIn=o(),this.elZoomOut=o(),this.elPan=o(),this.elSelection=o(),this.elZoomReset=o(),this.elMenuIcon=o(),this.elMenu=o(),this.elCustomIcons=[],this.t=s.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons.push(o());var d=[],f=function(S,_,k){var C=S.toLowerCase();i.t[C]&&s.config.chart.zoom.enabled&&d.push({el:_,icon:typeof i.t[C]=="string"?i.t[C]:k,title:i.localeValues[S],class:"apexcharts-".concat(C,"-icon")})};f("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),f("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var g=function(S){i.t[S]&&s.config.chart[S].enabled&&d.push({el:S==="zoom"?i.elZoom:i.elSelection,icon:typeof i.t[S]=="string"?i.t[S]:S==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:i.localeValues[S==="zoom"?"selectionZoom":"selection"],class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(S,"-icon")})};g("zoom"),g("selection"),this.t.pan&&s.config.chart.zoom.enabled&&d.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),f("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&d.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var y=0;y<this.elCustomIcons.length;y++)d.push({el:this.elCustomIcons[y],icon:this.t.customIcons[y].icon,title:this.t.customIcons[y].title,index:this.t.customIcons[y].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[y].class});d.forEach(function(S,_){S.index&&L.moveIndexInArray(d,_,S.index)});for(var b=0;b<d.length;b++)te.setAttrs(d[b].el,{class:d[b].class,title:d[b].title}),d[b].el.innerHTML=d[b].icon,c.appendChild(d[b].el);this._createHamburgerMenu(c),s.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):s.globals.panEnabled?this.elPan.classList.add(this.selectedClass):s.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(i){this.elMenuItems=[],i.appendChild(this.elMenu),te.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var s=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],o=0;o<s.length;o++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[o].innerHTML=s[o].title,te.setAttrs(this.elMenuItems[o],{class:"apexcharts-menu-item ".concat(s[o].name),title:s[o].title}),this.elMenu.appendChild(this.elMenuItems[o])}},{key:"addToolbarEventListeners",value:function(){var i=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(o){o.classList.contains("exportSVG")?o.addEventListener("click",i.handleDownload.bind(i,"svg")):o.classList.contains("exportPNG")?o.addEventListener("click",i.handleDownload.bind(i,"png")):o.classList.contains("exportCSV")&&o.addEventListener("click",i.handleDownload.bind(i,"csv"))});for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons[s].addEventListener("click",this.t.customIcons[s].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(i){this.ctx.getSyncedCharts().forEach(function(s){s.ctx.toolbar.toggleOtherControls();var o=i==="selection"?s.ctx.toolbar.elSelection:s.ctx.toolbar.elZoom,c=i==="selection"?"selectionEnabled":"zoomEnabled";s.w.globals[c]=!s.w.globals[c],o.classList.contains(s.ctx.toolbar.selectedClass)?o.classList.remove(s.ctx.toolbar.selectedClass):o.classList.add(s.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var i=this.w;this.elZoom||(this.elZoom=i.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=i.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=i.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(i){this.toggleOtherControls(),i==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var s=i==="pan"?this.elPan:this.elZoom,o=i==="pan"?this.elZoom:this.elPan;s&&s.classList.add(this.selectedClass),o&&o.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls(),i.w.globals.panEnabled=!i.w.globals.panEnabled,i.ctx.toolbar.elPan.classList.contains(i.ctx.toolbar.selectedClass)?i.ctx.toolbar.elPan.classList.remove(i.ctx.toolbar.selectedClass):i.ctx.toolbar.elPan.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var i=this,s=this.w;s.globals.panEnabled=!1,s.globals.zoomEnabled=!1,s.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(o){o&&o.classList.remove(i.selectedClass)})}},{key:"handleZoomIn",value:function(){var i=this.w;i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY);var s=(this.minX+this.maxX)/2,o=(this.minX+s)/2,c=(this.maxX+s)/2,h=this._getNewMinXMaxX(o,c);i.globals.disableZoomIn||this.zoomUpdateOptions(h.minX,h.maxX)}},{key:"handleZoomOut",value:function(){var i=this.w;if(i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY),!(i.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var s=(this.minX+this.maxX)/2,o=this.minX-(s-this.minX),c=this.maxX-(s-this.maxX),h=this._getNewMinXMaxX(o,c);i.globals.disableZoomOut||this.zoomUpdateOptions(h.minX,h.maxX)}}},{key:"_getNewMinXMaxX",value:function(i,s){var o=this.w.config.xaxis.convertedCatToNumeric;return{minX:o?Math.floor(i):i,maxX:o?Math.floor(s):s}}},{key:"zoomUpdateOptions",value:function(i,s){var o=this.w;if(i!==void 0||s!==void 0){if(!(o.config.xaxis.convertedCatToNumeric&&(i<1&&(i=1,s=o.globals.dataPoints),s-i<2))){var c={min:i,max:s},h=this.getBeforeZoomRange(c);h&&(c=h.xaxis);var d={xaxis:c},f=L.clone(o.globals.initialConfig.yaxis);o.config.chart.group||(d.yaxis=f),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(d,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(c,f)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(i,s){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:i,yaxis:s})}},{key:"getBeforeZoomRange",value:function(i,s){var o=null;return typeof this.ev.beforeZoom=="function"&&(o=this.ev.beforeZoom(this,{xaxis:i,yaxis:s})),o}},{key:"toggleMenu",value:function(){var i=this;window.setTimeout(function(){i.elMenu.classList.contains("apexcharts-menu-open")?i.elMenu.classList.remove("apexcharts-menu-open"):i.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(i){var s=this.w,o=new kt(this.ctx);switch(i){case"svg":o.exportToSVG(this.ctx);break;case"png":o.exportToPng(this.ctx);break;case"csv":o.exportToCSV({series:s.config.series,columnDelimiter:s.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(i){this.ctx.getSyncedCharts().forEach(function(s){var o=s.w;if(o.globals.lastXAxis.min=o.globals.initialConfig.xaxis.min,o.globals.lastXAxis.max=o.globals.initialConfig.xaxis.max,s.updateHelpers.revertDefaultAxisMinMax(),typeof o.config.chart.events.beforeResetZoom=="function"){var c=o.config.chart.events.beforeResetZoom(s,o);c&&s.updateHelpers.revertDefaultAxisMinMax(c)}typeof o.config.chart.events.zoomed=="function"&&s.ctx.toolbar.zoomCallback({min:o.config.xaxis.min,max:o.config.xaxis.max}),o.globals.zoomed=!1;var h=s.ctx.series.emptyCollapsedSeries(L.clone(o.globals.initialSeries));s.updateHelpers._updateSeries(h,o.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),V}(),Mi=function(V){w(s,un);var i=z(s);function s(o){var c;return l(this,s),(c=i.call(this,o)).ctx=o,c.w=o.w,c.dragged=!1,c.graphics=new te(c.ctx),c.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],c.clientX=0,c.clientY=0,c.startX=0,c.endX=0,c.dragX=0,c.startY=0,c.endY=0,c.dragY=0,c.moveDirection="none",c}return p(s,[{key:"init",value:function(o){var c=this,h=o.xyRatios,d=this.w,f=this;this.xyRatios=h,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=d.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),d.globals.dom.elGraphical.add(this.zoomRect),d.globals.dom.elGraphical.add(this.selectionRect),d.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:d.globals.gridWidth,maxY:d.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):d.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:d.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=d.globals.dom.baseEl.querySelector("".concat(d.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(g){c.hoverArea.addEventListener(g,f.svgMouseEvents.bind(f,h),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(o,c){var h=this.w,d=this,f=this.ctx.toolbar,g=h.globals.zoomEnabled?h.config.chart.zoom.type:h.config.chart.selection.type,y=h.config.chart.toolbar.autoSelected;if(c.shiftKey?(this.shiftWasPressed=!0,f.enableZoomPanFromToolbar(y==="pan"?"zoom":"pan")):this.shiftWasPressed&&(f.enableZoomPanFromToolbar(y),this.shiftWasPressed=!1),c.target){var b,S=c.target.classList;if(c.target.parentNode&&c.target.parentNode!==null&&(b=c.target.parentNode.classList),!(S.contains("apexcharts-selection-rect")||S.contains("apexcharts-legend-marker")||S.contains("apexcharts-legend-text")||b&&b.contains("apexcharts-toolbar"))){if(d.clientX=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientX:c.type==="touchend"?c.changedTouches[0].clientX:c.clientX,d.clientY=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientY:c.type==="touchend"?c.changedTouches[0].clientY:c.clientY,c.type==="mousedown"&&c.which===1){var _=d.gridRect.getBoundingClientRect();d.startX=d.clientX-_.left,d.startY=d.clientY-_.top,d.dragged=!1,d.w.globals.mousedown=!0}if((c.type==="mousemove"&&c.which===1||c.type==="touchmove")&&(d.dragged=!0,h.globals.panEnabled?(h.globals.selection=null,d.w.globals.mousedown&&d.panDragging({context:d,zoomtype:g,xyRatios:o})):(d.w.globals.mousedown&&h.globals.zoomEnabled||d.w.globals.mousedown&&h.globals.selectionEnabled)&&(d.selection=d.selectionDrawing({context:d,zoomtype:g}))),c.type==="mouseup"||c.type==="touchend"||c.type==="mouseleave"){var k=d.gridRect.getBoundingClientRect();d.w.globals.mousedown&&(d.endX=d.clientX-k.left,d.endY=d.clientY-k.top,d.dragX=Math.abs(d.endX-d.startX),d.dragY=Math.abs(d.endY-d.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&d.selectionDrawn({context:d,zoomtype:g}),h.globals.panEnabled&&h.config.xaxis.convertedCatToNumeric&&d.delayedPanScrolled()),h.globals.zoomEnabled&&d.hideSelectionRect(this.selectionRect),d.dragged=!1,d.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var o=this.w;if(this.selectionRect){var c=this.selectionRect.node.getBoundingClientRect();c.width>0&&c.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var o=this.w,c=this.xyRatios;if(!o.globals.zoomEnabled){if(o.globals.selection!==void 0&&o.globals.selection!==null)this.drawSelectionRect(o.globals.selection);else if(o.config.chart.selection.xaxis.min!==void 0&&o.config.chart.selection.xaxis.max!==void 0){var h=(o.config.chart.selection.xaxis.min-o.globals.minX)/c.xRatio,d=o.globals.gridWidth-(o.globals.maxX-o.config.chart.selection.xaxis.max)/c.xRatio-h;o.globals.isRangeBar&&(h=(o.config.chart.selection.xaxis.min-o.globals.yAxisScale[0].niceMin)/c.invertedYRatio,d=(o.config.chart.selection.xaxis.max-o.config.chart.selection.xaxis.min)/c.invertedYRatio);var f={x:h,y:0,width:d,height:o.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(f),this.makeSelectionRectDraggable(),typeof o.config.chart.events.selection=="function"&&o.config.chart.events.selection(this.ctx,{xaxis:{min:o.config.chart.selection.xaxis.min,max:o.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(o){var c=o.x,h=o.y,d=o.width,f=o.height,g=o.translateX,y=g===void 0?0:g,b=o.translateY,S=b===void 0?0:b,_=this.w,k=this.zoomRect,C=this.selectionRect;if(this.dragged||_.globals.selection!==null){var R={transform:"translate("+y+", "+S+")"};_.globals.zoomEnabled&&this.dragged&&(d<0&&(d=1),k.attr({x:c,y:h,width:d,height:f,fill:_.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":_.config.chart.zoom.zoomedArea.fill.opacity,stroke:_.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":_.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":_.config.chart.zoom.zoomedArea.stroke.opacity}),te.setAttrs(k.node,R)),_.globals.selectionEnabled&&(C.attr({x:c,y:h,width:d>0?d:0,height:f>0?f:0,fill:_.config.chart.selection.fill.color,"fill-opacity":_.config.chart.selection.fill.opacity,stroke:_.config.chart.selection.stroke.color,"stroke-width":_.config.chart.selection.stroke.width,"stroke-dasharray":_.config.chart.selection.stroke.dashArray,"stroke-opacity":_.config.chart.selection.stroke.opacity}),te.setAttrs(C.node,R))}}},{key:"hideSelectionRect",value:function(o){o&&o.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(o){var c=o.context,h=o.zoomtype,d=this.w,f=c,g=this.gridRect.getBoundingClientRect(),y=f.startX-1,b=f.startY,S=!1,_=!1,k=f.clientX-g.left-y,C=f.clientY-g.top-b,R={};return Math.abs(k+y)>d.globals.gridWidth?k=d.globals.gridWidth-y:f.clientX-g.left<0&&(k=y),y>f.clientX-g.left&&(S=!0,k=Math.abs(k)),b>f.clientY-g.top&&(_=!0,C=Math.abs(C)),R=h==="x"?{x:S?y-k:y,y:0,width:k,height:d.globals.gridHeight}:h==="y"?{x:0,y:_?b-C:b,width:d.globals.gridWidth,height:C}:{x:S?y-k:y,y:_?b-C:b,width:k,height:C},f.drawSelectionRect(R),f.selectionDragging("resizing"),R}},{key:"selectionDragging",value:function(o,c){var h=this,d=this.w,f=this.xyRatios,g=this.selectionRect,y=0;o==="resizing"&&(y=30);var b=function(_){return parseFloat(g.node.getAttribute(_))},S={x:b("x"),y:b("y"),width:b("width"),height:b("height")};d.globals.selection=S,typeof d.config.chart.events.selection=="function"&&d.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var _,k,C,R,O=h.gridRect.getBoundingClientRect(),F=g.node.getBoundingClientRect();d.globals.isRangeBar?(_=d.globals.yAxisScale[0].niceMin+(F.left-O.left)*f.invertedYRatio,k=d.globals.yAxisScale[0].niceMin+(F.right-O.left)*f.invertedYRatio,C=0,R=1):(_=d.globals.xAxisScale.niceMin+(F.left-O.left)*f.xRatio,k=d.globals.xAxisScale.niceMin+(F.right-O.left)*f.xRatio,C=d.globals.yAxisScale[0].niceMin+(O.bottom-F.bottom)*f.yRatio[0],R=d.globals.yAxisScale[0].niceMax-(F.top-O.top)*f.yRatio[0]);var U={xaxis:{min:_,max:k},yaxis:{min:C,max:R}};d.config.chart.events.selection(h.ctx,U),d.config.chart.brush.enabled&&d.config.chart.events.brushScrolled!==void 0&&d.config.chart.events.brushScrolled(h.ctx,U)},y))}},{key:"selectionDrawn",value:function(o){var c=o.context,h=o.zoomtype,d=this.w,f=c,g=this.xyRatios,y=this.ctx.toolbar;if(f.startX>f.endX){var b=f.startX;f.startX=f.endX,f.endX=b}if(f.startY>f.endY){var S=f.startY;f.startY=f.endY,f.endY=S}var _=void 0,k=void 0;d.globals.isRangeBar?(_=d.globals.yAxisScale[0].niceMin+f.startX*g.invertedYRatio,k=d.globals.yAxisScale[0].niceMin+f.endX*g.invertedYRatio):(_=d.globals.xAxisScale.niceMin+f.startX*g.xRatio,k=d.globals.xAxisScale.niceMin+f.endX*g.xRatio);var C=[],R=[];if(d.config.yaxis.forEach(function(H,B){var G=d.globals.seriesYAxisMap[B][0];C.push(d.globals.yAxisScale[B].niceMax-g.yRatio[G]*f.startY),R.push(d.globals.yAxisScale[B].niceMax-g.yRatio[G]*f.endY)}),f.dragged&&(f.dragX>10||f.dragY>10)&&_!==k){if(d.globals.zoomEnabled){var O=L.clone(d.globals.initialConfig.yaxis),F=L.clone(d.globals.initialConfig.xaxis);if(d.globals.zoomed=!0,d.config.xaxis.convertedCatToNumeric&&(_=Math.floor(_),k=Math.floor(k),_<1&&(_=1,k=d.globals.dataPoints),k-_<2&&(k=_+1)),h!=="xy"&&h!=="x"||(F={min:_,max:k}),h!=="xy"&&h!=="y"||O.forEach(function(H,B){O[B].min=R[B],O[B].max=C[B]}),y){var U=y.getBeforeZoomRange(F,O);U&&(F=U.xaxis?U.xaxis:F,O=U.yaxis?U.yaxis:O)}var v={xaxis:F};d.config.chart.group||(v.yaxis=O),f.ctx.updateHelpers._updateOptions(v,!1,f.w.config.chart.animations.dynamicAnimation.enabled),typeof d.config.chart.events.zoomed=="function"&&y.zoomCallback(F,O)}else if(d.globals.selectionEnabled){var E,N=null;E={min:_,max:k},h!=="xy"&&h!=="y"||(N=L.clone(d.config.yaxis)).forEach(function(H,B){N[B].min=R[B],N[B].max=C[B]}),d.globals.selection=f.selection,typeof d.config.chart.events.selection=="function"&&d.config.chart.events.selection(f.ctx,{xaxis:E,yaxis:N})}}}},{key:"panDragging",value:function(o){var c=o.context,h=this.w,d=c;if(h.globals.lastClientPosition.x!==void 0){var f=h.globals.lastClientPosition.x-d.clientX,g=h.globals.lastClientPosition.y-d.clientY;Math.abs(f)>Math.abs(g)&&f>0?this.moveDirection="left":Math.abs(f)>Math.abs(g)&&f<0?this.moveDirection="right":Math.abs(g)>Math.abs(f)&&g>0?this.moveDirection="up":Math.abs(g)>Math.abs(f)&&g<0&&(this.moveDirection="down")}h.globals.lastClientPosition={x:d.clientX,y:d.clientY};var y=h.globals.isRangeBar?h.globals.minY:h.globals.minX,b=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;h.config.xaxis.convertedCatToNumeric||d.panScrolled(y,b)}},{key:"delayedPanScrolled",value:function(){var o=this.w,c=o.globals.minX,h=o.globals.maxX,d=(o.globals.maxX-o.globals.minX)/2;this.moveDirection==="left"?(c=o.globals.minX+d,h=o.globals.maxX+d):this.moveDirection==="right"&&(c=o.globals.minX-d,h=o.globals.maxX-d),c=Math.floor(c),h=Math.floor(h),this.updateScrolledChart({xaxis:{min:c,max:h}},c,h)}},{key:"panScrolled",value:function(o,c){var h=this.w,d=this.xyRatios,f=L.clone(h.globals.initialConfig.yaxis),g=d.xRatio,y=h.globals.minX,b=h.globals.maxX;h.globals.isRangeBar&&(g=d.invertedYRatio,y=h.globals.minY,b=h.globals.maxY),this.moveDirection==="left"?(o=y+h.globals.gridWidth/15*g,c=b+h.globals.gridWidth/15*g):this.moveDirection==="right"&&(o=y-h.globals.gridWidth/15*g,c=b-h.globals.gridWidth/15*g),h.globals.isRangeBar||(o<h.globals.initialMinX||c>h.globals.initialMaxX)&&(o=y,c=b);var S={xaxis:{min:o,max:c}};h.config.chart.group||(S.yaxis=f),this.updateScrolledChart(S,o,c)}},{key:"updateScrolledChart",value:function(o,c,h){var d=this.w;this.ctx.updateHelpers._updateOptions(o,!1,!1),typeof d.config.chart.events.scrolled=="function"&&d.config.chart.events.scrolled(this.ctx,{xaxis:{min:c,max:h}})}}]),s}(),kn=function(){function V(i){l(this,V),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx}return p(V,[{key:"getNearestValues",value:function(i){var s=i.hoverArea,o=i.elGrid,c=i.clientX,h=i.clientY,d=this.w,f=o.getBoundingClientRect(),g=f.width,y=f.height,b=g/(d.globals.dataPoints-1),S=y/d.globals.dataPoints,_=this.hasBars();!d.globals.comboCharts&&!_||d.config.xaxis.convertedCatToNumeric||(b=g/d.globals.dataPoints);var k=c-f.left-d.globals.barPadForNumericAxis,C=h-f.top;k<0||C<0||k>g||C>y?(s.classList.remove("hovering-zoom"),s.classList.remove("hovering-pan")):d.globals.zoomEnabled?(s.classList.remove("hovering-pan"),s.classList.add("hovering-zoom")):d.globals.panEnabled&&(s.classList.remove("hovering-zoom"),s.classList.add("hovering-pan"));var R=Math.round(k/b),O=Math.floor(C/S);_&&!d.config.xaxis.convertedCatToNumeric&&(R=Math.ceil(k/b),R-=1);var F=null,U=null,v=d.globals.seriesXvalues.map(function(G){return G.filter(function(ae){return L.isNumber(ae)})}),E=d.globals.seriesYvalues.map(function(G){return G.filter(function(ae){return L.isNumber(ae)})});if(d.globals.isXNumeric){var N=this.ttCtx.getElGrid().getBoundingClientRect(),H=k*(N.width/g),B=C*(N.height/y);F=(U=this.closestInMultiArray(H,B,v,E)).index,R=U.j,F!==null&&(v=d.globals.seriesXvalues[F],R=(U=this.closestInArray(H,v)).index)}return d.globals.capturedSeriesIndex=F===null?-1:F,(!R||R<1)&&(R=0),d.globals.isBarHorizontal?d.globals.capturedDataPointIndex=O:d.globals.capturedDataPointIndex=R,{capturedSeries:F,j:d.globals.isBarHorizontal?O:R,hoverX:k,hoverY:C}}},{key:"closestInMultiArray",value:function(i,s,o,c){var h=this.w,d=0,f=null,g=-1;h.globals.series.length>1?d=this.getFirstActiveXArray(o):f=0;var y=o[d][0],b=Math.abs(i-y);if(o.forEach(function(k){k.forEach(function(C,R){var O=Math.abs(i-C);O<=b&&(b=O,g=R)})}),g!==-1){var S=c[d][g],_=Math.abs(s-S);f=d,c.forEach(function(k,C){var R=Math.abs(s-k[g]);R<=_&&(_=R,f=C)})}return{index:f,j:g}}},{key:"getFirstActiveXArray",value:function(i){for(var s=this.w,o=0,c=i.map(function(d,f){return d.length>0?f:-1}),h=0;h<c.length;h++)if(c[h]!==-1&&s.globals.collapsedSeriesIndices.indexOf(h)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(h)===-1){o=c[h];break}return o}},{key:"closestInArray",value:function(i,s){for(var o=s[0],c=null,h=Math.abs(i-o),d=0;d<s.length;d++){var f=Math.abs(i-s[d]);f<h&&(h=f,c=d)}return{index:c}}},{key:"isXoverlap",value:function(i){var s=[],o=this.w.globals.seriesX.filter(function(h){return h[0]!==void 0});if(o.length>0)for(var c=0;c<o.length-1;c++)o[c][i]!==void 0&&o[c+1][i]!==void 0&&o[c][i]!==o[c+1][i]&&s.push("unEqual");return s.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var i=!0,s=this.w.globals.initialSeries,o=0;o<s.length-1;o++)if(s[o].data.length!==s[o+1].data.length){i=!1;break}return i}},{key:"getBarsHeight",value:function(i){return q(i).reduce(function(s,o){return s+o.getBBox().height},0)}},{key:"getElMarkers",value:function(i){return typeof i=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(i=q(i)).sort(function(o,c){var h=Number(o.getAttribute("data:realIndex")),d=Number(c.getAttribute("data:realIndex"));return d<h?1:d>h?-1:0});var s=[];return i.forEach(function(o){s.push(o.querySelector(".apexcharts-marker"))}),s}},{key:"hasMarkers",value:function(i){return this.getElMarkers(i).length>0}},{key:"getPathFromPoint",value:function(i,s){var o=Number(i.getAttribute("cx")),c=Number(i.getAttribute("cy")),h=i.getAttribute("shape");return new te(this.ctx).getMarkerPath(o,c,h,s)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(i){var s=this.w,o=s.config.markers.hover.size;return o===void 0&&(o=s.globals.markers.size[i]+s.config.markers.hover.sizeOffset),o}},{key:"toggleAllTooltipSeriesGroups",value:function(i){var s=this.w,o=this.ttCtx;o.allTooltipSeriesGroups.length===0&&(o.allTooltipSeriesGroups=s.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var c=o.allTooltipSeriesGroups,h=0;h<c.length;h++)i==="enable"?(c[h].classList.add("apexcharts-active"),c[h].style.display=s.config.tooltip.items.display):(c[h].classList.remove("apexcharts-active"),c[h].style.display="none")}}]),V}(),Ws=function(){function V(i){l(this,V),this.w=i.w,this.ctx=i.ctx,this.ttCtx=i,this.tooltipUtil=new kn(i)}return p(V,[{key:"drawSeriesTexts",value:function(i){var s=i.shared,o=s===void 0||s,c=i.ttItems,h=i.i,d=h===void 0?0:h,f=i.j,g=f===void 0?null:f,y=i.y1,b=i.y2,S=i.e,_=this.w;_.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:d,j:g,y1:y,y2:b,w:_}):this.toggleActiveInactiveSeries(o);var k=this.getValuesToPrint({i:d,j:g});this.printLabels({i:d,j:g,values:k,ttItems:c,shared:o,e:S});var C=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=C.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=C.getBoundingClientRect().height}},{key:"printLabels",value:function(i){var s,o=this,c=i.i,h=i.j,d=i.values,f=i.ttItems,g=i.shared,y=i.e,b=this.w,S=[],_=function(N){return b.globals.seriesGoals[N]&&b.globals.seriesGoals[N][h]&&Array.isArray(b.globals.seriesGoals[N][h])},k=d.xVal,C=d.zVal,R=d.xAxisTTVal,O="",F=b.globals.colors[c];h!==null&&b.config.plotOptions.bar.distributed&&(F=b.globals.colors[h]);for(var U=function(N,H){var B=o.getFormatters(c);O=o.getSeriesName({fn:B.yLbTitleFormatter,index:c,seriesIndex:c,j:h}),b.config.chart.type==="treemap"&&(O=B.yLbTitleFormatter(String(b.config.series[c].data[h].x),{series:b.globals.series,seriesIndex:c,dataPointIndex:h,w:b}));var G=b.config.tooltip.inverseOrder?H:N;if(b.globals.axisCharts){var ae=function(fe){var he,ve,Te,Me;return b.globals.isRangeData?B.yLbFormatter((he=b.globals.seriesRangeStart)===null||he===void 0||(ve=he[fe])===null||ve===void 0?void 0:ve[h],{series:b.globals.seriesRangeStart,seriesIndex:fe,dataPointIndex:h,w:b})+" - "+B.yLbFormatter((Te=b.globals.seriesRangeEnd)===null||Te===void 0||(Me=Te[fe])===null||Me===void 0?void 0:Me[h],{series:b.globals.seriesRangeEnd,seriesIndex:fe,dataPointIndex:h,w:b}):B.yLbFormatter(b.globals.series[fe][h],{series:b.globals.series,seriesIndex:fe,dataPointIndex:h,w:b})};if(g)B=o.getFormatters(G),O=o.getSeriesName({fn:B.yLbTitleFormatter,index:G,seriesIndex:c,j:h}),F=b.globals.colors[G],s=ae(G),_(G)&&(S=b.globals.seriesGoals[G][h].map(function(fe){return{attrs:fe,val:B.yLbFormatter(fe.value,{seriesIndex:G,dataPointIndex:h,w:b})}}));else{var se,ge=y==null||(se=y.target)===null||se===void 0?void 0:se.getAttribute("fill");ge&&(F=ge.indexOf("url")!==-1?document.querySelector(ge.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):ge),s=ae(c),_(c)&&Array.isArray(b.globals.seriesGoals[c][h])&&(S=b.globals.seriesGoals[c][h].map(function(fe){return{attrs:fe,val:B.yLbFormatter(fe.value,{seriesIndex:c,dataPointIndex:h,w:b})}}))}}h===null&&(s=B.yLbFormatter(b.globals.series[c],r(r({},b),{},{seriesIndex:c,dataPointIndex:c}))),o.DOMHandling({i:c,t:G,j:h,ttItems:f,values:{val:s,goalVals:S,xVal:k,xAxisTTVal:R,zVal:C},seriesName:O,shared:g,pColor:F})},v=0,E=b.globals.series.length-1;v<b.globals.series.length;v++,E--)U(v,E)}},{key:"getFormatters",value:function(i){var s,o=this.w,c=o.globals.yLabelFormatters[i];return o.globals.ttVal!==void 0?Array.isArray(o.globals.ttVal)?(c=o.globals.ttVal[i]&&o.globals.ttVal[i].formatter,s=o.globals.ttVal[i]&&o.globals.ttVal[i].title&&o.globals.ttVal[i].title.formatter):(c=o.globals.ttVal.formatter,typeof o.globals.ttVal.title.formatter=="function"&&(s=o.globals.ttVal.title.formatter)):s=o.config.tooltip.y.title.formatter,typeof c!="function"&&(c=o.globals.yLabelFormatters[0]?o.globals.yLabelFormatters[0]:function(h){return h}),typeof s!="function"&&(s=function(h){return h}),{yLbFormatter:c,yLbTitleFormatter:s}}},{key:"getSeriesName",value:function(i){var s=i.fn,o=i.index,c=i.seriesIndex,h=i.j,d=this.w;return s(String(d.globals.seriesNames[o]),{series:d.globals.series,seriesIndex:c,dataPointIndex:h,w:d})}},{key:"DOMHandling",value:function(i){i.i;var s=i.t,o=i.j,c=i.ttItems,h=i.values,d=i.seriesName,f=i.shared,g=i.pColor,y=this.w,b=this.ttCtx,S=h.val,_=h.goalVals,k=h.xVal,C=h.xAxisTTVal,R=h.zVal,O=null;O=c[s].children,y.config.tooltip.fillSeriesColor&&(c[s].style.backgroundColor=g,O[0].style.display="none"),b.showTooltipTitle&&(b.tooltipTitle===null&&(b.tooltipTitle=y.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),b.tooltipTitle.innerHTML=k),b.isXAxisTooltipEnabled&&(b.xaxisTooltipText.innerHTML=C!==""?C:k);var F=c[s].querySelector(".apexcharts-tooltip-text-y-label");F&&(F.innerHTML=d||"");var U=c[s].querySelector(".apexcharts-tooltip-text-y-value");U&&(U.innerHTML=S!==void 0?S:""),O[0]&&O[0].classList.contains("apexcharts-tooltip-marker")&&(y.config.tooltip.marker.fillColors&&Array.isArray(y.config.tooltip.marker.fillColors)&&(g=y.config.tooltip.marker.fillColors[s]),O[0].style.backgroundColor=g),y.config.tooltip.marker.show||(O[0].style.display="none");var v=c[s].querySelector(".apexcharts-tooltip-text-goals-label"),E=c[s].querySelector(".apexcharts-tooltip-text-goals-value");if(_.length&&y.globals.seriesGoals[s]){var N=function(){var G="<div >",ae="<div>";_.forEach(function(se,ge){G+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(se.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(se.attrs.name,"</div>"),ae+="<div>".concat(se.val,"</div>")}),v.innerHTML=G+"</div>",E.innerHTML=ae+"</div>"};f?y.globals.seriesGoals[s][o]&&Array.isArray(y.globals.seriesGoals[s][o])?N():(v.innerHTML="",E.innerHTML=""):N()}else v.innerHTML="",E.innerHTML="";if(R!==null&&(c[s].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=y.config.tooltip.z.title,c[s].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=R!==void 0?R:""),f&&O[0]){if(y.config.tooltip.hideEmptySeries){var H=c[s].querySelector(".apexcharts-tooltip-marker"),B=c[s].querySelector(".apexcharts-tooltip-text");parseFloat(S)==0?(H.style.display="none",B.style.display="none"):(H.style.display="block",B.style.display="block")}S==null||y.globals.ancillaryCollapsedSeriesIndices.indexOf(s)>-1||y.globals.collapsedSeriesIndices.indexOf(s)>-1?O[0].parentNode.style.display="none":O[0].parentNode.style.display=y.config.tooltip.items.display}}},{key:"toggleActiveInactiveSeries",value:function(i){var s=this.w;if(i)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var o=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");o&&(o.classList.add("apexcharts-active"),o.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(i){var s=i.i,o=i.j,c=this.w,h=this.ctx.series.filteredSeriesX(),d="",f="",g=null,y=null,b={series:c.globals.series,seriesIndex:s,dataPointIndex:o,w:c},S=c.globals.ttZFormatter;o===null?y=c.globals.series[s]:c.globals.isXNumeric&&c.config.chart.type!=="treemap"?(d=h[s][o],h[s].length===0&&(d=h[this.tooltipUtil.getFirstActiveXArray(h)][o])):d=c.globals.labels[o]!==void 0?c.globals.labels[o]:"";var _=d;return c.globals.isXNumeric&&c.config.xaxis.type==="datetime"?d=new ee(this.ctx).xLabelFormat(c.globals.ttKeyFormatter,_,_,{i:void 0,dateFormatter:new Y(this.ctx).formatDate,w:this.w}):d=c.globals.isBarHorizontal?c.globals.yLabelFormatters[0](_,b):c.globals.xLabelFormatter(_,b),c.config.tooltip.x.formatter!==void 0&&(d=c.globals.ttKeyFormatter(_,b)),c.globals.seriesZ.length>0&&c.globals.seriesZ[s].length>0&&(g=S(c.globals.seriesZ[s][o],c)),f=typeof c.config.xaxis.tooltip.formatter=="function"?c.globals.xaxisTooltipFormatter(_,b):d,{val:Array.isArray(y)?y.join(" "):y,xVal:Array.isArray(d)?d.join(" "):d,xAxisTTVal:Array.isArray(f)?f.join(" "):f,zVal:g}}},{key:"handleCustomTooltip",value:function(i){var s=i.i,o=i.j,c=i.y1,h=i.y2,d=i.w,f=this.ttCtx.getElTooltip(),g=d.config.tooltip.custom;Array.isArray(g)&&g[s]&&(g=g[s]),f.innerHTML=g({ctx:this.ctx,series:d.globals.series,seriesIndex:s,dataPointIndex:o,y1:c,y2:h,w:d})}}]),V}(),qr=function(){function V(i){l(this,V),this.ttCtx=i,this.ctx=i.ctx,this.w=i.w}return p(V,[{key:"moveXCrosshairs",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.ttCtx,c=this.w,h=o.getElXCrosshairs(),d=i-o.xcrosshairsWidth/2,f=c.globals.labels.slice().length;if(s!==null&&(d=c.globals.gridWidth/f*s),h===null||c.globals.isBarHorizontal||(h.setAttribute("x",d),h.setAttribute("x1",d),h.setAttribute("x2",d),h.setAttribute("y2",c.globals.gridHeight),h.classList.add("apexcharts-active")),d<0&&(d=0),d>c.globals.gridWidth&&(d=c.globals.gridWidth),o.isXAxisTooltipEnabled){var g=d;c.config.xaxis.crosshairs.width!=="tickWidth"&&c.config.xaxis.crosshairs.width!=="barWidth"||(g=d+o.xcrosshairsWidth/2),this.moveXAxisTooltip(g)}}},{key:"moveYCrosshairs",value:function(i){var s=this.ttCtx;s.ycrosshairs!==null&&te.setAttrs(s.ycrosshairs,{y1:i,y2:i}),s.ycrosshairsHidden!==null&&te.setAttrs(s.ycrosshairsHidden,{y1:i,y2:i})}},{key:"moveXAxisTooltip",value:function(i){var s=this.w,o=this.ttCtx;if(o.xaxisTooltip!==null&&o.xcrosshairsWidth!==0){o.xaxisTooltip.classList.add("apexcharts-active");var c=o.xaxisOffY+s.config.xaxis.tooltip.offsetY+s.globals.translateY+1+s.config.xaxis.offsetY;if(i-=o.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(i)){i+=s.globals.translateX;var h;h=new te(this.ctx).getTextRects(o.xaxisTooltipText.innerHTML),o.xaxisTooltipText.style.minWidth=h.width+"px",o.xaxisTooltip.style.left=i+"px",o.xaxisTooltip.style.top=c+"px"}}}},{key:"moveYAxisTooltip",value:function(i){var s=this.w,o=this.ttCtx;o.yaxisTTEls===null&&(o.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var c=parseInt(o.ycrosshairsHidden.getAttribute("y1"),10),h=s.globals.translateY+c,d=o.yaxisTTEls[i].getBoundingClientRect().height,f=s.globals.translateYAxisX[i]-2;s.config.yaxis[i].opposite&&(f-=26),h-=d/2,s.globals.ignoreYAxisIndexes.indexOf(i)===-1?(o.yaxisTTEls[i].classList.add("apexcharts-active"),o.yaxisTTEls[i].style.top=h+"px",o.yaxisTTEls[i].style.left=f+s.config.yaxis[i].tooltip.offsetX+"px"):o.yaxisTTEls[i].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,h=this.ttCtx,d=h.getElTooltip(),f=h.tooltipRect,g=o!==null?parseFloat(o):1,y=parseFloat(i)+g+5,b=parseFloat(s)+g/2;if(y>c.globals.gridWidth/2&&(y=y-f.ttWidth-g-10),y>c.globals.gridWidth-f.ttWidth-10&&(y=c.globals.gridWidth-f.ttWidth),y<-20&&(y=-20),c.config.tooltip.followCursor){var S=h.getElGrid().getBoundingClientRect();(y=h.e.clientX-S.left)>c.globals.gridWidth/2&&(y-=h.tooltipRect.ttWidth),(b=h.e.clientY+c.globals.translateY-S.top)>c.globals.gridHeight/2&&(b-=h.tooltipRect.ttHeight)}else c.globals.isBarHorizontal||f.ttHeight/2+b>c.globals.gridHeight&&(b=c.globals.gridHeight-f.ttHeight+c.globals.translateY);isNaN(y)||(y+=c.globals.translateX,d.style.left=y+"px",d.style.top=b+"px")}},{key:"moveMarkers",value:function(i,s){var o=this.w,c=this.ttCtx;if(o.globals.markers.size[i]>0)for(var h=o.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-marker")),d=0;d<h.length;d++)parseInt(h[d].getAttribute("rel"),10)===s&&(c.marker.resetPointsSize(),c.marker.enlargeCurrentPoint(s,h[d]));else c.marker.resetPointsSize(),this.moveDynamicPointOnHover(s,i)}},{key:"moveDynamicPointOnHover",value:function(i,s){var o,c,h,d,f=this.w,g=this.ttCtx,y=new te(this.ctx),b=f.globals.pointsArray,S=g.tooltipUtil.getHoverMarkerSize(s),_=f.config.series[s].type;if(!_||_!=="column"&&_!=="candlestick"&&_!=="boxPlot"){h=(o=b[s][i])===null||o===void 0?void 0:o[0],d=((c=b[s][i])===null||c===void 0?void 0:c[1])||0;var k=f.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"'] .apexcharts-series-markers path"));if(k&&d<f.globals.gridHeight&&d>0){var C=k.getAttribute("shape"),R=y.getMarkerPath(h,d,C,1.5*S);k.setAttribute("d",R)}this.moveXCrosshairs(h),g.fixedTooltip||this.moveTooltip(h,d,S)}}},{key:"moveDynamicPointsOnHover",value:function(i){var s,o=this.ttCtx,c=o.w,h=0,d=0,f=c.globals.pointsArray,g=new Ne(this.ctx),y=new te(this.ctx);s=g.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var b=o.tooltipUtil.getHoverMarkerSize(s);f[s]&&(h=f[s][i][0],d=f[s][i][1]);var S=o.tooltipUtil.getAllMarkers();if(S!==null)for(var _=0;_<c.globals.series.length;_++){var k=f[_];if(c.globals.comboCharts&&k===void 0&&S.splice(_,0,null),k&&k.length){var C=f[_][i][1],R=void 0;S[_].setAttribute("cx",h);var O=S[_].getAttribute("shape");if(c.config.chart.type==="rangeArea"&&!c.globals.comboCharts){var F=i+c.globals.series[_].length;R=f[_][F][1],C-=Math.abs(C-R)/2}if(C!==null&&!isNaN(C)&&C<c.globals.gridHeight+b&&C+b>0){var U=y.getMarkerPath(h,C,O,b);S[_].setAttribute("d",U)}else S[_].setAttribute("d","")}}this.moveXCrosshairs(h),o.fixedTooltip||this.moveTooltip(h,d||c.globals.gridHeight,b)}},{key:"moveStickyTooltipOverBars",value:function(i,s){var o=this.w,c=this.ttCtx,h=o.globals.columnSeries?o.globals.columnSeries.length:o.globals.series.length,d=h>=2&&h%2==0?Math.floor(h/2):Math.floor(h/2)+1;o.globals.isBarHorizontal&&(d=new Ne(this.ctx).getActiveConfigSeriesIndex("desc")+1);var f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(d,"'] path[j='").concat(i,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(i,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(i,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(i,"']"));f||typeof s!="number"||(f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(s,"'] path[j='").concat(i,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(i,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(i,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(i,"']")));var g=f?parseFloat(f.getAttribute("cx")):0,y=f?parseFloat(f.getAttribute("cy")):0,b=f?parseFloat(f.getAttribute("barWidth")):0,S=c.getElGrid().getBoundingClientRect(),_=f&&(f.classList.contains("apexcharts-candlestick-area")||f.classList.contains("apexcharts-boxPlot-area"));o.globals.isXNumeric?(f&&!_&&(g-=h%2!=0?b/2:0),f&&_&&o.globals.comboCharts&&(g-=b/2)):o.globals.isBarHorizontal||(g=c.xAxisTicksPositions[i-1]+c.dataPointsDividedWidth/2,isNaN(g)&&(g=c.xAxisTicksPositions[i]-c.dataPointsDividedWidth/2)),o.globals.isBarHorizontal?y-=c.tooltipRect.ttHeight:o.config.tooltip.followCursor?y=c.e.clientY-S.top-c.tooltipRect.ttHeight/2:y+c.tooltipRect.ttHeight+15>o.globals.gridHeight&&(y=o.globals.gridHeight),o.globals.isBarHorizontal||this.moveXCrosshairs(g),c.fixedTooltip||this.moveTooltip(g,y||o.globals.gridHeight)}}]),V}(),Fi=function(){function V(i){l(this,V),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx,this.tooltipPosition=new qr(i)}return p(V,[{key:"drawDynamicPoints",value:function(){var i=this.w,s=new te(this.ctx),o=new ht(this.ctx),c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");c=q(c),i.config.chart.stacked&&c.sort(function(S,_){return parseFloat(S.getAttribute("data:realIndex"))-parseFloat(_.getAttribute("data:realIndex"))});for(var h=0;h<c.length;h++){var d=c[h].querySelector(".apexcharts-series-markers-wrap");if(d!==null){var f=void 0,g="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));i.config.chart.type!=="line"&&i.config.chart.type!=="area"||i.globals.comboCharts||i.config.tooltip.intersect||(g+=" no-pointer-events");var y=o.getMarkerConfig({cssClass:g,seriesIndex:Number(d.getAttribute("data:realIndex"))});(f=s.drawMarker(0,0,y)).node.setAttribute("default-marker-size",0);var b=document.createElementNS(i.globals.SVGNS,"g");b.classList.add("apexcharts-series-markers"),b.appendChild(f.node),d.appendChild(b)}}}},{key:"enlargeCurrentPoint",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w;h.config.chart.type!=="bubble"&&this.newPointSize(i,s);var d=s.getAttribute("cx"),f=s.getAttribute("cy");if(o!==null&&c!==null&&(d=o,f=c),this.tooltipPosition.moveXCrosshairs(d),!this.fixedTooltip){if(h.config.chart.type==="radar"){var g=this.ttCtx.getElGrid().getBoundingClientRect();d=this.ttCtx.e.clientX-g.left}this.tooltipPosition.moveTooltip(d,f,h.config.markers.hover.size)}}},{key:"enlargePoints",value:function(i){for(var s=this.w,o=this,c=this.ttCtx,h=i,d=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),f=s.config.markers.hover.size,g=0;g<d.length;g++){var y=d[g].getAttribute("rel"),b=d[g].getAttribute("index");if(f===void 0&&(f=s.globals.markers.size[b]+s.config.markers.hover.sizeOffset),h===parseInt(y,10)){o.newPointSize(h,d[g]);var S=d[g].getAttribute("cx"),_=d[g].getAttribute("cy");o.tooltipPosition.moveXCrosshairs(S),c.fixedTooltip||o.tooltipPosition.moveTooltip(S,_,f)}else o.oldPointSize(d[g])}}},{key:"newPointSize",value:function(i,s){var o=this.w,c=o.config.markers.hover.size,h=i===0?s.parentNode.firstChild:s.parentNode.lastChild;if(h.getAttribute("default-marker-size")!=="0"){var d=parseInt(h.getAttribute("index"),10);c===void 0&&(c=o.globals.markers.size[d]+o.config.markers.hover.sizeOffset),c<0&&(c=0);var f=this.ttCtx.tooltipUtil.getPathFromPoint(s,c);s.setAttribute("d",f)}}},{key:"oldPointSize",value:function(i){var s=parseFloat(i.getAttribute("default-marker-size")),o=this.ttCtx.tooltipUtil.getPathFromPoint(i,s);i.setAttribute("d",o)}},{key:"resetPointsSize",value:function(){for(var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=0;s<i.length;s++){var o=parseFloat(i[s].getAttribute("default-marker-size"));if(L.isNumber(o)&&o>=0){var c=this.ttCtx.tooltipUtil.getPathFromPoint(i[s],o);i[s].setAttribute("d",c)}else i[s].setAttribute("d","M0,0")}}}]),V}(),Xs=function(){function V(i){l(this,V),this.w=i.w;var s=this.w;this.ttCtx=i,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.config.chart.type==="rangeBar"&&s.config.plotOptions.bar.rangeBarGroupRows}return p(V,[{key:"getAttr",value:function(i,s){return parseFloat(i.target.getAttribute(s))}},{key:"handleHeatTreeTooltip",value:function(i){var s=i.e,o=i.opt,c=i.x,h=i.y,d=i.type,f=this.ttCtx,g=this.w;if(s.target.classList.contains("apexcharts-".concat(d,"-rect"))){var y=this.getAttr(s,"i"),b=this.getAttr(s,"j"),S=this.getAttr(s,"cx"),_=this.getAttr(s,"cy"),k=this.getAttr(s,"width"),C=this.getAttr(s,"height");if(f.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:y,j:b,shared:!1,e:s}),g.globals.capturedSeriesIndex=y,g.globals.capturedDataPointIndex=b,c=S+f.tooltipRect.ttWidth/2+k,h=_+f.tooltipRect.ttHeight/2-C/2,f.tooltipPosition.moveXCrosshairs(S+k/2),c>g.globals.gridWidth/2&&(c=S-f.tooltipRect.ttWidth/2+k),f.w.config.tooltip.followCursor){var R=g.globals.dom.elWrap.getBoundingClientRect();c=g.globals.clientX-R.left-(c>g.globals.gridWidth/2?f.tooltipRect.ttWidth:0),h=g.globals.clientY-R.top-(h>g.globals.gridHeight/2?f.tooltipRect.ttHeight:0)}}return{x:c,y:h}}},{key:"handleMarkerTooltip",value:function(i){var s,o,c=i.e,h=i.opt,d=i.x,f=i.y,g=this.w,y=this.ttCtx;if(c.target.classList.contains("apexcharts-marker")){var b=parseInt(h.paths.getAttribute("cx"),10),S=parseInt(h.paths.getAttribute("cy"),10),_=parseFloat(h.paths.getAttribute("val"));if(o=parseInt(h.paths.getAttribute("rel"),10),s=parseInt(h.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,y.intersect){var k=L.findAncestor(h.paths,"apexcharts-series");k&&(s=parseInt(k.getAttribute("data:realIndex"),10))}if(y.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:s,j:o,shared:!y.showOnIntersect&&g.config.tooltip.shared,e:c}),c.type==="mouseup"&&y.markerClick(c,s,o),g.globals.capturedSeriesIndex=s,g.globals.capturedDataPointIndex=o,d=b,f=S+g.globals.translateY-1.4*y.tooltipRect.ttHeight,y.w.config.tooltip.followCursor){var C=y.getElGrid().getBoundingClientRect();f=y.e.clientY+g.globals.translateY-C.top}_<0&&(f=S),y.marker.enlargeCurrentPoint(o,h.paths,d,f)}return{x:d,y:f}}},{key:"handleBarTooltip",value:function(i){var s,o,c=i.e,h=i.opt,d=this.w,f=this.ttCtx,g=f.getElTooltip(),y=0,b=0,S=0,_=this.getBarTooltipXY({e:c,opt:h});s=_.i,_.barHeight;var k=_.j;d.globals.capturedSeriesIndex=s,d.globals.capturedDataPointIndex=k,d.globals.isBarHorizontal&&f.tooltipUtil.hasBars()||!d.config.tooltip.shared?(b=_.x,S=_.y,o=Array.isArray(d.config.stroke.width)?d.config.stroke.width[s]:d.config.stroke.width,y=b):d.globals.comboCharts||d.config.tooltip.shared||(y/=2),isNaN(S)&&(S=d.globals.svgHeight-f.tooltipRect.ttHeight);var C=parseInt(h.paths.parentNode.getAttribute("data:realIndex"),10);if(d.globals.isMultipleYAxis?d.config.yaxis[C]&&d.config.yaxis[C].reversed:d.config.yaxis[0].reversed,b+f.tooltipRect.ttWidth>d.globals.gridWidth?b-=f.tooltipRect.ttWidth:b<0&&(b=0),f.w.config.tooltip.followCursor){var R=f.getElGrid().getBoundingClientRect();S=f.e.clientY-R.top}f.tooltip===null&&(f.tooltip=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),d.config.tooltip.shared||(d.globals.comboBarCount>0?f.tooltipPosition.moveXCrosshairs(y+o/2):f.tooltipPosition.moveXCrosshairs(y)),!f.fixedTooltip&&(!d.config.tooltip.shared||d.globals.isBarHorizontal&&f.tooltipUtil.hasBars())&&(S=S+d.globals.translateY-f.tooltipRect.ttHeight/2,g.style.left=b+d.globals.translateX+"px",g.style.top=S+"px")}},{key:"getBarTooltipXY",value:function(i){var s=this,o=i.e,c=i.opt,h=this.w,d=null,f=this.ttCtx,g=0,y=0,b=0,S=0,_=0,k=o.target.classList;if(k.contains("apexcharts-bar-area")||k.contains("apexcharts-candlestick-area")||k.contains("apexcharts-boxPlot-area")||k.contains("apexcharts-rangebar-area")){var C=o.target,R=C.getBoundingClientRect(),O=c.elGrid.getBoundingClientRect(),F=R.height;_=R.height;var U=R.width,v=parseInt(C.getAttribute("cx"),10),E=parseInt(C.getAttribute("cy"),10);S=parseFloat(C.getAttribute("barWidth"));var N=o.type==="touchmove"?o.touches[0].clientX:o.clientX;d=parseInt(C.getAttribute("j"),10),g=parseInt(C.parentNode.getAttribute("rel"),10)-1;var H=C.getAttribute("data-range-y1"),B=C.getAttribute("data-range-y2");h.globals.comboCharts&&(g=parseInt(C.parentNode.getAttribute("data:realIndex"),10));var G=function(se){return h.globals.isXNumeric?v-U/2:s.isVerticalGroupedRangeBar?v+U/2:v-f.dataPointsDividedWidth+U/2},ae=function(){return E-f.dataPointsDividedHeight+F/2-f.tooltipRect.ttHeight/2};f.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:g,j:d,y1:H?parseInt(H,10):null,y2:B?parseInt(B,10):null,shared:!f.showOnIntersect&&h.config.tooltip.shared,e:o}),h.config.tooltip.followCursor?h.globals.isBarHorizontal?(y=N-O.left+15,b=ae()):(y=G(),b=o.clientY-O.top-f.tooltipRect.ttHeight/2-15):h.globals.isBarHorizontal?((y=v)<f.xyRatios.baseLineInvertedY&&(y=v-f.tooltipRect.ttWidth),b=ae()):(y=G(),b=E)}return{x:y,y:b,barHeight:_,barWidth:S,i:g,j:d}}}]),V}(),Ys=function(){function V(i){l(this,V),this.w=i.w,this.ttCtx=i}return p(V,[{key:"drawXaxisTooltip",value:function(){var i=this.w,s=this.ttCtx,o=i.config.xaxis.position==="bottom";s.xaxisOffY=o?i.globals.gridHeight+1:-i.globals.xAxisHeight-i.config.xaxis.axisTicks.height+3;var c=o?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",h=i.globals.dom.elWrap;s.isXAxisTooltipEnabled&&i.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(s.xaxisTooltip=document.createElement("div"),s.xaxisTooltip.setAttribute("class",c+" apexcharts-theme-"+i.config.tooltip.theme),h.appendChild(s.xaxisTooltip),s.xaxisTooltipText=document.createElement("div"),s.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),s.xaxisTooltipText.style.fontFamily=i.config.xaxis.tooltip.style.fontFamily||i.config.chart.fontFamily,s.xaxisTooltipText.style.fontSize=i.config.xaxis.tooltip.style.fontSize,s.xaxisTooltip.appendChild(s.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var i=this.w,s=this.ttCtx,o=0;o<i.config.yaxis.length;o++){var c=i.config.yaxis[o].opposite||i.config.yaxis[o].crosshairs.opposite;s.yaxisOffX=c?i.globals.gridWidth+1:1;var h="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(o,c?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),d=i.globals.dom.elWrap;i.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(o))===null&&(s.yaxisTooltip=document.createElement("div"),s.yaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+i.config.tooltip.theme),d.appendChild(s.yaxisTooltip),o===0&&(s.yaxisTooltipText=[]),s.yaxisTooltipText[o]=document.createElement("div"),s.yaxisTooltipText[o].classList.add("apexcharts-yaxistooltip-text"),s.yaxisTooltip.appendChild(s.yaxisTooltipText[o]))}}},{key:"setXCrosshairWidth",value:function(){var i=this.w,s=this.ttCtx,o=s.getElXCrosshairs();if(s.xcrosshairsWidth=parseInt(i.config.xaxis.crosshairs.width,10),i.globals.comboCharts){var c=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null&&i.config.xaxis.crosshairs.width==="barWidth"){var h=parseFloat(c.getAttribute("barWidth"));s.xcrosshairsWidth=h}else if(i.config.xaxis.crosshairs.width==="tickWidth"){var d=i.globals.labels.length;s.xcrosshairsWidth=i.globals.gridWidth/d}}else if(i.config.xaxis.crosshairs.width==="tickWidth"){var f=i.globals.labels.length;s.xcrosshairsWidth=i.globals.gridWidth/f}else if(i.config.xaxis.crosshairs.width==="barWidth"){var g=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(g!==null){var y=parseFloat(g.getAttribute("barWidth"));s.xcrosshairsWidth=y}else s.xcrosshairsWidth=1}i.globals.isBarHorizontal&&(s.xcrosshairsWidth=0),o!==null&&s.xcrosshairsWidth>0&&o.setAttribute("width",s.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var i=this.w,s=this.ttCtx;s.ycrosshairs=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),s.ycrosshairsHidden=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(i,s,o){var c=this.ttCtx,h=this.w,d=h.globals,f=d.seriesYAxisMap[i];if(c.yaxisTooltips[i]&&f.length>0){var g=d.yLabelFormatters[i],y=c.getElGrid().getBoundingClientRect(),b=f[0],S=0;o.yRatio.length>1&&(S=b);var _=(s-y.top)*o.yRatio[S],k=d.maxYArr[b]-d.minYArr[b],C=d.minYArr[b]+(k-_);h.config.yaxis[i].reversed&&(C=d.maxYArr[b]-(k-_)),c.tooltipPosition.moveYCrosshairs(s-y.top),c.yaxisTooltipText[i].innerHTML=g(C),c.tooltipPosition.moveYAxisTooltip(i)}}}]),V}(),cs=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w;var s=this.w;this.tConfig=s.config.tooltip,this.tooltipUtil=new kn(this),this.tooltipLabels=new Ws(this),this.tooltipPosition=new qr(this),this.marker=new Fi(this),this.intersect=new Xs(this),this.axesTooltip=new Ys(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!s.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return p(V,[{key:"getElTooltip",value:function(i){return i||(i=this),i.w.globals.dom.baseEl?i.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(i){var s=this.w;this.xyRatios=i,this.isXAxisTooltipEnabled=s.config.xaxis.tooltip.enabled&&s.globals.axisCharts,this.yaxisTooltips=s.config.yaxis.map(function(d,f){return!!(d.show&&d.tooltip.enabled&&s.globals.axisCharts)}),this.allTooltipSeriesGroups=[],s.globals.axisCharts||(this.showTooltipTitle=!1);var o=document.createElement("div");if(o.classList.add("apexcharts-tooltip"),s.config.tooltip.cssClass&&o.classList.add(s.config.tooltip.cssClass),o.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),s.globals.dom.elWrap.appendChild(o),s.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var c=new jt(this.ctx);this.xAxisTicksPositions=c.getXAxisTicksPositions()}if(!s.globals.comboCharts&&!this.tConfig.intersect&&s.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),s.config.markers.size!==0&&s.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),s.globals.collapsedSeries.length!==s.globals.series.length){this.dataPointsDividedHeight=s.globals.gridHeight/s.globals.dataPoints,this.dataPointsDividedWidth=s.globals.gridWidth/s.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||s.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,o.appendChild(this.tooltipTitle));var h=s.globals.series.length;(s.globals.xyCharts||s.globals.comboCharts)&&this.tConfig.shared&&(h=this.showOnIntersect?1:s.globals.series.length),this.legendLabels=s.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(h),this.addSVGEvents()}}},{key:"createTTElements",value:function(i){for(var s=this,o=this.w,c=[],h=this.getElTooltip(),d=function(g){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-series-group"),y.style.order=o.config.tooltip.inverseOrder?i-g:g+1,s.tConfig.shared&&s.tConfig.enabledOnSeries&&Array.isArray(s.tConfig.enabledOnSeries)&&s.tConfig.enabledOnSeries.indexOf(g)<0&&y.classList.add("apexcharts-tooltip-series-group-hidden");var b=document.createElement("span");b.classList.add("apexcharts-tooltip-marker"),b.style.backgroundColor=o.globals.colors[g],y.appendChild(b);var S=document.createElement("div");S.classList.add("apexcharts-tooltip-text"),S.style.fontFamily=s.tConfig.style.fontFamily||o.config.chart.fontFamily,S.style.fontSize=s.tConfig.style.fontSize,["y","goals","z"].forEach(function(_){var k=document.createElement("div");k.classList.add("apexcharts-tooltip-".concat(_,"-group"));var C=document.createElement("span");C.classList.add("apexcharts-tooltip-text-".concat(_,"-label")),k.appendChild(C);var R=document.createElement("span");R.classList.add("apexcharts-tooltip-text-".concat(_,"-value")),k.appendChild(R),S.appendChild(k)}),y.appendChild(S),h.appendChild(y),c.push(y)},f=0;f<i;f++)d(f);return c}},{key:"addSVGEvents",value:function(){var i=this.w,s=i.config.chart.type,o=this.getElTooltip(),c=!(s!=="bar"&&s!=="candlestick"&&s!=="boxPlot"&&s!=="rangeBar"),h=s==="area"||s==="line"||s==="scatter"||s==="bubble"||s==="radar",d=i.globals.dom.Paper.node,f=this.getElGrid();f&&(this.seriesBound=f.getBoundingClientRect());var g,y=[],b=[],S={hoverArea:d,elGrid:f,tooltipEl:o,tooltipY:y,tooltipX:b,ttItems:this.ttItems};if(i.globals.axisCharts&&(h?g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):c?g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):s!=="heatmap"&&s!=="treemap"||(g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),g&&g.length))for(var _=0;_<g.length;_++)y.push(g[_].getAttribute("cy")),b.push(g[_].getAttribute("cx"));if(i.globals.xyCharts&&!this.showOnIntersect||i.globals.comboCharts&&!this.showOnIntersect||c&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([d],S);else if(c&&!i.globals.comboCharts||h&&this.showOnIntersect)this.addDatapointEventsListeners(S);else if(!i.globals.axisCharts||s==="heatmap"||s==="treemap"){var k=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(k,S)}if(this.showOnIntersect){var C=i.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");C.length>0&&this.addPathsEventListeners(C,S),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(S)}}},{key:"drawFixedTooltipRect",value:function(){var i=this.w,s=this.getElTooltip(),o=s.getBoundingClientRect(),c=o.width+10,h=o.height+10,d=this.tConfig.fixed.offsetX,f=this.tConfig.fixed.offsetY,g=this.tConfig.fixed.position.toLowerCase();return g.indexOf("right")>-1&&(d=d+i.globals.svgWidth-c+10),g.indexOf("bottom")>-1&&(f=f+i.globals.svgHeight-h-10),s.style.left=d+"px",s.style.top=f+"px",{x:d,y:f,ttWidth:c,ttHeight:h}}},{key:"addDatapointEventsListeners",value:function(i){var s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(s,i)}},{key:"addPathsEventListeners",value:function(i,s){for(var o=this,c=function(d){var f={paths:i[d],tooltipEl:s.tooltipEl,tooltipY:s.tooltipY,tooltipX:s.tooltipX,elGrid:s.elGrid,hoverArea:s.hoverArea,ttItems:s.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(g){return i[d].addEventListener(g,o.onSeriesHover.bind(o,f),{capture:!1,passive:!0})})},h=0;h<i.length;h++)c(h)}},{key:"onSeriesHover",value:function(i,s){var o=this,c=Date.now()-this.lastHoverTime;c>=100?this.seriesHover(i,s):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){o.seriesHover(i,s)},100-c))}},{key:"seriesHover",value:function(i,s){var o=this;this.lastHoverTime=Date.now();var c=[],h=this.w;h.config.chart.group&&(c=this.ctx.getGroupedCharts()),h.globals.axisCharts&&(h.globals.minX===-1/0&&h.globals.maxX===1/0||h.globals.dataPoints===0)||(c.length?c.forEach(function(d){var f=o.getElTooltip(d),g={paths:i.paths,tooltipEl:f,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:d.w.globals.tooltip.ttItems};d.w.globals.minX===o.w.globals.minX&&d.w.globals.maxX===o.w.globals.maxX&&d.w.globals.tooltip.seriesHoverByContext({chartCtx:d,ttCtx:d.w.globals.tooltip,opt:g,e:s})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:i,e:s}))}},{key:"seriesHoverByContext",value:function(i){var s=i.chartCtx,o=i.ttCtx,c=i.opt,h=i.e,d=s.w,f=this.getElTooltip();f&&(o.tooltipRect={x:0,y:0,ttWidth:f.getBoundingClientRect().width,ttHeight:f.getBoundingClientRect().height},o.e=h,o.tooltipUtil.hasBars()&&!d.globals.comboCharts&&!o.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ne(s).toggleSeriesOnHover(h,h.target.parentNode),o.fixedTooltip&&o.drawFixedTooltipRect(),d.globals.axisCharts?o.axisChartsTooltips({e:h,opt:c,tooltipRect:o.tooltipRect}):o.nonAxisChartsTooltips({e:h,opt:c,tooltipRect:o.tooltipRect}))}},{key:"axisChartsTooltips",value:function(i){var s,o,c=i.e,h=i.opt,d=this.w,f=h.elGrid.getBoundingClientRect(),g=c.type==="touchmove"?c.touches[0].clientX:c.clientX,y=c.type==="touchmove"?c.touches[0].clientY:c.clientY;if(this.clientY=y,this.clientX=g,d.globals.capturedSeriesIndex=-1,d.globals.capturedDataPointIndex=-1,y<f.top||y>f.top+f.height)this.handleMouseOut(h);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!d.config.tooltip.shared){var b=parseInt(h.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(b)<0)return void this.handleMouseOut(h)}var S=this.getElTooltip(),_=this.getElXCrosshairs(),k=d.globals.xyCharts||d.config.chart.type==="bar"&&!d.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||d.globals.comboCharts&&this.tooltipUtil.hasBars();if(c.type==="mousemove"||c.type==="touchmove"||c.type==="mouseup"){if(d.globals.collapsedSeries.length+d.globals.ancillaryCollapsedSeries.length===d.globals.series.length)return;_!==null&&_.classList.add("apexcharts-active");var C=this.yaxisTooltips.filter(function(F){return F===!0});if(this.ycrosshairs!==null&&C.length&&this.ycrosshairs.classList.add("apexcharts-active"),k&&!this.showOnIntersect)this.handleStickyTooltip(c,g,y,h);else if(d.config.chart.type==="heatmap"||d.config.chart.type==="treemap"){var R=this.intersect.handleHeatTreeTooltip({e:c,opt:h,x:s,y:o,type:d.config.chart.type});s=R.x,o=R.y,S.style.left=s+"px",S.style.top=o+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:c,opt:h}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:c,opt:h,x:s,y:o});if(this.yaxisTooltips.length)for(var O=0;O<d.config.yaxis.length;O++)this.axesTooltip.drawYaxisTooltipText(O,y,this.xyRatios);d.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),h.tooltipEl.classList.add("apexcharts-active")}else c.type!=="mouseout"&&c.type!=="touchend"||this.handleMouseOut(h)}}},{key:"nonAxisChartsTooltips",value:function(i){var s=i.e,o=i.opt,c=i.tooltipRect,h=this.w,d=o.paths.getAttribute("rel"),f=this.getElTooltip(),g=h.globals.dom.elWrap.getBoundingClientRect();if(s.type==="mousemove"||s.type==="touchmove"){h.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),f.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:parseInt(d,10)-1,shared:!1});var y=h.globals.clientX-g.left-c.ttWidth/2,b=h.globals.clientY-g.top-c.ttHeight-10;if(f.style.left=y+"px",f.style.top=b+"px",h.config.legend.tooltipHoverFormatter){var S=d-1,_=(0,h.config.legend.tooltipHoverFormatter)(this.legendLabels[S].getAttribute("data:default-text"),{seriesIndex:S,dataPointIndex:S,w:h});this.legendLabels[S].innerHTML=_}}else s.type!=="mouseout"&&s.type!=="touchend"||(f.classList.remove("apexcharts-active"),h.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(k){var C=k.getAttribute("data:default-text");k.innerHTML=decodeURIComponent(C)}))}},{key:"handleStickyTooltip",value:function(i,s,o,c){var h=this.w,d=this.tooltipUtil.getNearestValues({context:this,hoverArea:c.hoverArea,elGrid:c.elGrid,clientX:s,clientY:o}),f=d.j,g=d.capturedSeries;h.globals.collapsedSeriesIndices.includes(g)&&(g=null);var y=c.elGrid.getBoundingClientRect();if(d.hoverX<0||d.hoverX>y.width)this.handleMouseOut(c);else if(g!==null)this.handleStickyCapturedSeries(i,g,c,f);else if(this.tooltipUtil.isXoverlap(f)||h.globals.isBarHorizontal){var b=h.globals.series.findIndex(function(S,_){return!h.globals.collapsedSeriesIndices.includes(_)});this.create(i,this,b,f,c.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(i,s,o,c){var h=this.w;if(!this.tConfig.shared&&h.globals.series[s][c]===null)return void this.handleMouseOut(o);if(h.globals.series[s][c]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(c)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(i,this,s,c,o.ttItems):this.create(i,this,s,c,o.ttItems,!1);else if(this.tooltipUtil.isXoverlap(c)){var d=h.globals.series.findIndex(function(f,g){return!h.globals.collapsedSeriesIndices.includes(g)});this.create(i,this,d,c,o.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var i=this.w,s=new te(this.ctx),o=i.globals.dom.Paper.select(".apexcharts-bar-area"),c=0;c<o.length;c++)s.pathMouseLeave(o[c])}},{key:"handleMouseOut",value:function(i){var s=this.w,o=this.getElXCrosshairs();if(s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),i.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),s.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),o!==null&&o.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var c=0;c<this.yaxisTTEls.length;c++)this.yaxisTTEls[c].classList.remove("apexcharts-active")}s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(h){var d=h.getAttribute("data:default-text");h.innerHTML=decodeURIComponent(d)})}},{key:"markerClick",value:function(i,s,o){var c=this.w;typeof c.config.chart.events.markerClick=="function"&&c.config.chart.events.markerClick(i,this.ctx,{seriesIndex:s,dataPointIndex:o,w:c}),this.ctx.events.fireEvent("markerClick",[i,this.ctx,{seriesIndex:s,dataPointIndex:o,w:c}])}},{key:"create",value:function(i,s,o,c,h){var d,f,g,y,b,S,_,k,C,R,O,F,U,v,E,N,H=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,B=this.w,G=s;i.type==="mouseup"&&this.markerClick(i,o,c),H===null&&(H=this.tConfig.shared);var ae=this.tooltipUtil.hasMarkers(o),se=this.tooltipUtil.getElBars();if(B.config.legend.tooltipHoverFormatter){var ge=B.config.legend.tooltipHoverFormatter,fe=Array.from(this.legendLabels);fe.forEach(function(Pt){var Ct=Pt.getAttribute("data:default-text");Pt.innerHTML=decodeURIComponent(Ct)});for(var he=0;he<fe.length;he++){var ve=fe[he],Te=parseInt(ve.getAttribute("i"),10),Me=decodeURIComponent(ve.getAttribute("data:default-text")),Be=ge(Me,{seriesIndex:H?Te:o,dataPointIndex:c,w:B});if(H)ve.innerHTML=B.globals.collapsedSeriesIndices.indexOf(Te)<0?Be:Me;else if(ve.innerHTML=Te===o?Be:Me,o===Te)break}}var qe=r(r({ttItems:h,i:o,j:c},((d=B.globals.seriesRange)===null||d===void 0||(f=d[o])===null||f===void 0||(g=f[c])===null||g===void 0||(y=g.y[0])===null||y===void 0?void 0:y.y1)!==void 0&&{y1:(b=B.globals.seriesRange)===null||b===void 0||(S=b[o])===null||S===void 0||(_=S[c])===null||_===void 0||(k=_.y[0])===null||k===void 0?void 0:k.y1}),((C=B.globals.seriesRange)===null||C===void 0||(R=C[o])===null||R===void 0||(O=R[c])===null||O===void 0||(F=O.y[0])===null||F===void 0?void 0:F.y2)!==void 0&&{y2:(U=B.globals.seriesRange)===null||U===void 0||(v=U[o])===null||v===void 0||(E=v[c])===null||E===void 0||(N=E.y[0])===null||N===void 0?void 0:N.y2});if(H){if(G.tooltipLabels.drawSeriesTexts(r(r({},qe),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),ae)B.globals.markers.largestSize>0?G.marker.enlargePoints(c):G.tooltipPosition.moveDynamicPointsOnHover(c);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(se),this.barSeriesHeight>0)){var it=new te(this.ctx),nt=B.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(c,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(c,o);for(var ft=0;ft<nt.length;ft++)it.pathMouseEnter(nt[ft])}}else G.tooltipLabels.drawSeriesTexts(r({shared:!1},qe)),this.tooltipUtil.hasBars()&&G.tooltipPosition.moveStickyTooltipOverBars(c,o),ae&&G.tooltipPosition.moveMarkers(o,c)}}]),V}(),Jo=function(){function V(i){l(this,V),this.w=i.w,this.barCtx=i,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return p(V,[{key:"handleBarDataLabels",value:function(i){var s=i.x,o=i.y,c=i.y1,h=i.y2,d=i.i,f=i.j,g=i.realIndex,y=i.columnGroupIndex;i.series;var b,S,_=i.barHeight,k=i.barWidth,C=i.barXPosition,R=i.barYPosition,O=i.visibleSeries,F=i.renderedPath,U=this.w,v=new te(this.barCtx.ctx),E=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth;U.globals.isXNumeric&&!U.globals.isBarHorizontal?(b=s+parseFloat(k*(O+1)),S=o+parseFloat(_*(O+1))-E):(b=s+parseFloat(k*O),S=o+parseFloat(_*O));var N,H=null,B=s,G=o,ae={},se=U.config.dataLabels,ge=this.barCtx.barOptions.dataLabels,fe=this.barCtx.barOptions.dataLabels.total;R!==void 0&&this.barCtx.isRangeBar&&(S=R,G=R),C!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(b=C,B=C);var he=se.offsetX,ve=se.offsetY,Te={width:0,height:0};if(U.config.dataLabels.enabled){var Me=U.globals.series[d][f];Te=v.getTextRects(U.globals.yLabelFormatters[0](Me),parseFloat(se.style.fontSize))}var Be={x:s,y:o,i:d,j:f,realIndex:g,columnGroupIndex:y,renderedPath:F,bcx:b,bcy:S,barHeight:_,barWidth:k,textRects:Te,strokeWidth:E,dataLabelsX:B,dataLabelsY:G,dataLabelsConfig:se,barDataLabelsConfig:ge,barTotalDataLabelsConfig:fe,offX:he,offY:ve};return ae=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Be):this.calculateColumnsDataLabelsPosition(Be),F.attr({cy:ae.bcy,cx:ae.bcx,j:f,val:U.globals.series[d][f],barHeight:_,barWidth:k}),N=this.drawCalculatedDataLabels({x:ae.dataLabelsX,y:ae.dataLabelsY,val:this.barCtx.isRangeBar?[c,h]:U.globals.series[d][f],i:g,j:f,barWidth:k,barHeight:_,textRects:Te,dataLabelsConfig:se}),U.config.chart.stacked&&fe.enabled&&(H=this.drawTotalDataLabels({x:ae.totalDataLabelsX,y:ae.totalDataLabelsY,barWidth:k,barHeight:_,realIndex:g,textAnchor:ae.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:f}),dataLabelsConfig:se,barTotalDataLabelsConfig:fe})),{dataLabels:N,totalDataLabels:H}}},{key:"getStackedTotalDataLabel",value:function(i){var s=i.realIndex,o=i.j,c=this.w,h=this.barCtx.stackedSeriesTotals[o];return this.totalFormatter&&(h=this.totalFormatter(h,r(r({},c),{},{seriesIndex:s,dataPointIndex:o,w:c}))),h}},{key:"calculateColumnsDataLabelsPosition",value:function(i){var s=this.w,o=i.i,c=i.j,h=i.realIndex;i.columnGroupIndex;var d,f,g=i.y,y=i.bcx,b=i.barWidth,S=i.barHeight,_=i.textRects,k=i.dataLabelsX,C=i.dataLabelsY,R=i.dataLabelsConfig,O=i.barDataLabelsConfig,F=i.barTotalDataLabelsConfig,U=i.strokeWidth,v=i.offX,E=i.offY,N=y;S=Math.abs(S);var H=s.config.plotOptions.bar.dataLabels.orientation==="vertical",B=this.barCtx.barHelpers.getZeroValueEncounters({i:o,j:c}).zeroEncounters;y-=U/2;var G=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?k+=b/2:(k=s.globals.isXNumeric?y-b/2+v:y-G+b/2+v,B>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k-=b*B)),H&&(k=k+_.height/2-U/2-2);var ae=s.globals.series[o][c]<0,se=g;switch(this.barCtx.isReversed&&(se=g+(ae?S:-S)),O.position){case"center":C=H?ae?se-S/2+E:se+S/2-E:ae?se-S/2+_.height/2+E:se+S/2+_.height/2-E;break;case"bottom":C=H?ae?se-S+E:se+S-E:ae?se-S+_.height+U+E:se+S-_.height/2+U-E;break;case"top":C=H?ae?se+E:se-E:ae?se-_.height/2-E:se+_.height+E}if(this.barCtx.lastActiveBarSerieIndex===h&&F.enabled){var ge=new te(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:h,j:c}),R.fontSize);d=ae?se-ge.height/2-E-F.offsetY+18:se+ge.height+E+F.offsetY-18;var fe=G;f=N+(s.globals.isXNumeric?-b*s.globals.barGroups.length/2:s.globals.barGroups.length*b/2-(s.globals.barGroups.length-1)*b-fe)+F.offsetX}return s.config.chart.stacked||(C<0?C=0+U:C+_.height/3>s.globals.gridHeight&&(C=s.globals.gridHeight-U)),{bcx:y,bcy:g,dataLabelsX:k,dataLabelsY:C,totalDataLabelsX:f,totalDataLabelsY:d,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(i){var s=this.w,o=i.x,c=i.i,h=i.j,d=i.realIndex;i.columnGroupIndex;var f=i.bcy,g=i.barHeight,y=i.barWidth,b=i.textRects,S=i.dataLabelsX,_=i.strokeWidth,k=i.dataLabelsConfig,C=i.barDataLabelsConfig,R=i.barTotalDataLabelsConfig,O=i.offX,F=i.offY,U=s.globals.gridHeight/s.globals.dataPoints;y=Math.abs(y);var v,E,N=f-(this.barCtx.isRangeBar?0:U)+g/2+b.height/2+F-3,H="start",B=s.globals.series[c][h]<0,G=o;switch(this.barCtx.isReversed&&(G=o+(B?-y:y),H=B?"start":"end"),C.position){case"center":S=B?G+y/2-O:Math.max(b.width/2,G-y/2)+O;break;case"bottom":S=B?G+y-_-Math.round(b.width/2)-O:G-y+_+Math.round(b.width/2)+O;break;case"top":S=B?G-_+Math.round(b.width/2)-O:G-_-Math.round(b.width/2)+O}if(this.barCtx.lastActiveBarSerieIndex===d&&R.enabled){var ae=new te(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:d,j:h}),k.fontSize);B?(v=G-_-O-R.offsetX,H="end"):v=G+O+R.offsetX+(this.barCtx.isReversed?-(y+_):_),E=N-b.height/2+ae.height/2+R.offsetY+_}return s.config.chart.stacked||(S<0?S=S+b.width+_:S+b.width/2>s.globals.gridWidth&&(S=s.globals.gridWidth-b.width-_)),{bcx:o,bcy:f,dataLabelsX:S,dataLabelsY:N,totalDataLabelsX:v,totalDataLabelsY:E,totalDataLabelsAnchor:H}}},{key:"drawCalculatedDataLabels",value:function(i){var s=i.x,o=i.y,c=i.val,h=i.i,d=i.j,f=i.textRects,g=i.barHeight,y=i.barWidth,b=i.dataLabelsConfig,S=this.w,_="rotate(0)";S.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(_="rotate(-90, ".concat(s,", ").concat(o,")"));var k=new Pe(this.barCtx.ctx),C=new te(this.barCtx.ctx),R=b.formatter,O=null,F=S.globals.collapsedSeriesIndices.indexOf(h)>-1;if(b.enabled&&!F){O=C.group({class:"apexcharts-data-labels",transform:_});var U="";c!==void 0&&(U=R(c,r(r({},S),{},{seriesIndex:h,dataPointIndex:d,w:S}))),!c&&S.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(U="");var v=S.globals.series[h][d]<0,E=S.config.plotOptions.bar.dataLabels.position;S.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(E==="top"&&(b.textAnchor=v?"end":"start"),E==="center"&&(b.textAnchor="middle"),E==="bottom"&&(b.textAnchor=v?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&y<C.getTextRects(U,parseFloat(b.style.fontSize)).width&&(U=""),S.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?f.width/1.6>Math.abs(y)&&(U=""):f.height/1.6>Math.abs(g)&&(U=""));var N=r({},b);this.barCtx.isHorizontal&&c<0&&(b.textAnchor==="start"?N.textAnchor="end":b.textAnchor==="end"&&(N.textAnchor="start")),k.plotDataLabelsText({x:s,y:o,text:U,i:h,j:d,parent:O,dataLabelsConfig:N,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return O}},{key:"drawTotalDataLabels",value:function(i){var s=i.x,o=i.y,c=i.val;i.barWidth,i.barHeight;var h=i.realIndex,d=i.textAnchor,f=i.barTotalDataLabelsConfig;this.w;var g,y=new te(this.barCtx.ctx);return f.enabled&&s!==void 0&&o!==void 0&&this.barCtx.lastActiveBarSerieIndex===h&&(g=y.drawText({x:s,y:o,foreColor:f.style.color,text:c,textAnchor:d,fontFamily:f.style.fontFamily,fontSize:f.style.fontSize,fontWeight:f.style.fontWeight})),g}}]),V}(),us=function(){function V(i){l(this,V),this.w=i.w,this.barCtx=i}return p(V,[{key:"initVariables",value:function(i){var s=this.w;this.barCtx.series=i,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var o=0;o<i.length;o++)if(i[o].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=i[o].length),s.globals.isXNumeric)for(var c=0;c<i[o].length;c++)s.globals.seriesX[o][c]>s.globals.minX&&s.globals.seriesX[o][c]<s.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=s.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],s.globals.comboCharts||this.checkZeroSeries({series:i})}},{key:"initialPositions",value:function(){var i,s,o,c,h,d,f,g,y=this.w,b=y.globals.dataPoints;this.barCtx.isRangeBar&&(b=y.globals.labels.length);var S=this.barCtx.seriesLen;if(y.config.plotOptions.bar.rangeBarGroupRows&&(S=1),this.barCtx.isHorizontal)h=(o=y.globals.gridHeight/b)/S,y.globals.isXNumeric&&(h=(o=y.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),h=h*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.barHeight,10)),g=this.barCtx.baseLineInvertedY+y.globals.padHorizontal+(this.barCtx.isReversed?y.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(g=y.globals.gridWidth/2),s=(o-h*this.barCtx.seriesLen)/2;else{if(c=y.globals.gridWidth/this.barCtx.visibleItems,y.config.xaxis.convertedCatToNumeric&&(c=y.globals.gridWidth/y.globals.dataPoints),d=c/S*parseInt(this.barCtx.barOptions.columnWidth,10)/100,y.globals.isXNumeric){var _=this.barCtx.xRatio;y.globals.minXDiff&&y.globals.minXDiff!==.5&&y.globals.minXDiff/_>0&&(c=y.globals.minXDiff/_),(d=c/S*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(d=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(d=parseInt(this.barCtx.barOptions.columnWidth,10)),f=y.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?y.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),i=y.globals.padHorizontal+(c-d*this.barCtx.seriesLen)/2}return y.globals.barHeight=h,y.globals.barWidth=d,{x:i,y:s,yDivision:o,xDivision:c,barHeight:h,barWidth:d,zeroH:f,zeroW:g}}},{key:"initializeStackedPrevVars",value:function(i){i.w.globals.seriesGroups.forEach(function(s){i[s]||(i[s]={}),i[s].prevY=[],i[s].prevX=[],i[s].prevYF=[],i[s].prevXF=[],i[s].prevYVal=[],i[s].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(i){i.w.globals.seriesGroups.forEach(function(s){i[s]||(i[s]={}),i[s].xArrj=[],i[s].xArrjF=[],i[s].xArrjVal=[],i[s].yArrj=[],i[s].yArrjF=[],i[s].yArrjVal=[]})}},{key:"getPathFillColor",value:function(i,s,o,c){var h,d,f,g,y,b=this.w,S=new Oe(this.barCtx.ctx),_=null,k=this.barCtx.barOptions.distributed?o:s;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(C){i[s][o]>=C.from&&i[s][o]<=C.to&&(_=C.color)}),(h=b.config.series[s].data[o])!==null&&h!==void 0&&h.fillColor&&(_=b.config.series[s].data[o].fillColor),S.fillPath({seriesNumber:this.barCtx.barOptions.distributed?k:c,dataPointIndex:o,color:_,value:i[s][o],fillConfig:(d=b.config.series[s].data[o])===null||d===void 0?void 0:d.fill,fillType:(f=b.config.series[s].data[o])!==null&&f!==void 0&&(g=f.fill)!==null&&g!==void 0&&g.type?(y=b.config.series[s].data[o])===null||y===void 0?void 0:y.fill.type:Array.isArray(b.config.fill.type)?b.config.fill.type[c]:b.config.fill.type})}},{key:"getStrokeWidth",value:function(i,s,o){var c=0,h=this.w;return this.barCtx.series[i][s]===void 0||this.barCtx.series[i][s]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,h.config.stroke.show&&(this.barCtx.isNullValue||(c=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth)),c}},{key:"shouldApplyRadius",value:function(i){var s=this.w,o=!1;return s.config.plotOptions.bar.borderRadius>0&&(s.config.chart.stacked&&s.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===i&&(o=!0):o=!0),o}},{key:"barBackground",value:function(i){var s=i.j,o=i.i,c=i.x1,h=i.x2,d=i.y1,f=i.y2,g=i.elSeries,y=this.w,b=new te(this.barCtx.ctx),S=new Ne(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&S===o){s>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(s%=this.barCtx.barOptions.colors.backgroundBarColors.length);var _=this.barCtx.barOptions.colors.backgroundBarColors[s],k=b.drawRect(c!==void 0?c:0,d!==void 0?d:0,h!==void 0?h:y.globals.gridWidth,f!==void 0?f:y.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,_,this.barCtx.barOptions.colors.backgroundBarOpacity);g.add(k),k.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(i){var s,o=i.barWidth,c=i.barXPosition,h=i.y1,d=i.y2,f=i.strokeWidth,g=i.seriesGroup,y=i.realIndex,b=i.i,S=i.j,_=i.w,k=new te(this.barCtx.ctx);(f=Array.isArray(f)?f[y]:f)||(f=0);var C=o,R=c;(s=_.config.series[y].data[S])!==null&&s!==void 0&&s.columnWidthOffset&&(R=c-_.config.series[y].data[S].columnWidthOffset/2,C=o+_.config.series[y].data[S].columnWidthOffset);var O=f/2,F=R+O,U=R+C-O;h+=.001-O,d+=.001+O;var v=k.move(F,h),E=k.move(F,h),N=k.line(U,h);if(_.globals.previousPaths.length>0&&(E=this.barCtx.getPreviousPath(y,S,!1)),v=v+k.line(F,d)+k.line(U,d)+k.line(U,h)+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),E=E+k.line(F,h)+N+N+N+N+N+k.line(F,h)+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(y)&&(v=k.roundPathCorners(v,_.config.plotOptions.bar.borderRadius)),_.config.chart.stacked){var H=this.barCtx;(H=this.barCtx[g]).yArrj.push(d-O),H.yArrjF.push(Math.abs(h-d+f)),H.yArrjVal.push(this.barCtx.series[b][S])}return{pathTo:v,pathFrom:E}}},{key:"getBarpaths",value:function(i){var s,o=i.barYPosition,c=i.barHeight,h=i.x1,d=i.x2,f=i.strokeWidth,g=i.seriesGroup,y=i.realIndex,b=i.i,S=i.j,_=i.w,k=new te(this.barCtx.ctx);(f=Array.isArray(f)?f[y]:f)||(f=0);var C=o,R=c;(s=_.config.series[y].data[S])!==null&&s!==void 0&&s.barHeightOffset&&(C=o-_.config.series[y].data[S].barHeightOffset/2,R=c+_.config.series[y].data[S].barHeightOffset);var O=f/2,F=C+O,U=C+R-O;h+=.001-O,d+=.001+O;var v=k.move(h,F),E=k.move(h,F);_.globals.previousPaths.length>0&&(E=this.barCtx.getPreviousPath(y,S,!1));var N=k.line(h,U);if(v=v+k.line(d,F)+k.line(d,U)+N+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),E=E+k.line(h,F)+N+N+N+N+N+k.line(h,F)+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(y)&&(v=k.roundPathCorners(v,_.config.plotOptions.bar.borderRadius)),_.config.chart.stacked){var H=this.barCtx;(H=this.barCtx[g]).xArrj.push(d+O),H.xArrjF.push(Math.abs(h-d)),H.xArrjVal.push(this.barCtx.series[b][S])}return{pathTo:v,pathFrom:E}}},{key:"checkZeroSeries",value:function(i){for(var s=i.series,o=this.w,c=0;c<s.length;c++){for(var h=0,d=0;d<s[o.globals.maxValsInArrayIndex].length;d++)h+=s[c][d];h===0&&this.barCtx.zeroSerieses.push(c)}}},{key:"getXForValue",value:function(i,s){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?s:null;return i!=null&&(o=s+i/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?i/this.barCtx.invertedYRatio:0)),o}},{key:"getYForValue",value:function(i,s,o){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?s:null;return i!=null&&(c=s-i/this.barCtx.yRatio[o]+2*(this.barCtx.isReversed?i/this.barCtx.yRatio[o]:0)),c}},{key:"getGoalValues",value:function(i,s,o,c,h,d){var f=this,g=this.w,y=[],b=function(k,C){var R;y.push((m(R={},i,i==="x"?f.getXForValue(k,s,!1):f.getYForValue(k,o,d,!1)),m(R,"attrs",C),R))};if(g.globals.seriesGoals[c]&&g.globals.seriesGoals[c][h]&&Array.isArray(g.globals.seriesGoals[c][h])&&g.globals.seriesGoals[c][h].forEach(function(k){b(k.value,k)}),this.barCtx.barOptions.isDumbbell&&g.globals.seriesRange.length){var S=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:g.globals.colors,_={strokeHeight:i==="x"?0:g.globals.markers.size[c],strokeWidth:i==="x"?g.globals.markers.size[c]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(S[c])?S[c][0]:S[c]};b(g.globals.seriesRangeStart[c][h],_),b(g.globals.seriesRangeEnd[c][h],r(r({},_),{},{strokeColor:Array.isArray(S[c])?S[c][1]:S[c]}))}return y}},{key:"drawGoalLine",value:function(i){var s=i.barXPosition,o=i.barYPosition,c=i.goalX,h=i.goalY,d=i.barWidth,f=i.barHeight,g=new te(this.barCtx.ctx),y=g.group({className:"apexcharts-bar-goals-groups"});y.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:y.node}),y.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var b=null;return this.barCtx.isHorizontal?Array.isArray(c)&&c.forEach(function(S){if(S.x>=-1&&S.x<=g.w.globals.gridWidth+1){var _=S.attrs.strokeHeight!==void 0?S.attrs.strokeHeight:f/2,k=o+_+f/2;b=g.drawLine(S.x,k-2*_,S.x,k,S.attrs.strokeColor?S.attrs.strokeColor:void 0,S.attrs.strokeDashArray,S.attrs.strokeWidth?S.attrs.strokeWidth:2,S.attrs.strokeLineCap),y.add(b)}}):Array.isArray(h)&&h.forEach(function(S){if(S.y>=-1&&S.y<=g.w.globals.gridHeight+1){var _=S.attrs.strokeWidth!==void 0?S.attrs.strokeWidth:d/2,k=s+_+d/2;b=g.drawLine(k-2*_,S.y,k,S.y,S.attrs.strokeColor?S.attrs.strokeColor:void 0,S.attrs.strokeDashArray,S.attrs.strokeHeight?S.attrs.strokeHeight:2,S.attrs.strokeLineCap),y.add(b)}}),y}},{key:"drawBarShadow",value:function(i){var s=i.prevPaths,o=i.currPaths,c=i.color,h=this.w,d=s.x,f=s.x1,g=s.barYPosition,y=o.x,b=o.x1,S=o.barYPosition,_=g+o.barHeight,k=new te(this.barCtx.ctx),C=new L,R=k.move(f,_)+k.line(d,_)+k.line(y,S)+k.line(b,S)+k.line(f,_)+(h.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return k.drawPath({d:R,fill:C.shadeColor(.5,L.rgb2hex(c)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(i){var s,o=i.i,c=i.j,h=this.w,d=0,f=0;return(h.config.plotOptions.bar.horizontal?h.globals.series.map(function(g,y){return y}):((s=h.globals.columnSeries)===null||s===void 0?void 0:s.i.map(function(g){return g}))||[]).forEach(function(g){var y=h.globals.seriesPercent[g][c];y&&d++,g<o&&y===0&&f++}),{nonZeroColumns:d,zeroEncounters:f}}},{key:"getGroupIndex",value:function(i){var s=this.w,o=s.globals.seriesGroups.findIndex(function(d){return d.indexOf(s.globals.seriesNames[i])>-1}),c=this.barCtx.columnGroupIndices,h=c.indexOf(o);return h<0&&(c.push(o),h=c.length-1),{groupIndex:o,columnGroupIndex:h}}}]),V}(),di=function(){function V(i,s){l(this,V),this.ctx=i,this.w=i.w;var o=this.w;this.barOptions=o.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=o.config.stroke.width,this.isNullValue=!1,this.isRangeBar=o.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!o.globals.isBarHorizontal&&o.globals.seriesRange.length&&o.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=s,this.xyRatios!==null&&(this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.invertedXRatio=s.invertedXRatio,this.invertedYRatio=s.invertedYRatio,this.baseLineY=s.baseLineY,this.baseLineInvertedY=s.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var c=new Ne(this.ctx);this.lastActiveBarSerieIndex=c.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var h=c.getBarSeriesIndices(),d=new oe(this.ctx);this.stackedSeriesTotals=d.getStackedSeriesTotals(this.w.config.series.map(function(f,g){return h.indexOf(g)===-1?g:-1}).filter(function(f){return f!==-1})),this.barHelpers=new us(this)}return p(V,[{key:"draw",value:function(i,s){var o=this.w,c=new te(this.ctx),h=new oe(this.ctx,o);i=h.getLogSeries(i),this.series=i,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);var d=c.group({class:"apexcharts-bar-series apexcharts-plot-series"});o.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var f=0,g=0;f<i.length;f++,g++){var y,b,S,_,k=void 0,C=void 0,R=[],O=[],F=o.globals.comboCharts?s[f]:f,U=this.barHelpers.getGroupIndex(F).columnGroupIndex,v=c.group({class:"apexcharts-series",rel:f+1,seriesName:L.escapeString(o.globals.seriesNames[F]),"data:realIndex":F});this.ctx.series.addCollapsedClassToSeries(v,F),i[f].length>0&&(this.visibleI=this.visibleI+1);var E=0,N=0;this.yRatio.length>1&&(this.yaxisIndex=o.globals.seriesYAxisReverseMap[F],this.translationsIndex=F);var H=this.translationsIndex;this.isReversed=o.config.yaxis[this.yaxisIndex]&&o.config.yaxis[this.yaxisIndex].reversed;var B=this.barHelpers.initialPositions();C=B.y,E=B.barHeight,b=B.yDivision,_=B.zeroW,k=B.x,N=B.barWidth,y=B.xDivision,S=B.zeroH,this.horizontal||O.push(k+N/2);var G=c.group({class:"apexcharts-datalabels","data:realIndex":F});o.globals.delayedElements.push({el:G.node}),G.node.classList.add("apexcharts-element-hidden");var ae=c.group({class:"apexcharts-bar-goals-markers"}),se=c.group({class:"apexcharts-bar-shadows"});o.globals.delayedElements.push({el:se.node}),se.node.classList.add("apexcharts-element-hidden");for(var ge=0;ge<i[f].length;ge++){var fe=this.barHelpers.getStrokeWidth(f,ge,F),he=null,ve={indexes:{i:f,j:ge,realIndex:F,translationsIndex:H,bc:g},x:k,y:C,strokeWidth:fe,elSeries:v};this.isHorizontal?(he=this.drawBarPaths(r(r({},ve),{},{barHeight:E,zeroW:_,yDivision:b})),N=this.series[f][ge]/this.invertedYRatio):(he=this.drawColumnPaths(r(r({},ve),{},{xDivision:y,barWidth:N,zeroH:S})),E=this.series[f][ge]/this.yRatio[H]);var Te=this.barHelpers.getPathFillColor(i,f,ge,F);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ge>0){var Me=this.barHelpers.drawBarShadow({color:typeof Te=="string"&&(Te==null?void 0:Te.indexOf("url"))===-1?Te:L.hexToRgba(o.globals.colors[f]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:he});Me&&se.add(Me)}this.pathArr.push(he);var Be=this.barHelpers.drawGoalLine({barXPosition:he.barXPosition,barYPosition:he.barYPosition,goalX:he.goalX,goalY:he.goalY,barHeight:E,barWidth:N});Be&&ae.add(Be),C=he.y,k=he.x,ge>0&&O.push(k+N/2),R.push(C),this.renderSeries({realIndex:F,pathFill:Te,j:ge,i:f,columnGroupIndex:U,pathFrom:he.pathFrom,pathTo:he.pathTo,strokeWidth:fe,elSeries:v,x:k,y:C,series:i,barHeight:Math.abs(he.barHeight?he.barHeight:E),barWidth:Math.abs(he.barWidth?he.barWidth:N),elDataLabelsWrap:G,elGoalsMarkers:ae,elBarShadows:se,visibleSeries:this.visibleI,type:"bar"})}o.globals.seriesXvalues[F]=O,o.globals.seriesYvalues[F]=R,d.add(v)}return d}},{key:"renderSeries",value:function(i){var s=i.realIndex,o=i.pathFill,c=i.lineFill,h=i.j,d=i.i,f=i.columnGroupIndex,g=i.pathFrom,y=i.pathTo,b=i.strokeWidth,S=i.elSeries,_=i.x,k=i.y,C=i.y1,R=i.y2,O=i.series,F=i.barHeight,U=i.barWidth,v=i.barXPosition,E=i.barYPosition,N=i.elDataLabelsWrap,H=i.elGoalsMarkers,B=i.elBarShadows,G=i.visibleSeries,ae=i.type,se=this.w,ge=new te(this.ctx);if(!c){var fe=typeof se.globals.stroke.colors[s]=="function"?function(Be){var qe,it=se.config.stroke.colors;return Array.isArray(it)&&it.length>0&&((qe=it[Be])||(qe=""),typeof qe=="function")?qe({value:se.globals.series[Be][h],dataPointIndex:h,w:se}):qe}(s):se.globals.stroke.colors[s];c=this.barOptions.distributed?se.globals.stroke.colors[h]:fe}se.config.series[d].data[h]&&se.config.series[d].data[h].strokeColor&&(c=se.config.series[d].data[h].strokeColor),this.isNullValue&&(o="none");var he=h/se.config.chart.animations.animateGradually.delay*(se.config.chart.animations.speed/se.globals.dataPoints)/2.4,ve=ge.renderPaths({i:d,j:h,realIndex:s,pathFrom:g,pathTo:y,stroke:c,strokeWidth:b,strokeLineCap:se.config.stroke.lineCap,fill:o,animationDelay:he,initialSpeed:se.config.chart.animations.speed,dataChangeSpeed:se.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(ae,"-area")});ve.attr("clip-path","url(#gridRectMask".concat(se.globals.cuid,")"));var Te=se.config.forecastDataPoints;Te.count>0&&h>=se.globals.dataPoints-Te.count&&(ve.node.setAttribute("stroke-dasharray",Te.dashArray),ve.node.setAttribute("stroke-width",Te.strokeWidth),ve.node.setAttribute("fill-opacity",Te.fillOpacity)),C!==void 0&&R!==void 0&&(ve.attr("data-range-y1",C),ve.attr("data-range-y2",R)),new re(this.ctx).setSelectionFilter(ve,s,h),S.add(ve);var Me=new Jo(this).handleBarDataLabels({x:_,y:k,y1:C,y2:R,i:d,j:h,series:O,realIndex:s,columnGroupIndex:f,barHeight:F,barWidth:U,barXPosition:v,barYPosition:E,renderedPath:ve,visibleSeries:G});return Me.dataLabels!==null&&N.add(Me.dataLabels),Me.totalDataLabels&&N.add(Me.totalDataLabels),S.add(N),H&&S.add(H),B&&S.add(B),S}},{key:"drawBarPaths",value:function(i){var s,o=i.indexes,c=i.barHeight,h=i.strokeWidth,d=i.zeroW,f=i.x,g=i.y,y=i.yDivision,b=i.elSeries,S=this.w,_=o.i,k=o.j;if(S.globals.isXNumeric)s=(g=(S.globals.seriesX[_][k]-S.globals.minX)/this.invertedXRatio-c)+c*this.visibleI;else if(S.config.plotOptions.bar.hideZeroBarsWhenGrouped){var C=0,R=0;S.globals.seriesPercent.forEach(function(F,U){F[k]&&C++,U<_&&F[k]===0&&R++}),C>0&&(c=this.seriesLen*c/C),s=g+c*this.visibleI,s-=c*R}else s=g+c*this.visibleI;this.isFunnel&&(d-=(this.barHelpers.getXForValue(this.series[_][k],d)-d)/2),f=this.barHelpers.getXForValue(this.series[_][k],d);var O=this.barHelpers.getBarpaths({barYPosition:s,barHeight:c,x1:d,x2:f,strokeWidth:h,series:this.series,realIndex:o.realIndex,i:_,j:k,w:S});return S.globals.isXNumeric||(g+=y),this.barHelpers.barBackground({j:k,i:_,y1:s-c*this.visibleI,y2:c*this.seriesLen,elSeries:b}),{pathTo:O.pathTo,pathFrom:O.pathFrom,x1:d,x:f,y:g,goalX:this.barHelpers.getGoalValues("x",d,null,_,k),barYPosition:s,barHeight:c}}},{key:"drawColumnPaths",value:function(i){var s,o=i.indexes,c=i.x,h=i.y,d=i.xDivision,f=i.barWidth,g=i.zeroH,y=i.strokeWidth,b=i.elSeries,S=this.w,_=o.realIndex,k=o.translationsIndex,C=o.i,R=o.j,O=o.bc;if(S.globals.isXNumeric){var F=this.getBarXForNumericXAxis({x:c,j:R,realIndex:_,barWidth:f});c=F.x,s=F.barXPosition}else if(S.config.plotOptions.bar.hideZeroBarsWhenGrouped){var U=this.barHelpers.getZeroValueEncounters({i:C,j:R}),v=U.nonZeroColumns,E=U.zeroEncounters;v>0&&(f=this.seriesLen*f/v),s=c+f*this.visibleI,s-=f*E}else s=c+f*this.visibleI;h=this.barHelpers.getYForValue(this.series[C][R],g,k);var N=this.barHelpers.getColumnPaths({barXPosition:s,barWidth:f,y1:g,y2:h,strokeWidth:y,series:this.series,realIndex:_,i:C,j:R,w:S});return S.globals.isXNumeric||(c+=d),this.barHelpers.barBackground({bc:O,j:R,i:C,x1:s-y/2-f*this.visibleI,x2:f*this.seriesLen+y/2,elSeries:b}),{pathTo:N.pathTo,pathFrom:N.pathFrom,x:c,y:h,goalY:this.barHelpers.getGoalValues("y",null,g,C,R,k),barXPosition:s,barWidth:f}}},{key:"getBarXForNumericXAxis",value:function(i){var s=i.x,o=i.barWidth,c=i.realIndex,h=i.j,d=this.w,f=c;return d.globals.seriesX[c].length||(f=d.globals.maxValsInArrayIndex),d.globals.seriesX[f][h]&&(s=(d.globals.seriesX[f][h]-d.globals.minX)/this.xRatio-o*this.seriesLen/2),{barXPosition:s+o*this.visibleI,x:s}}},{key:"getPreviousPath",value:function(i,s){for(var o,c=this.w,h=0;h<c.globals.previousPaths.length;h++){var d=c.globals.previousPaths[h];d.paths&&d.paths.length>0&&parseInt(d.realIndex,10)===parseInt(i,10)&&c.globals.previousPaths[h].paths[s]!==void 0&&(o=c.globals.previousPaths[h].paths[s].d)}return o}}]),V}(),Gs=function(V){w(s,di);var i=z(s);function s(){return l(this,s),i.apply(this,arguments)}return p(s,[{key:"draw",value:function(o,c){var h=this,d=this.w;this.graphics=new te(this.ctx),this.bar=new di(this.ctx,this.xyRatios);var f=new oe(this.ctx,d);o=f.getLogSeries(o),this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o),d.config.chart.stackType==="100%"&&(o=d.globals.comboCharts?c.map(function(C){return d.globals.seriesPercent[C]}):d.globals.seriesPercent.slice()),this.series=o,this.barHelpers.initializeStackedPrevVars(this);for(var g=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),y=0,b=0,S=function(C,R){var O=void 0,F=void 0,U=void 0,v=void 0,E=d.globals.comboCharts?c[C]:C,N=h.barHelpers.getGroupIndex(E),H=N.groupIndex,B=N.columnGroupIndex;h.groupCtx=h[d.globals.seriesGroups[H]];var G=[],ae=[],se=0;h.yRatio.length>1&&(h.yaxisIndex=d.globals.seriesYAxisReverseMap[E][0],se=E),h.isReversed=d.config.yaxis[h.yaxisIndex]&&d.config.yaxis[h.yaxisIndex].reversed;var ge=h.graphics.group({class:"apexcharts-series",seriesName:L.escapeString(d.globals.seriesNames[E]),rel:C+1,"data:realIndex":E});h.ctx.series.addCollapsedClassToSeries(ge,E);var fe=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":E}),he=h.graphics.group({class:"apexcharts-bar-goals-markers"}),ve=0,Te=0,Me=h.initialPositions(y,b,O,F,U,v,se);b=Me.y,ve=Me.barHeight,F=Me.yDivision,v=Me.zeroW,y=Me.x,Te=Me.barWidth,O=Me.xDivision,U=Me.zeroH,d.globals.barHeight=ve,d.globals.barWidth=Te,h.barHelpers.initializeStackedXYVars(h),h.groupCtx.prevY.length===1&&h.groupCtx.prevY[0].every(function(Ct){return isNaN(Ct)})&&(h.groupCtx.prevY[0]=h.groupCtx.prevY[0].map(function(){return U}),h.groupCtx.prevYF[0]=h.groupCtx.prevYF[0].map(function(){return 0}));for(var Be=0;Be<d.globals.dataPoints;Be++){var qe=h.barHelpers.getStrokeWidth(C,Be,E),it={indexes:{i:C,j:Be,realIndex:E,translationsIndex:se,bc:R},strokeWidth:qe,x:y,y:b,elSeries:ge,columnGroupIndex:B,seriesGroup:d.globals.seriesGroups[H]},nt=null;h.isHorizontal?(nt=h.drawStackedBarPaths(r(r({},it),{},{zeroW:v,barHeight:ve,yDivision:F})),Te=h.series[C][Be]/h.invertedYRatio):(nt=h.drawStackedColumnPaths(r(r({},it),{},{xDivision:O,barWidth:Te,zeroH:U})),ve=h.series[C][Be]/h.yRatio[se]);var ft=h.barHelpers.drawGoalLine({barXPosition:nt.barXPosition,barYPosition:nt.barYPosition,goalX:nt.goalX,goalY:nt.goalY,barHeight:ve,barWidth:Te});ft&&he.add(ft),b=nt.y,y=nt.x,G.push(y),ae.push(b);var Pt=h.barHelpers.getPathFillColor(o,C,Be,E);ge=h.renderSeries({realIndex:E,pathFill:Pt,j:Be,i:C,columnGroupIndex:B,pathFrom:nt.pathFrom,pathTo:nt.pathTo,strokeWidth:qe,elSeries:ge,x:y,y:b,series:o,barHeight:ve,barWidth:Te,elDataLabelsWrap:fe,elGoalsMarkers:he,type:"bar",visibleSeries:B})}d.globals.seriesXvalues[E]=G,d.globals.seriesYvalues[E]=ae,h.groupCtx.prevY.push(h.groupCtx.yArrj),h.groupCtx.prevYF.push(h.groupCtx.yArrjF),h.groupCtx.prevYVal.push(h.groupCtx.yArrjVal),h.groupCtx.prevX.push(h.groupCtx.xArrj),h.groupCtx.prevXF.push(h.groupCtx.xArrjF),h.groupCtx.prevXVal.push(h.groupCtx.xArrjVal),g.add(ge)},_=0,k=0;_<o.length;_++,k++)S(_,k);return g}},{key:"initialPositions",value:function(o,c,h,d,f,g,y){var b,S,_=this.w;if(this.isHorizontal){d=_.globals.gridHeight/_.globals.dataPoints;var k=_.config.plotOptions.bar.barHeight;b=String(k).indexOf("%")===-1?parseInt(k,10):d*parseInt(k,10)/100,g=_.globals.padHorizontal+(this.isReversed?_.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),c=(d-b)/2}else{S=h=_.globals.gridWidth/_.globals.dataPoints;var C=_.config.plotOptions.bar.columnWidth;_.globals.isXNumeric&&_.globals.dataPoints>1?S=(h=_.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(C).indexOf("%")===-1?S=parseInt(C,10):S*=parseInt(C,10)/100,f=_.globals.gridHeight-this.baseLineY[y]-(this.isReversed?_.globals.gridHeight:0),o=_.globals.padHorizontal+(h-S)/2}var R=_.globals.barGroups.length||1;return{x:o,y:c,yDivision:d,xDivision:h,barHeight:b/R,barWidth:S/R,zeroH:f,zeroW:g}}},{key:"drawStackedBarPaths",value:function(o){for(var c,h=o.indexes,d=o.barHeight,f=o.strokeWidth,g=o.zeroW,y=o.x,b=o.y,S=o.columnGroupIndex,_=o.seriesGroup,k=o.yDivision,C=o.elSeries,R=this.w,O=b+S*d,F=h.i,U=h.j,v=h.realIndex,E=h.translationsIndex,N=0,H=0;H<this.groupCtx.prevXF.length;H++)N+=this.groupCtx.prevXF[H][U];var B;if((B=_.indexOf(R.config.series[v].name))>0){var G=g;this.groupCtx.prevXVal[B-1][U]<0?G=this.series[F][U]>=0?this.groupCtx.prevX[B-1][U]+N-2*(this.isReversed?N:0):this.groupCtx.prevX[B-1][U]:this.groupCtx.prevXVal[B-1][U]>=0&&(G=this.series[F][U]>=0?this.groupCtx.prevX[B-1][U]:this.groupCtx.prevX[B-1][U]-N+2*(this.isReversed?N:0)),c=G}else c=g;y=this.series[F][U]===null?c:c+this.series[F][U]/this.invertedYRatio-2*(this.isReversed?this.series[F][U]/this.invertedYRatio:0);var ae=this.barHelpers.getBarpaths({barYPosition:O,barHeight:d,x1:c,x2:y,strokeWidth:f,series:this.series,realIndex:h.realIndex,seriesGroup:_,i:F,j:U,w:R});return this.barHelpers.barBackground({j:U,i:F,y1:O,y2:d,elSeries:C}),b+=k,{pathTo:ae.pathTo,pathFrom:ae.pathFrom,goalX:this.barHelpers.getGoalValues("x",g,null,F,U,E),barXPosition:c,barYPosition:O,x:y,y:b}}},{key:"drawStackedColumnPaths",value:function(o){var c=o.indexes,h=o.x,d=o.y,f=o.xDivision,g=o.barWidth,y=o.zeroH,b=o.columnGroupIndex,S=o.seriesGroup,_=o.elSeries,k=this.w,C=c.i,R=c.j,O=c.bc,F=c.realIndex,U=c.translationsIndex;if(k.globals.isXNumeric){var v=k.globals.seriesX[F][R];v||(v=0),h=(v-k.globals.minX)/this.xRatio-g/2*k.globals.barGroups.length}for(var E,N=h+b*g,H=0,B=0;B<this.groupCtx.prevYF.length;B++)H+=isNaN(this.groupCtx.prevYF[B][R])?0:this.groupCtx.prevYF[B][R];var G=C;if(S&&(G=S.indexOf(k.globals.seriesNames[F])),G>0&&!k.globals.isXNumeric||G>0&&k.globals.isXNumeric&&k.globals.seriesX[F-1][R]===k.globals.seriesX[F][R]){var ae,se,ge,fe=Math.min(this.yRatio.length+1,F+1);if(this.groupCtx.prevY[G-1]!==void 0&&this.groupCtx.prevY[G-1].length)for(var he=1;he<fe;he++){var ve;if(!isNaN((ve=this.groupCtx.prevY[G-he])===null||ve===void 0?void 0:ve[R])){ge=this.groupCtx.prevY[G-he][R];break}}for(var Te=1;Te<fe;Te++){var Me,Be;if(((Me=this.groupCtx.prevYVal[G-Te])===null||Me===void 0?void 0:Me[R])<0){se=this.series[C][R]>=0?ge-H+2*(this.isReversed?H:0):ge;break}if(((Be=this.groupCtx.prevYVal[G-Te])===null||Be===void 0?void 0:Be[R])>=0){se=this.series[C][R]>=0?ge:ge+H-2*(this.isReversed?H:0);break}}se===void 0&&(se=k.globals.gridHeight),E=(ae=this.groupCtx.prevYF[0])!==null&&ae!==void 0&&ae.every(function(it){return it===0})&&this.groupCtx.prevYF.slice(1,G).every(function(it){return it.every(function(nt){return isNaN(nt)})})?y:se}else E=y;d=this.series[C][R]?E-this.series[C][R]/this.yRatio[U]+2*(this.isReversed?this.series[C][R]/this.yRatio[U]:0):E;var qe=this.barHelpers.getColumnPaths({barXPosition:N,barWidth:g,y1:E,y2:d,yRatio:this.yRatio[U],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:S,realIndex:c.realIndex,i:C,j:R,w:k});return this.barHelpers.barBackground({bc:O,j:R,i:C,x1:N,x2:g,elSeries:_}),{pathTo:qe.pathTo,pathFrom:qe.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,y,C,R),barXPosition:N,x:k.globals.isXNumeric?h:h+f,y:d}}}]),s}(),fi=function(V){w(s,di);var i=z(s);function s(){return l(this,s),i.apply(this,arguments)}return p(s,[{key:"draw",value:function(o,c,h){var d=this,f=this.w,g=new te(this.ctx),y=f.globals.comboCharts?c:f.config.chart.type,b=new Oe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=f.config.plotOptions.bar.horizontal;var S=new oe(this.ctx,f);o=S.getLogSeries(o),this.series=o,this.yRatio=S.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o);for(var _=g.group({class:"apexcharts-".concat(y,"-series apexcharts-plot-series")}),k=function(R){d.isBoxPlot=f.config.chart.type==="boxPlot"||f.config.series[R].type==="boxPlot";var O,F,U,v,E=void 0,N=void 0,H=[],B=[],G=f.globals.comboCharts?h[R]:R,ae=d.barHelpers.getGroupIndex(G).columnGroupIndex,se=g.group({class:"apexcharts-series",seriesName:L.escapeString(f.globals.seriesNames[G]),rel:R+1,"data:realIndex":G});d.ctx.series.addCollapsedClassToSeries(se,G),o[R].length>0&&(d.visibleI=d.visibleI+1);var ge,fe,he=0;d.yRatio.length>1&&(d.yaxisIndex=f.globals.seriesYAxisReverseMap[G][0],he=G);var ve=d.barHelpers.initialPositions();N=ve.y,ge=ve.barHeight,F=ve.yDivision,v=ve.zeroW,E=ve.x,fe=ve.barWidth,O=ve.xDivision,U=ve.zeroH,B.push(E+fe/2);for(var Te=g.group({class:"apexcharts-datalabels","data:realIndex":G}),Me=function(qe){var it=d.barHelpers.getStrokeWidth(R,qe,G),nt=null,ft={indexes:{i:R,j:qe,realIndex:G,translationsIndex:he},x:E,y:N,strokeWidth:it,elSeries:se};nt=d.isHorizontal?d.drawHorizontalBoxPaths(r(r({},ft),{},{yDivision:F,barHeight:ge,zeroW:v})):d.drawVerticalBoxPaths(r(r({},ft),{},{xDivision:O,barWidth:fe,zeroH:U})),N=nt.y,E=nt.x,qe>0&&B.push(E+fe/2),H.push(N),nt.pathTo.forEach(function(Pt,Ct){var Nt=!d.isBoxPlot&&d.candlestickOptions.wick.useFillColor?nt.color[Ct]:f.globals.stroke.colors[R],Yn=b.fillPath({seriesNumber:G,dataPointIndex:qe,color:nt.color[Ct],value:o[R][qe]});d.renderSeries({realIndex:G,pathFill:Yn,lineFill:Nt,j:qe,i:R,pathFrom:nt.pathFrom,pathTo:Pt,strokeWidth:it,elSeries:se,x:E,y:N,series:o,columnGroupIndex:ae,barHeight:ge,barWidth:fe,elDataLabelsWrap:Te,visibleSeries:d.visibleI,type:f.config.chart.type})})},Be=0;Be<f.globals.dataPoints;Be++)Me(Be);f.globals.seriesXvalues[G]=B,f.globals.seriesYvalues[G]=H,_.add(se)},C=0;C<o.length;C++)k(C);return _}},{key:"drawVerticalBoxPaths",value:function(o){var c=o.indexes,h=o.x;o.y;var d=o.xDivision,f=o.barWidth,g=o.zeroH,y=o.strokeWidth,b=this.w,S=new te(this.ctx),_=c.i,k=c.j,C=!0,R=b.config.plotOptions.candlestick.colors.upward,O=b.config.plotOptions.candlestick.colors.downward,F="";this.isBoxPlot&&(F=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var U=this.yRatio[c.translationsIndex],v=c.realIndex,E=this.getOHLCValue(v,k),N=g,H=g;E.o>E.c&&(C=!1);var B=Math.min(E.o,E.c),G=Math.max(E.o,E.c),ae=E.m;b.globals.isXNumeric&&(h=(b.globals.seriesX[v][k]-b.globals.minX)/this.xRatio-f/2);var se=h+f*this.visibleI;this.series[_][k]===void 0||this.series[_][k]===null?(B=g,G=g):(B=g-B/U,G=g-G/U,N=g-E.h/U,H=g-E.l/U,ae=g-E.m/U);var ge=S.move(se,g),fe=S.move(se+f/2,B);return b.globals.previousPaths.length>0&&(fe=this.getPreviousPath(v,k,!0)),ge=this.isBoxPlot?[S.move(se,B)+S.line(se+f/2,B)+S.line(se+f/2,N)+S.line(se+f/4,N)+S.line(se+f-f/4,N)+S.line(se+f/2,N)+S.line(se+f/2,B)+S.line(se+f,B)+S.line(se+f,ae)+S.line(se,ae)+S.line(se,B+y/2),S.move(se,ae)+S.line(se+f,ae)+S.line(se+f,G)+S.line(se+f/2,G)+S.line(se+f/2,H)+S.line(se+f-f/4,H)+S.line(se+f/4,H)+S.line(se+f/2,H)+S.line(se+f/2,G)+S.line(se,G)+S.line(se,ae)+"z"]:[S.move(se,G)+S.line(se+f/2,G)+S.line(se+f/2,N)+S.line(se+f/2,G)+S.line(se+f,G)+S.line(se+f,B)+S.line(se+f/2,B)+S.line(se+f/2,H)+S.line(se+f/2,B)+S.line(se,B)+S.line(se,G-y/2)],fe+=S.move(se,B),b.globals.isXNumeric||(h+=d),{pathTo:ge,pathFrom:fe,x:h,y:G,barXPosition:se,color:this.isBoxPlot?F:C?[R]:[O]}}},{key:"drawHorizontalBoxPaths",value:function(o){var c=o.indexes;o.x;var h=o.y,d=o.yDivision,f=o.barHeight,g=o.zeroW,y=o.strokeWidth,b=this.w,S=new te(this.ctx),_=c.i,k=c.j,C=this.boxOptions.colors.lower;this.isBoxPlot&&(C=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var R=this.invertedYRatio,O=c.realIndex,F=this.getOHLCValue(O,k),U=g,v=g,E=Math.min(F.o,F.c),N=Math.max(F.o,F.c),H=F.m;b.globals.isXNumeric&&(h=(b.globals.seriesX[O][k]-b.globals.minX)/this.invertedXRatio-f/2);var B=h+f*this.visibleI;this.series[_][k]===void 0||this.series[_][k]===null?(E=g,N=g):(E=g+E/R,N=g+N/R,U=g+F.h/R,v=g+F.l/R,H=g+F.m/R);var G=S.move(g,B),ae=S.move(E,B+f/2);return b.globals.previousPaths.length>0&&(ae=this.getPreviousPath(O,k,!0)),G=[S.move(E,B)+S.line(E,B+f/2)+S.line(U,B+f/2)+S.line(U,B+f/2-f/4)+S.line(U,B+f/2+f/4)+S.line(U,B+f/2)+S.line(E,B+f/2)+S.line(E,B+f)+S.line(H,B+f)+S.line(H,B)+S.line(E+y/2,B),S.move(H,B)+S.line(H,B+f)+S.line(N,B+f)+S.line(N,B+f/2)+S.line(v,B+f/2)+S.line(v,B+f-f/4)+S.line(v,B+f/4)+S.line(v,B+f/2)+S.line(N,B+f/2)+S.line(N,B)+S.line(H,B)+"z"],ae+=S.move(E,B),b.globals.isXNumeric||(h+=d),{pathTo:G,pathFrom:ae,x:N,y:h,barYPosition:B,color:C}}},{key:"getOHLCValue",value:function(o,c){var h=this.w;return{o:this.isBoxPlot?h.globals.seriesCandleH[o][c]:h.globals.seriesCandleO[o][c],h:this.isBoxPlot?h.globals.seriesCandleO[o][c]:h.globals.seriesCandleH[o][c],m:h.globals.seriesCandleM[o][c],l:this.isBoxPlot?h.globals.seriesCandleC[o][c]:h.globals.seriesCandleL[o][c],c:this.isBoxPlot?h.globals.seriesCandleL[o][c]:h.globals.seriesCandleC[o][c]}}}]),s}(),hs=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"checkColorRange",value:function(){var i=this.w,s=!1,o=i.config.plotOptions[i.config.chart.type];return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(c,h){c.from<=0&&(s=!0)}),s}},{key:"getShadeColor",value:function(i,s,o,c){var h=this.w,d=1,f=h.config.plotOptions[i].shadeIntensity,g=this.determineColor(i,s,o);h.globals.hasNegs||c?d=h.config.plotOptions[i].reverseNegativeShade?g.percent<0?g.percent/100*(1.25*f):(1-g.percent/100)*(1.25*f):g.percent<=0?1-(1+g.percent/100)*f:(1-g.percent/100)*f:(d=1-g.percent/100,i==="treemap"&&(d=(1-g.percent/100)*(1.25*f)));var y=g.color,b=new L;return h.config.plotOptions[i].enableShades&&(y=this.w.config.theme.mode==="dark"?L.hexToRgba(b.shadeColor(-1*d,g.color),h.config.fill.opacity):L.hexToRgba(b.shadeColor(d,g.color),h.config.fill.opacity)),{color:y,colorProps:g}}},{key:"determineColor",value:function(i,s,o){var c=this.w,h=c.globals.series[s][o],d=c.config.plotOptions[i],f=d.colorScale.inverse?o:s;d.distributed&&c.config.chart.type==="treemap"&&(f=o);var g=c.globals.colors[f],y=null,b=Math.min.apply(Math,q(c.globals.series[s])),S=Math.max.apply(Math,q(c.globals.series[s]));d.distributed||i!=="heatmap"||(b=c.globals.minY,S=c.globals.maxY),d.colorScale.min!==void 0&&(b=d.colorScale.min<c.globals.minY?d.colorScale.min:c.globals.minY,S=d.colorScale.max>c.globals.maxY?d.colorScale.max:c.globals.maxY);var _=Math.abs(S)+Math.abs(b),k=100*h/(_===0?_-1e-6:_);return d.colorScale.ranges.length>0&&d.colorScale.ranges.map(function(C,R){if(h>=C.from&&h<=C.to){g=C.color,y=C.foreColor?C.foreColor:null,b=C.from,S=C.to;var O=Math.abs(S)+Math.abs(b);k=100*h/(O===0?O-1e-6:O)}}),{color:g,foreColor:y,percent:k}}},{key:"calculateDataLabels",value:function(i){var s=i.text,o=i.x,c=i.y,h=i.i,d=i.j,f=i.colorProps,g=i.fontSize,y=this.w.config.dataLabels,b=new te(this.ctx),S=new Pe(this.ctx),_=null;if(y.enabled){_=b.group({class:"apexcharts-data-labels"});var k=y.offsetX,C=y.offsetY,R=o+k,O=c+parseFloat(y.style.fontSize)/3+C;S.plotDataLabelsText({x:R,y:O,text:s,i:h,j:d,color:f.foreColor,parent:_,fontSize:g,dataLabelsConfig:y})}return _}},{key:"addListeners",value:function(i){var s=new te(this.ctx);i.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,i)),i.node.addEventListener("mousedown",s.pathMouseDown.bind(this,i))}}]),V}(),Wa=function(){function V(i,s){l(this,V),this.ctx=i,this.w=i.w,this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new hs(i),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return p(V,[{key:"draw",value:function(i){var s=this.w,o=new te(this.ctx),c=o.group({class:"apexcharts-heatmap"});c.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")"));var h=s.globals.gridWidth/s.globals.dataPoints,d=s.globals.gridHeight/s.globals.series.length,f=0,g=!1;this.negRange=this.helpers.checkColorRange();var y=i.slice();s.config.yaxis[0].reversed&&(g=!0,y.reverse());for(var b=g?0:y.length-1;g?b<y.length:b>=0;g?b++:b--){var S=o.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:L.escapeString(s.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});if(this.ctx.series.addCollapsedClassToSeries(S,b),s.config.chart.dropShadow.enabled){var _=s.config.chart.dropShadow;new re(this.ctx).dropShadow(S,_,b)}for(var k=0,C=s.config.plotOptions.heatmap.shadeIntensity,R=0;R<y[b].length;R++){var O=this.helpers.getShadeColor(s.config.chart.type,b,R,this.negRange),F=O.color,U=O.colorProps;s.config.fill.type==="image"&&(F=new Oe(this.ctx).fillPath({seriesNumber:b,dataPointIndex:R,opacity:s.globals.hasNegs?U.percent<0?1-(1+U.percent/100):C+U.percent/100:U.percent/100,patternID:L.randomId(),width:s.config.fill.image.width?s.config.fill.image.width:h,height:s.config.fill.image.height?s.config.fill.image.height:d}));var v=this.rectRadius,E=o.drawRect(k,f,h,d,v);if(E.attr({cx:k,cy:f}),E.node.classList.add("apexcharts-heatmap-rect"),S.add(E),E.attr({fill:F,i:b,index:b,j:R,val:i[b][R],"stroke-width":this.strokeWidth,stroke:s.config.plotOptions.heatmap.useFillColorAsStroke?F:s.globals.stroke.colors[0],color:F}),this.helpers.addListeners(E),s.config.chart.animations.enabled&&!s.globals.dataChanged){var N=1;s.globals.resized||(N=s.config.chart.animations.speed),this.animateHeatMap(E,k,f,h,d,N)}if(s.globals.dataChanged){var H=1;if(this.dynamicAnim.enabled&&s.globals.shouldAnimate){H=this.dynamicAnim.speed;var B=s.globals.previousPaths[b]&&s.globals.previousPaths[b][R]&&s.globals.previousPaths[b][R].color;B||(B="rgba(255, 255, 255, 0)"),this.animateHeatColor(E,L.isColorHex(B)?B:L.rgb2hex(B),L.isColorHex(F)?F:L.rgb2hex(F),H)}}var G=(0,s.config.dataLabels.formatter)(s.globals.series[b][R],{value:s.globals.series[b][R],seriesIndex:b,dataPointIndex:R,w:s}),ae=this.helpers.calculateDataLabels({text:G,x:k+h/2,y:f+d/2,i:b,j:R,colorProps:U,series:y});ae!==null&&S.add(ae),k+=h}f+=d,c.add(S)}var se=s.globals.yAxisScale[0].result.slice();return s.config.yaxis[0].reversed?se.unshift(""):se.push(""),s.globals.yAxisScale[0].result=se,c}},{key:"animateHeatMap",value:function(i,s,o,c,h,d){var f=new J(this.ctx);f.animateRect(i,{x:s+c/2,y:o+h/2,width:0,height:0},{x:s,y:o,width:c,height:h},d,function(){f.animationCompleted(i)})}},{key:"animateHeatColor",value:function(i,s,o,c){i.attr({fill:s}).animate(c).attr({fill:o})}}]),V}(),ce=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"drawYAxisTexts",value:function(i,s,o,c){var h=this.w,d=h.config.yaxis[0],f=h.globals.yLabelFormatters[0];return new te(this.ctx).drawText({x:i+d.labels.offsetX,y:s+d.labels.offsetY,text:f(c,o),textAnchor:"middle",fontSize:d.labels.style.fontSize,fontFamily:d.labels.style.fontFamily,foreColor:Array.isArray(d.labels.style.colors)?d.labels.style.colors[o]:d.labels.style.colors})}}]),V}(),de=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w;var s=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=Math.min(s.globals.gridWidth,s.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=s.globals.gridWidth/2,s.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(s.config.plotOptions.pie.endAngle-s.config.plotOptions.pie.startAngle),this.initialAngle=s.config.plotOptions.pie.startAngle%this.fullAngle,s.globals.radialSize=this.defaultSize/2.05-s.config.stroke.width-(s.config.chart.sparkline.enabled?0:s.config.chart.dropShadow.blur),this.donutSize=s.globals.radialSize*parseInt(s.config.plotOptions.pie.donut.size,10)/100;var o=s.config.plotOptions.pie.customScale,c=s.globals.gridWidth/2,h=s.globals.gridHeight/2;this.translateX=c-c*o,this.translateY=h-h*o,this.dataLabelsGroup=new te(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(o,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return p(V,[{key:"draw",value:function(i){var s=this,o=this.w,c=new te(this.ctx),h=c.group({class:"apexcharts-pie"});if(o.globals.noData)return h;for(var d=0,f=0;f<i.length;f++)d+=L.negToZero(i[f]);var g=[],y=c.group();d===0&&(d=1e-5),i.forEach(function(v){s.maxY=Math.max(s.maxY,v)}),o.config.yaxis[0].max&&(this.maxY=o.config.yaxis[0].max),o.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(h);for(var b=0;b<i.length;b++){var S=this.fullAngle*L.negToZero(i[b])/d;g.push(S),this.chartType==="polarArea"?(g[b]=this.fullAngle/i.length,this.sliceSizes.push(o.globals.radialSize*i[b]/this.maxY)):this.sliceSizes.push(o.globals.radialSize)}if(o.globals.dataChanged){for(var _,k=0,C=0;C<o.globals.previousPaths.length;C++)k+=L.negToZero(o.globals.previousPaths[C]);for(var R=0;R<o.globals.previousPaths.length;R++)_=this.fullAngle*L.negToZero(o.globals.previousPaths[R])/k,this.prevSectorAngleArr.push(_)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var O=c.drawCircle(this.donutSize);O.attr({cx:this.centerX,cy:this.centerY,fill:o.config.plotOptions.pie.donut.background?o.config.plotOptions.pie.donut.background:"transparent"}),y.add(O)}var F=this.drawArcs(g,i);if(this.sliceLabels.forEach(function(v){F.add(v)}),y.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(o.config.plotOptions.pie.customScale,")")}),y.add(F),h.add(y),this.donutDataLabels.show){var U=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});h.add(U)}return o.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(h),h}},{key:"drawArcs",value:function(i,s){var o=this.w,c=new re(this.ctx),h=new te(this.ctx),d=new Oe(this.ctx),f=h.group({class:"apexcharts-slices"}),g=this.initialAngle,y=this.initialAngle,b=this.initialAngle,S=this.initialAngle;this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0;for(var _=0;_<i.length;_++){var k=h.group({class:"apexcharts-series apexcharts-pie-series",seriesName:L.escapeString(o.globals.seriesNames[_]),rel:_+1,"data:realIndex":_});f.add(k),y=S,b=(g=b)+i[_],S=y+this.prevSectorAngleArr[_];var C=b<g?this.fullAngle+b-g:b-g,R=d.fillPath({seriesNumber:_,size:this.sliceSizes[_],value:s[_]}),O=this.getChangedPath(y,S),F=h.drawPath({d:O,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[_]:this.lineColorArr,strokeWidth:0,fill:R,fillOpacity:o.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(_)});if(F.attr({index:0,j:_}),c.setSelectionFilter(F,0,_),o.config.chart.dropShadow.enabled){var U=o.config.chart.dropShadow;c.dropShadow(F,U,_)}this.addListeners(F,this.donutDataLabels),te.setAttrs(F.node,{"data:angle":C,"data:startAngle":g,"data:strokeWidth":this.strokeWidth,"data:value":s[_]});var v={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?v=L.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize/1.25+o.config.plotOptions.pie.dataLabels.offset,(g+C/2)%this.fullAngle):this.chartType==="donut"&&(v=L.polarToCartesian(this.centerX,this.centerY,(o.globals.radialSize+this.donutSize)/2+o.config.plotOptions.pie.dataLabels.offset,(g+C/2)%this.fullAngle)),k.add(F);var E=0;if(!this.initialAnim||o.globals.resized||o.globals.dataChanged?this.animBeginArr.push(0):((E=C/this.fullAngle*o.config.chart.animations.speed)===0&&(E=1),this.animDur=E+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&o.globals.dataChanged?this.animatePaths(F,{size:this.sliceSizes[_],endAngle:b,startAngle:g,prevStartAngle:y,prevEndAngle:S,animateStartingPos:!0,i:_,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:o.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(F,{size:this.sliceSizes[_],endAngle:b,startAngle:g,i:_,totalItems:i.length-1,animBeginArr:this.animBeginArr,dur:E}),o.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&F.node.addEventListener("mouseup",this.pieClicked.bind(this,_)),o.globals.selectedDataPoints[0]!==void 0&&o.globals.selectedDataPoints[0].indexOf(_)>-1&&this.pieClicked(_),o.config.dataLabels.enabled){var N=v.x,H=v.y,B=100*C/this.fullAngle+"%";if(C!==0&&o.config.plotOptions.pie.dataLabels.minAngleToShowLabel<i[_]){var G=o.config.dataLabels.formatter;G!==void 0&&(B=G(o.globals.seriesPercent[_][0],{seriesIndex:_,w:o}));var ae=o.globals.dataLabels.style.colors[_],se=h.group({class:"apexcharts-datalabels"}),ge=h.drawText({x:N,y:H,text:B,textAnchor:"middle",fontSize:o.config.dataLabels.style.fontSize,fontFamily:o.config.dataLabels.style.fontFamily,fontWeight:o.config.dataLabels.style.fontWeight,foreColor:ae});if(se.add(ge),o.config.dataLabels.dropShadow.enabled){var fe=o.config.dataLabels.dropShadow;c.dropShadow(ge,fe)}ge.node.classList.add("apexcharts-pie-label"),o.config.chart.animations.animate&&o.globals.resized===!1&&(ge.node.classList.add("apexcharts-pie-label-delay"),ge.node.style.animationDelay=o.config.chart.animations.speed/940+"s"),this.sliceLabels.push(se)}}}return f}},{key:"addListeners",value:function(i,s){var o=new te(this.ctx);i.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this,i)),i.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,i.node,s)),i.node.addEventListener("mousedown",o.pathMouseDown.bind(this,i)),this.donutDataLabels.total.showAlways||(i.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,i.node,s)),i.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,i.node,s)))}},{key:"animatePaths",value:function(i,s){var o=this.w,c=s.endAngle<s.startAngle?this.fullAngle+s.endAngle-s.startAngle:s.endAngle-s.startAngle,h=c,d=s.startAngle,f=s.startAngle;s.prevStartAngle!==void 0&&s.prevEndAngle!==void 0&&(d=s.prevEndAngle,h=s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle),s.i===o.config.series.length-1&&(c+f>this.fullAngle?s.endAngle=s.endAngle-(c+f):c+f<this.fullAngle&&(s.endAngle=s.endAngle+(this.fullAngle-(c+f)))),c===this.fullAngle&&(c=this.fullAngle-.01),this.animateArc(i,d,f,c,h,s)}},{key:"animateArc",value:function(i,s,o,c,h,d){var f,g=this,y=this.w,b=new J(this.ctx),S=d.size;(isNaN(s)||isNaN(h))&&(s=o,h=c,d.dur=0);var _=c,k=o,C=s<o?this.fullAngle+s-o:s-o;y.globals.dataChanged&&d.shouldSetPrevPaths&&d.prevEndAngle&&(f=g.getPiePath({me:g,startAngle:d.prevStartAngle,angle:d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle,size:S}),i.attr({d:f})),d.dur!==0?i.animate(d.dur,y.globals.easing,d.animBeginArr[d.i]).afterAll(function(){g.chartType!=="pie"&&g.chartType!=="donut"&&g.chartType!=="polarArea"||this.animate(y.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":g.strokeWidth}),d.i===y.config.series.length-1&&b.animationCompleted(i)}).during(function(R){_=C+(c-C)*R,d.animateStartingPos&&(_=h+(c-h)*R,k=s-h+(o-(s-h))*R),f=g.getPiePath({me:g,startAngle:k,angle:_,size:S}),i.node.setAttribute("data:pathOrig",f),i.attr({d:f})}):(f=g.getPiePath({me:g,startAngle:k,angle:c,size:S}),d.isTrack||(y.globals.animationEnded=!0),i.node.setAttribute("data:pathOrig",f),i.attr({d:f,"stroke-width":g.strokeWidth}))}},{key:"pieClicked",value:function(i){var s,o=this.w,c=this,h=c.sliceSizes[i]+(o.config.plotOptions.pie.expandOnClick?4:0),d=o.globals.dom.Paper.select(".apexcharts-".concat(c.chartType.toLowerCase(),"-slice-").concat(i)).members[0];if(d.attr("data:pieClicked")!=="true"){var f=o.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(f,function(S){S.setAttribute("data:pieClicked","false");var _=S.getAttribute("data:pathOrig");_&&S.setAttribute("d",_)}),o.globals.capturedDataPointIndex=i,d.attr("data:pieClicked","true");var g=parseInt(d.attr("data:startAngle"),10),y=parseInt(d.attr("data:angle"),10);s=c.getPiePath({me:c,startAngle:g,angle:y,size:h}),y!==360&&d.plot(s)}else{d.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(d.node,this.donutDataLabels);var b=d.attr("data:pathOrig");d.attr({d:b})}}},{key:"getChangedPath",value:function(i,s){var o="";return this.dynamicAnim&&this.w.globals.dataChanged&&(o=this.getPiePath({me:this,startAngle:i,angle:s-i,size:this.size})),o}},{key:"getPiePath",value:function(i){var s,o=i.me,c=i.startAngle,h=i.angle,d=i.size,f=new te(this.ctx),g=c,y=Math.PI*(g-90)/180,b=h+c;Math.ceil(b)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(b=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(b)>this.fullAngle&&(b-=this.fullAngle);var S=Math.PI*(b-90)/180,_=o.centerX+d*Math.cos(y),k=o.centerY+d*Math.sin(y),C=o.centerX+d*Math.cos(S),R=o.centerY+d*Math.sin(S),O=L.polarToCartesian(o.centerX,o.centerY,o.donutSize,b),F=L.polarToCartesian(o.centerX,o.centerY,o.donutSize,g),U=h>180?1:0,v=["M",_,k,"A",d,d,0,U,1,C,R];return s=o.chartType==="donut"?[].concat(v,["L",O.x,O.y,"A",o.donutSize,o.donutSize,0,U,0,F.x,F.y,"L",_,k,"z"]).join(" "):o.chartType==="pie"||o.chartType==="polarArea"?[].concat(v,["L",o.centerX,o.centerY,"L",_,k]).join(" "):[].concat(v).join(" "),f.roundPathCorners(s,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(i){var s=this.w,o=new cn(this.ctx),c=new te(this.ctx),h=new ce(this.ctx),d=c.group(),f=c.group(),g=o.niceScale(0,Math.ceil(this.maxY),0),y=g.result.reverse(),b=g.result.length;this.maxY=g.niceMax;for(var S=s.globals.radialSize,_=S/(b-1),k=0;k<b-1;k++){var C=c.drawCircle(S);if(C.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":s.config.plotOptions.polarArea.rings.strokeWidth,stroke:s.config.plotOptions.polarArea.rings.strokeColor}),s.config.yaxis[0].show){var R=h.drawYAxisTexts(this.centerX,this.centerY-S+parseInt(s.config.yaxis[0].labels.style.fontSize,10)/2,k,y[k]);f.add(R)}d.add(C),S-=_}this.drawSpokes(i),i.add(d),i.add(f)}},{key:"renderInnerDataLabels",value:function(i,s,o){var c=this.w,h=new te(this.ctx),d=s.total.show;i.node.innerHTML="",i.node.style.opacity=o.opacity;var f,g,y=o.centerX,b=o.centerY;f=s.name.color===void 0?c.globals.colors[0]:s.name.color;var S=s.name.fontSize,_=s.name.fontFamily,k=s.name.fontWeight;g=s.value.color===void 0?c.config.chart.foreColor:s.value.color;var C=s.value.formatter,R="",O="";if(d?(f=s.total.color,S=s.total.fontSize,_=s.total.fontFamily,k=s.total.fontWeight,O=s.total.label,R=s.total.formatter(c)):c.globals.series.length===1&&(R=C(c.globals.series[0],c),O=c.globals.seriesNames[0]),O&&(O=s.name.formatter(O,s.total.show,c)),s.name.show){var F=h.drawText({x:y,y:b+parseFloat(s.name.offsetY),text:O,textAnchor:"middle",foreColor:f,fontSize:S,fontWeight:k,fontFamily:_});F.node.classList.add("apexcharts-datalabel-label"),i.add(F)}if(s.value.show){var U=s.name.show?parseFloat(s.value.offsetY)+16:s.value.offsetY,v=h.drawText({x:y,y:b+U,text:R,textAnchor:"middle",foreColor:g,fontWeight:s.value.fontWeight,fontSize:s.value.fontSize,fontFamily:s.value.fontFamily});v.node.classList.add("apexcharts-datalabel-value"),i.add(v)}return i}},{key:"printInnerLabels",value:function(i,s,o,c){var h,d=this.w;c?h=i.name.color===void 0?d.globals.colors[parseInt(c.parentNode.getAttribute("rel"),10)-1]:i.name.color:d.globals.series.length>1&&i.total.show&&(h=i.total.color);var f=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),g=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");o=(0,i.value.formatter)(o,d),c||typeof i.total.formatter!="function"||(o=i.total.formatter(d));var y=s===i.total.label;s=i.name.formatter(s,y,d),f!==null&&(f.textContent=s),g!==null&&(g.textContent=o),f!==null&&(f.style.fill=h)}},{key:"printDataLabelsInner",value:function(i,s){var o=this.w,c=i.getAttribute("data:value"),h=o.globals.seriesNames[parseInt(i.parentNode.getAttribute("rel"),10)-1];o.globals.series.length>1&&this.printInnerLabels(s,h,c,i);var d=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");d!==null&&(d.style.opacity=1)}},{key:"drawSpokes",value:function(i){var s=this,o=this.w,c=new te(this.ctx),h=o.config.plotOptions.polarArea.spokes;if(h.strokeWidth!==0){for(var d=[],f=360/o.globals.series.length,g=0;g<o.globals.series.length;g++)d.push(L.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize,o.config.plotOptions.pie.startAngle+f*g));d.forEach(function(y,b){var S=c.drawLine(y.x,y.y,s.centerX,s.centerY,Array.isArray(h.connectorColors)?h.connectorColors[b]:h.connectorColors);i.add(S)})}}},{key:"revertDataLabelsInner",value:function(){var i=this.w;if(this.donutDataLabels.show){var s=i.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],o=this.renderInnerDataLabels(s,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});i.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(o)}}}]),V}(),ye=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var s=this.w;this.graphics=new te(this.ctx),this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=s.globals.svgHeight<s.globals.svgWidth?s.globals.gridHeight+1.5*s.globals.goldenPadding:s.globals.gridWidth,this.isLog=s.config.yaxis[0].logarithmic,this.logBase=s.config.yaxis[0].logBase,this.coreUtils=new oe(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,s.globals.maxY,0):s.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):s.globals.minY,this.polygons=s.config.plotOptions.radar.polygons,this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-s.config.chart.dropShadow.blur,s.config.xaxis.labels.show&&(this.size=this.size-s.globals.xAxisLabelsWidth/1.75),s.config.plotOptions.radar.size!==void 0&&(this.size=s.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return p(V,[{key:"draw",value:function(i){var s=this,o=this.w,c=new Oe(this.ctx),h=[],d=new Pe(this.ctx);i.length&&(this.dataPointsLen=i[o.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var f=o.globals.gridWidth/2,g=o.globals.gridHeight/2,y=f+o.config.plotOptions.radar.offsetX,b=g+o.config.plotOptions.radar.offsetY,S=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(y||0,", ").concat(b||0,")")}),_=[],k=null,C=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),i.forEach(function(O,F){var U=O.length===o.globals.dataPoints,v=s.graphics.group().attr({class:"apexcharts-series","data:longestSeries":U,seriesName:L.escapeString(o.globals.seriesNames[F]),rel:F+1,"data:realIndex":F});s.dataRadiusOfPercent[F]=[],s.dataRadius[F]=[],s.angleArr[F]=[],O.forEach(function(he,ve){var Te=Math.abs(s.maxValue-s.minValue);he-=s.minValue,s.isLog&&(he=s.coreUtils.getLogVal(s.logBase,he,0)),s.dataRadiusOfPercent[F][ve]=he/Te,s.dataRadius[F][ve]=s.dataRadiusOfPercent[F][ve]*s.size,s.angleArr[F][ve]=ve*s.disAngle}),_=s.getDataPointsPos(s.dataRadius[F],s.angleArr[F]);var E=s.createPaths(_,{x:0,y:0});k=s.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),C=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":F}),o.globals.delayedElements.push({el:k.node,index:F});var N={i:F,realIndex:F,animationDelay:F,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:o.globals.stroke.colors[F],strokeLineCap:o.config.stroke.lineCap},H=null;o.globals.previousPaths.length>0&&(H=s.getPreviousPath(F));for(var B=0;B<E.linePathsTo.length;B++){var G=s.graphics.renderPaths(r(r({},N),{},{pathFrom:H===null?E.linePathsFrom[B]:H,pathTo:E.linePathsTo[B],strokeWidth:Array.isArray(s.strokeWidth)?s.strokeWidth[F]:s.strokeWidth,fill:"none",drawShadow:!1}));v.add(G);var ae=c.fillPath({seriesNumber:F}),se=s.graphics.renderPaths(r(r({},N),{},{pathFrom:H===null?E.areaPathsFrom[B]:H,pathTo:E.areaPathsTo[B],strokeWidth:0,fill:ae,drawShadow:!1}));if(o.config.chart.dropShadow.enabled){var ge=new re(s.ctx),fe=o.config.chart.dropShadow;ge.dropShadow(se,Object.assign({},fe,{noUserSpaceOnUse:!0}),F)}v.add(se)}O.forEach(function(he,ve){var Te=new ht(s.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:F,dataPointIndex:ve}),Me=s.graphics.drawMarker(_[ve].x,_[ve].y,Te);Me.attr("rel",ve),Me.attr("j",ve),Me.attr("index",F),Me.node.setAttribute("default-marker-size",Te.pSize);var Be=s.graphics.group({class:"apexcharts-series-markers"});Be&&Be.add(Me),k.add(Be),v.add(k);var qe=o.config.dataLabels;if(qe.enabled){var it=qe.formatter(o.globals.series[F][ve],{seriesIndex:F,dataPointIndex:ve,w:o});d.plotDataLabelsText({x:_[ve].x,y:_[ve].y,text:it,textAnchor:"middle",i:F,j:F,parent:C,offsetCorrection:!1,dataLabelsConfig:r({},qe)})}v.add(C)}),h.push(v)}),this.drawPolygons({parent:S}),o.config.xaxis.labels.show){var R=this.drawXAxisTexts();S.add(R)}return h.forEach(function(O){S.add(O)}),S.add(this.yaxisLabels),S}},{key:"drawPolygons",value:function(i){for(var s=this,o=this.w,c=i.parent,h=new ce(this.ctx),d=o.globals.yAxisScale[0].result.reverse(),f=d.length,g=[],y=this.size/(f-1),b=0;b<f;b++)g[b]=y*b;g.reverse();var S=[],_=[];g.forEach(function(k,C){var R=L.getPolygonPos(k,s.dataPointsLen),O="";R.forEach(function(F,U){if(C===0){var v=s.graphics.drawLine(F.x,F.y,0,0,Array.isArray(s.polygons.connectorColors)?s.polygons.connectorColors[U]:s.polygons.connectorColors);_.push(v)}U===0&&s.yaxisLabelsTextsPos.push({x:F.x,y:F.y}),O+=F.x+","+F.y+" "}),S.push(O)}),S.forEach(function(k,C){var R=s.polygons.strokeColors,O=s.polygons.strokeWidth,F=s.graphics.drawPolygon(k,Array.isArray(R)?R[C]:R,Array.isArray(O)?O[C]:O,o.globals.radarPolygons.fill.colors[C]);c.add(F)}),_.forEach(function(k){c.add(k)}),o.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(k,C){var R=h.drawYAxisTexts(k.x,k.y,C,d[C]);s.yaxisLabels.add(R)})}},{key:"drawXAxisTexts",value:function(){var i=this,s=this.w,o=s.config.xaxis.labels,c=this.graphics.group({class:"apexcharts-xaxis"}),h=L.getPolygonPos(this.size,this.dataPointsLen);return s.globals.labels.forEach(function(d,f){var g=s.config.xaxis.labels.formatter,y=new Pe(i.ctx);if(h[f]){var b=i.getTextPos(h[f],i.size),S=g(d,{seriesIndex:-1,dataPointIndex:f,w:s});y.plotDataLabelsText({x:b.newX,y:b.newY,text:S,textAnchor:b.textAnchor,i:f,j:f,parent:c,className:"apexcharts-xaxis-label",color:Array.isArray(o.style.colors)&&o.style.colors[f]?o.style.colors[f]:"#a8a8a8",dataLabelsConfig:r({textAnchor:b.textAnchor,dropShadow:{enabled:!1}},o),offsetCorrection:!1}).on("click",function(_){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var k=Object.assign({},s,{labelIndex:f});s.config.chart.events.xAxisLabelClick(_,i.ctx,k)}})}}),c}},{key:"createPaths",value:function(i,s){var o=this,c=[],h=[],d=[],f=[];if(i.length){h=[this.graphics.move(s.x,s.y)],f=[this.graphics.move(s.x,s.y)];var g=this.graphics.move(i[0].x,i[0].y),y=this.graphics.move(i[0].x,i[0].y);i.forEach(function(b,S){g+=o.graphics.line(b.x,b.y),y+=o.graphics.line(b.x,b.y),S===i.length-1&&(g+="Z",y+="Z")}),c.push(g),d.push(y)}return{linePathsFrom:h,linePathsTo:c,areaPathsFrom:f,areaPathsTo:d}}},{key:"getTextPos",value:function(i,s){var o="middle",c=i.x,h=i.y;return Math.abs(i.x)>=10?i.x>0?(o="start",c+=10):i.x<0&&(o="end",c-=10):o="middle",Math.abs(i.y)>=s-10&&(i.y<0?h-=10:i.y>0&&(h+=10)),{textAnchor:o,newX:c,newY:h}}},{key:"getPreviousPath",value:function(i){for(var s=this.w,o=null,c=0;c<s.globals.previousPaths.length;c++){var h=s.globals.previousPaths[c];h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(i,10)&&s.globals.previousPaths[c].paths[0]!==void 0&&(o=s.globals.previousPaths[c].paths[0].d)}return o}},{key:"getDataPointsPos",value:function(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;i=i||[],s=s||[];for(var c=[],h=0;h<o;h++){var d={};d.x=i[h]*Math.sin(s[h]),d.y=-i[h]*Math.cos(s[h]),c.push(d)}return c}}]),V}(),Ce=function(V){w(s,de);var i=z(s);function s(o){var c;l(this,s),(c=i.call(this,o)).ctx=o,c.w=o.w,c.animBeginArr=[0],c.animDur=0;var h=c.w;return c.startAngle=h.config.plotOptions.radialBar.startAngle,c.endAngle=h.config.plotOptions.radialBar.endAngle,c.totalAngle=Math.abs(h.config.plotOptions.radialBar.endAngle-h.config.plotOptions.radialBar.startAngle),c.trackStartAngle=h.config.plotOptions.radialBar.track.startAngle,c.trackEndAngle=h.config.plotOptions.radialBar.track.endAngle,c.barLabels=c.w.config.plotOptions.radialBar.barLabels,c.donutDataLabels=c.w.config.plotOptions.radialBar.dataLabels,c.radialDataLabels=c.donutDataLabels,c.trackStartAngle||(c.trackStartAngle=c.startAngle),c.trackEndAngle||(c.trackEndAngle=c.endAngle),c.endAngle===360&&(c.endAngle=359.99),c.margin=parseInt(h.config.plotOptions.radialBar.track.margin,10),c.onBarLabelClick=c.onBarLabelClick.bind(I(c)),c}return p(s,[{key:"draw",value:function(o){var c=this.w,h=new te(this.ctx),d=h.group({class:"apexcharts-radialbar"});if(c.globals.noData)return d;var f=h.group(),g=this.defaultSize/2,y=c.globals.gridWidth/2,b=this.defaultSize/2.05;c.config.chart.sparkline.enabled||(b=b-c.config.stroke.width-c.config.chart.dropShadow.blur);var S=c.globals.fill.colors;if(c.config.plotOptions.radialBar.track.show){var _=this.drawTracks({size:b,centerX:y,centerY:g,colorArr:S,series:o});f.add(_)}var k=this.drawArcs({size:b,centerX:y,centerY:g,colorArr:S,series:o}),C=360;c.config.plotOptions.radialBar.startAngle<0&&(C=this.totalAngle);var R=(360-C)/360;if(c.globals.radialSize=b-b*R,this.radialDataLabels.value.show){var O=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);c.globals.radialSize+=O*R}return f.add(k.g),c.config.plotOptions.radialBar.hollow.position==="front"&&(k.g.add(k.elHollow),k.dataLabels&&k.g.add(k.dataLabels)),d.add(f),d}},{key:"drawTracks",value:function(o){var c=this.w,h=new te(this.ctx),d=h.group({class:"apexcharts-tracks"}),f=new re(this.ctx),g=new Oe(this.ctx),y=this.getStrokeWidth(o);o.size=o.size-y/2;for(var b=0;b<o.series.length;b++){var S=h.group({class:"apexcharts-radialbar-track apexcharts-track"});d.add(S),S.attr({rel:b+1}),o.size=o.size-y-this.margin;var _=c.config.plotOptions.radialBar.track,k=g.fillPath({seriesNumber:0,size:o.size,fillColors:Array.isArray(_.background)?_.background[b]:_.background,solid:!0}),C=this.trackStartAngle,R=this.trackEndAngle;Math.abs(R)+Math.abs(C)>=360&&(R=360-Math.abs(this.startAngle)-.1);var O=h.drawPath({d:"",stroke:k,strokeWidth:y*parseInt(_.strokeWidth,10)/100,fill:"none",strokeOpacity:_.opacity,classes:"apexcharts-radialbar-area"});if(_.dropShadow.enabled){var F=_.dropShadow;f.dropShadow(O,F)}S.add(O),O.attr("id","apexcharts-radialbarTrack-"+b),this.animatePaths(O,{centerX:o.centerX,centerY:o.centerY,endAngle:R,startAngle:C,size:o.size,i:b,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:c.globals.easing})}return d}},{key:"drawArcs",value:function(o){var c=this.w,h=new te(this.ctx),d=new Oe(this.ctx),f=new re(this.ctx),g=h.group(),y=this.getStrokeWidth(o);o.size=o.size-y/2;var b=c.config.plotOptions.radialBar.hollow.background,S=o.size-y*o.series.length-this.margin*o.series.length-y*parseInt(c.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,_=S-c.config.plotOptions.radialBar.hollow.margin;c.config.plotOptions.radialBar.hollow.image!==void 0&&(b=this.drawHollowImage(o,g,S,b));var k=this.drawHollow({size:_,centerX:o.centerX,centerY:o.centerY,fill:b||"transparent"});if(c.config.plotOptions.radialBar.hollow.dropShadow.enabled){var C=c.config.plotOptions.radialBar.hollow.dropShadow;f.dropShadow(k,C)}var R=1;!this.radialDataLabels.total.show&&c.globals.series.length>1&&(R=0);var O=null;if(this.radialDataLabels.show){var F=c.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];O=this.renderInnerDataLabels(F,this.radialDataLabels,{hollowSize:S,centerX:o.centerX,centerY:o.centerY,opacity:R})}c.config.plotOptions.radialBar.hollow.position==="back"&&(g.add(k),O&&g.add(O));var U=!1;c.config.plotOptions.radialBar.inverseOrder&&(U=!0);for(var v=U?o.series.length-1:0;U?v>=0:v<o.series.length;U?v--:v++){var E=h.group({class:"apexcharts-series apexcharts-radial-series",seriesName:L.escapeString(c.globals.seriesNames[v])});g.add(E),E.attr({rel:v+1,"data:realIndex":v}),this.ctx.series.addCollapsedClassToSeries(E,v),o.size=o.size-y-this.margin;var N=d.fillPath({seriesNumber:v,size:o.size,value:o.series[v]}),H=this.startAngle,B=void 0,G=L.negToZero(o.series[v]>100?100:o.series[v])/100,ae=Math.round(this.totalAngle*G)+this.startAngle,se=void 0;c.globals.dataChanged&&(B=this.startAngle,se=Math.round(this.totalAngle*L.negToZero(c.globals.previousPaths[v])/100)+B),Math.abs(ae)+Math.abs(H)>=360&&(ae-=.01),Math.abs(se)+Math.abs(B)>=360&&(se-=.01);var ge=ae-H,fe=Array.isArray(c.config.stroke.dashArray)?c.config.stroke.dashArray[v]:c.config.stroke.dashArray,he=h.drawPath({d:"",stroke:N,strokeWidth:y,fill:"none",fillOpacity:c.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+v,strokeDashArray:fe});if(te.setAttrs(he.node,{"data:angle":ge,"data:value":o.series[v]}),c.config.chart.dropShadow.enabled){var ve=c.config.chart.dropShadow;f.dropShadow(he,ve,v)}if(f.setSelectionFilter(he,0,v),this.addListeners(he,this.radialDataLabels),E.add(he),he.attr({index:0,j:v}),this.barLabels.enabled){var Te=L.polarToCartesian(o.centerX,o.centerY,o.size,H),Me=this.barLabels.formatter(c.globals.seriesNames[v],{seriesIndex:v,w:c}),Be=["apexcharts-radialbar-label"];this.barLabels.onClick||Be.push("apexcharts-no-click");var qe=this.barLabels.useSeriesColors?c.globals.colors[v]:c.config.chart.foreColor;qe||(qe=c.config.chart.foreColor);var it=Te.x+this.barLabels.offsetX,nt=Te.y+this.barLabels.offsetY,ft=h.drawText({x:it,y:nt,text:Me,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:qe,cssClass:Be.join(" ")});ft.on("click",this.onBarLabelClick),ft.attr({rel:v+1}),H!==0&&ft.attr({"transform-origin":"".concat(it," ").concat(nt),transform:"rotate(".concat(H," 0 0)")}),E.add(ft)}var Pt=0;!this.initialAnim||c.globals.resized||c.globals.dataChanged||(Pt=c.config.chart.animations.speed),c.globals.dataChanged&&(Pt=c.config.chart.animations.dynamicAnimation.speed),this.animDur=Pt/(1.2*o.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(he,{centerX:o.centerX,centerY:o.centerY,endAngle:ae,startAngle:H,prevEndAngle:se,prevStartAngle:B,size:o.size,i:v,totalItems:2,animBeginArr:this.animBeginArr,dur:Pt,shouldSetPrevPaths:!0,easing:c.globals.easing})}return{g,elHollow:k,dataLabels:O}}},{key:"drawHollow",value:function(o){var c=new te(this.ctx).drawCircle(2*o.size);return c.attr({class:"apexcharts-radialbar-hollow",cx:o.centerX,cy:o.centerY,r:o.size,fill:o.fill}),c}},{key:"drawHollowImage",value:function(o,c,h,d){var f=this.w,g=new Oe(this.ctx),y=L.randomId(),b=f.config.plotOptions.radialBar.hollow.image;if(f.config.plotOptions.radialBar.hollow.imageClipped)g.clippedImgArea({width:h,height:h,image:b,patternID:"pattern".concat(f.globals.cuid).concat(y)}),d="url(#pattern".concat(f.globals.cuid).concat(y,")");else{var S=f.config.plotOptions.radialBar.hollow.imageWidth,_=f.config.plotOptions.radialBar.hollow.imageHeight;if(S===void 0&&_===void 0){var k=f.globals.dom.Paper.image(b).loaded(function(R){this.move(o.centerX-R.width/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-R.height/2+f.config.plotOptions.radialBar.hollow.imageOffsetY)});c.add(k)}else{var C=f.globals.dom.Paper.image(b).loaded(function(R){this.move(o.centerX-S/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-_/2+f.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(S,_)});c.add(C)}}return d}},{key:"getStrokeWidth",value:function(o){var c=this.w;return o.size*(100-parseInt(c.config.plotOptions.radialBar.hollow.size,10))/100/(o.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(o){var c=parseInt(o.target.getAttribute("rel"),10)-1,h=this.barLabels.onClick,d=this.w;h&&h(d.globals.seriesNames[c],{w:d,seriesIndex:c})}}]),s}(),Le=function(V){w(s,di);var i=z(s);function s(){return l(this,s),i.apply(this,arguments)}return p(s,[{key:"draw",value:function(o,c){var h=this.w,d=new te(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=o,this.seriesRangeStart=h.globals.seriesRangeStart,this.seriesRangeEnd=h.globals.seriesRangeEnd,this.barHelpers.initVariables(o);for(var f=d.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),g=0;g<o.length;g++){var y,b,S,_,k=void 0,C=void 0,R=h.globals.comboCharts?c[g]:g,O=this.barHelpers.getGroupIndex(R).columnGroupIndex,F=d.group({class:"apexcharts-series",seriesName:L.escapeString(h.globals.seriesNames[R]),rel:g+1,"data:realIndex":R});this.ctx.series.addCollapsedClassToSeries(F,R),o[g].length>0&&(this.visibleI=this.visibleI+1);var U=0,v=0,E=0;this.yRatio.length>1&&(this.yaxisIndex=h.globals.seriesYAxisReverseMap[R][0],E=R);var N=this.barHelpers.initialPositions();C=N.y,_=N.zeroW,k=N.x,v=N.barWidth,U=N.barHeight,y=N.xDivision,b=N.yDivision,S=N.zeroH;for(var H=d.group({class:"apexcharts-datalabels","data:realIndex":R}),B=d.group({class:"apexcharts-rangebar-goals-markers"}),G=0;G<h.globals.dataPoints;G++){var ae=this.barHelpers.getStrokeWidth(g,G,R),se=this.seriesRangeStart[g][G],ge=this.seriesRangeEnd[g][G],fe=null,he=null,ve=null,Te={x:k,y:C,strokeWidth:ae,elSeries:F},Me=this.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(Me=1),h.config.series[g].data[G]===void 0)break;if(this.isHorizontal){ve=C+U*this.visibleI;var Be=(b-U*Me)/2;if(h.config.series[g].data[G].x){var qe=this.detectOverlappingBars({i:g,j:G,barYPosition:ve,srty:Be,barHeight:U,yDivision:b,initPositions:N});U=qe.barHeight,ve=qe.barYPosition}v=(fe=this.drawRangeBarPaths(r({indexes:{i:g,j:G,realIndex:R},barHeight:U,barYPosition:ve,zeroW:_,yDivision:b,y1:se,y2:ge},Te))).barWidth}else{h.globals.isXNumeric&&(k=(h.globals.seriesX[g][G]-h.globals.minX)/this.xRatio-v/2),he=k+v*this.visibleI;var it=(y-v*Me)/2;if(h.config.series[g].data[G].x){var nt=this.detectOverlappingBars({i:g,j:G,barXPosition:he,srtx:it,barWidth:v,xDivision:y,initPositions:N});v=nt.barWidth,he=nt.barXPosition}U=(fe=this.drawRangeColumnPaths(r({indexes:{i:g,j:G,realIndex:R,translationsIndex:E},barWidth:v,barXPosition:he,zeroH:S,xDivision:y},Te))).barHeight}var ft=this.barHelpers.drawGoalLine({barXPosition:fe.barXPosition,barYPosition:ve,goalX:fe.goalX,goalY:fe.goalY,barHeight:U,barWidth:v});ft&&B.add(ft),C=fe.y,k=fe.x;var Pt=this.barHelpers.getPathFillColor(o,g,G,R),Ct=h.globals.stroke.colors[R];this.renderSeries({realIndex:R,pathFill:Pt,lineFill:Ct,j:G,i:g,x:k,y:C,y1:se,y2:ge,pathFrom:fe.pathFrom,pathTo:fe.pathTo,strokeWidth:ae,elSeries:F,series:o,barHeight:U,barWidth:v,barXPosition:he,barYPosition:ve,columnGroupIndex:O,elDataLabelsWrap:H,elGoalsMarkers:B,visibleSeries:this.visibleI,type:"rangebar"})}f.add(F)}return f}},{key:"detectOverlappingBars",value:function(o){var c=o.i,h=o.j,d=o.barYPosition,f=o.barXPosition,g=o.srty,y=o.srtx,b=o.barHeight,S=o.barWidth,_=o.yDivision,k=o.xDivision,C=o.initPositions,R=this.w,O=[],F=R.config.series[c].data[h].rangeName,U=R.config.series[c].data[h].x,v=Array.isArray(U)?U.join(" "):U,E=R.globals.labels.map(function(H){return Array.isArray(H)?H.join(" "):H}).indexOf(v),N=R.globals.seriesRange[c].findIndex(function(H){return H.x===v&&H.overlaps.length>0});return this.isHorizontal?(d=R.config.plotOptions.bar.rangeBarGroupRows?g+_*E:g+b*this.visibleI+_*E,N>-1&&!R.config.plotOptions.bar.rangeBarOverlap&&(O=R.globals.seriesRange[c][N].overlaps).indexOf(F)>-1&&(d=(b=C.barHeight/O.length)*this.visibleI+_*(100-parseInt(this.barOptions.barHeight,10))/100/2+b*(this.visibleI+O.indexOf(F))+_*E)):(E>-1&&!R.globals.timescaleLabels.length&&(f=R.config.plotOptions.bar.rangeBarGroupRows?y+k*E:y+S*this.visibleI+k*E),N>-1&&!R.config.plotOptions.bar.rangeBarOverlap&&(O=R.globals.seriesRange[c][N].overlaps).indexOf(F)>-1&&(f=(S=C.barWidth/O.length)*this.visibleI+k*(100-parseInt(this.barOptions.barWidth,10))/100/2+S*(this.visibleI+O.indexOf(F))+k*E)),{barYPosition:d,barXPosition:f,barHeight:b,barWidth:S}}},{key:"drawRangeColumnPaths",value:function(o){var c=o.indexes,h=o.x,d=o.xDivision,f=o.barWidth,g=o.barXPosition,y=o.zeroH,b=this.w,S=c.i,_=c.j,k=c.realIndex,C=c.translationsIndex,R=this.yRatio[C],O=this.getRangeValue(k,_),F=Math.min(O.start,O.end),U=Math.max(O.start,O.end);this.series[S][_]===void 0||this.series[S][_]===null?F=y:(F=y-F/R,U=y-U/R);var v=Math.abs(U-F),E=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:f,y1:F,y2:U,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:k,i:k,j:_,w:b});if(b.globals.isXNumeric){var N=this.getBarXForNumericXAxis({x:h,j:_,realIndex:k,barWidth:f});h=N.x,g=N.barXPosition}else h+=d;return{pathTo:E.pathTo,pathFrom:E.pathFrom,barHeight:v,x:h,y:O.start<0&&O.end<0?F:U,goalY:this.barHelpers.getGoalValues("y",null,y,S,_,C),barXPosition:g}}},{key:"preventBarOverflow",value:function(o){var c=this.w;return o<0&&(o=0),o>c.globals.gridWidth&&(o=c.globals.gridWidth),o}},{key:"drawRangeBarPaths",value:function(o){var c=o.indexes,h=o.y,d=o.y1,f=o.y2,g=o.yDivision,y=o.barHeight,b=o.barYPosition,S=o.zeroW,_=this.w,k=c.realIndex,C=c.j,R=this.preventBarOverflow(S+d/this.invertedYRatio),O=this.preventBarOverflow(S+f/this.invertedYRatio),F=this.getRangeValue(k,C),U=Math.abs(O-R),v=this.barHelpers.getBarpaths({barYPosition:b,barHeight:y,x1:R,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:k,realIndex:k,j:C,w:_});return _.globals.isXNumeric||(h+=g),{pathTo:v.pathTo,pathFrom:v.pathFrom,barWidth:U,x:F.start<0&&F.end<0?R:O,goalX:this.barHelpers.getGoalValues("x",S,null,k,C),y:h}}},{key:"getRangeValue",value:function(o,c){var h=this.w;return{start:h.globals.seriesRangeStart[o][c],end:h.globals.seriesRangeEnd[o][c]}}}]),s}(),st=function(){function V(i){l(this,V),this.w=i.w,this.lineCtx=i}return p(V,[{key:"sameValueSeriesFix",value:function(i,s){var o=this.w;if((o.config.fill.type==="gradient"||o.config.fill.type[i]==="gradient")&&new oe(this.lineCtx.ctx,o).seriesHaveSameValues(i)){var c=s[i].slice();c[c.length-1]=c[c.length-1]+1e-6,s[i]=c}return s}},{key:"calculatePoints",value:function(i){var s=i.series,o=i.realIndex,c=i.x,h=i.y,d=i.i,f=i.j,g=i.prevY,y=this.w,b=[],S=[];if(f===0){var _=this.lineCtx.categoryAxisCorrection+y.config.markers.offsetX;y.globals.isXNumeric&&(_=(y.globals.seriesX[o][0]-y.globals.minX)/this.lineCtx.xRatio+y.config.markers.offsetX),b.push(_),S.push(L.isNumber(s[d][0])?g+y.config.markers.offsetY:null),b.push(c+y.config.markers.offsetX),S.push(L.isNumber(s[d][f+1])?h+y.config.markers.offsetY:null)}else b.push(c+y.config.markers.offsetX),S.push(L.isNumber(s[d][f+1])?h+y.config.markers.offsetY:null);return{x:b,y:S}}},{key:"checkPreviousPaths",value:function(i){for(var s=i.pathFromLine,o=i.pathFromArea,c=i.realIndex,h=this.w,d=0;d<h.globals.previousPaths.length;d++){var f=h.globals.previousPaths[d];(f.type==="line"||f.type==="area")&&f.paths.length>0&&parseInt(f.realIndex,10)===parseInt(c,10)&&(f.type==="line"?(this.lineCtx.appendPathFrom=!1,s=h.globals.previousPaths[d].paths[0].d):f.type==="area"&&(this.lineCtx.appendPathFrom=!1,o=h.globals.previousPaths[d].paths[0].d,h.config.stroke.show&&h.globals.previousPaths[d].paths[1]&&(s=h.globals.previousPaths[d].paths[1].d)))}return{pathFromLine:s,pathFromArea:o}}},{key:"determineFirstPrevY",value:function(i){var s,o,c,h=i.i,d=i.realIndex,f=i.series,g=i.prevY,y=i.lineYPosition,b=i.translationsIndex,S=this.w,_=S.config.chart.stacked&&!S.globals.comboCharts||S.config.chart.stacked&&S.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((s=this.w.config.series[d])===null||s===void 0?void 0:s.type)==="bar"||((o=this.w.config.series[d])===null||o===void 0?void 0:o.type)==="column");if(((c=f[h])===null||c===void 0?void 0:c[0])!==void 0)g=(y=_&&h>0?this.lineCtx.prevSeriesY[h-1][0]:this.lineCtx.zeroY)-f[h][0]/this.lineCtx.yRatio[b]+2*(this.lineCtx.isReversed?f[h][0]/this.lineCtx.yRatio[b]:0);else if(_&&h>0&&f[h][0]===void 0){for(var k=h-1;k>=0;k--)if(f[k][0]!==null&&f[k][0]!==void 0){g=y=this.lineCtx.prevSeriesY[k][0];break}}return{prevY:g,lineYPosition:y}}}]),V}(),De=function(V){for(var i,s,o,c,h=function(b){for(var S=[],_=b[0],k=b[1],C=S[0]=Qe(_,k),R=1,O=b.length-1;R<O;R++)_=k,k=b[R+1],S[R]=.5*(C+(C=Qe(_,k)));return S[R]=C,S}(V),d=V.length-1,f=[],g=0;g<d;g++)o=Qe(V[g],V[g+1]),Math.abs(o)<1e-6?h[g]=h[g+1]=0:(c=(i=h[g]/o)*i+(s=h[g+1]/o)*s)>9&&(c=3*o/Math.sqrt(c),h[g]=c*i,h[g+1]=c*s);for(var y=0;y<=d;y++)c=(V[Math.min(d,y+1)][0]-V[Math.max(0,y-1)][0])/(6*(1+h[y]*h[y])),f.push([c||0,h[y]*c||0]);return f},Fe=function(V){var i=De(V),s=V[1],o=V[0],c=[],h=i[1],d=i[0];c.push(o,[o[0]+d[0],o[1]+d[1],s[0]-h[0],s[1]-h[1],s[0],s[1]]);for(var f=2,g=i.length;f<g;f++){var y=V[f],b=i[f];c.push([y[0]-b[0],y[1]-b[1],y[0],y[1]])}return c},tt=function(V,i,s){var o=V.slice(i,s);if(i){if(s-i>1&&o[1].length<6){var c=o[0].length;o[1]=[2*o[0][c-2]-o[0][c-4],2*o[0][c-1]-o[0][c-3]].concat(o[1])}o[0]=o[0].slice(-2)}return o};function Qe(V,i){return(i[1]-V[1])/(i[0]-V[0])}var en=function(){function V(i,s,o){l(this,V),this.ctx=i,this.w=i.w,this.xyRatios=s,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||o,this.scatter=new _e(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new st(this),this.markers=new ht(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return p(V,[{key:"draw",value:function(i,s,o,c){var h,d=this.w,f=new te(this.ctx),g=d.globals.comboCharts?s:d.config.chart.type,y=f.group({class:"apexcharts-".concat(g,"-series apexcharts-plot-series")}),b=new oe(this.ctx,d);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,i=b.getLogSeries(i),this.yRatio=b.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var S=[],_=0;_<i.length;_++){i=this.lineHelpers.sameValueSeriesFix(_,i);var k=d.globals.comboCharts?o[_]:_,C=this.yRatio.length>1?k:0;this._initSerieVariables(i,_,k);var R=[],O=[],F=[],U=d.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,k),d.globals.isXNumeric&&d.globals.seriesX.length>0&&(U=(d.globals.seriesX[k][0]-d.globals.minX)/this.xRatio),F.push(U);var v,E=U,N=void 0,H=E,B=this.zeroY,G=this.zeroY;B=this.lineHelpers.determineFirstPrevY({i:_,realIndex:k,series:i,prevY:B,lineYPosition:0,translationsIndex:C}).prevY,d.config.stroke.curve==="monotoneCubic"&&i[_][0]===null?R.push(null):R.push(B),v=B,g==="rangeArea"&&(N=G=this.lineHelpers.determineFirstPrevY({i:_,realIndex:k,series:c,prevY:G,lineYPosition:0,translationsIndex:C}).prevY,O.push(R[0]!==null?G:null));var ae=this._calculatePathsFrom({type:g,series:i,i:_,realIndex:k,translationsIndex:C,prevX:H,prevY:B,prevY2:G}),se=[R[0]],ge=[O[0]],fe={type:g,series:i,realIndex:k,translationsIndex:C,i:_,x:U,y:1,pX:E,pY:v,pathsFrom:ae,linePaths:[],areaPaths:[],seriesIndex:o,lineYPosition:0,xArrj:F,yArrj:R,y2Arrj:O,seriesRangeEnd:c},he=this._iterateOverDataPoints(r(r({},fe),{},{iterations:g==="rangeArea"?i[_].length-1:void 0,isRangeStart:!0}));if(g==="rangeArea"){for(var ve=this._calculatePathsFrom({series:c,i:_,realIndex:k,prevX:H,prevY:G}),Te=this._iterateOverDataPoints(r(r({},fe),{},{series:c,xArrj:[U],yArrj:se,y2Arrj:ge,pY:N,areaPaths:he.areaPaths,pathsFrom:ve,iterations:c[_].length-1,isRangeStart:!1})),Me=he.linePaths.length/2,Be=0;Be<Me;Be++)he.linePaths[Be]=Te.linePaths[Be+Me]+he.linePaths[Be];he.linePaths.splice(Me),he.pathFromLine=Te.pathFromLine+he.pathFromLine}else he.pathFromArea+="z";this._handlePaths({type:g,realIndex:k,i:_,paths:he}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),S.push(this.elSeries)}if(((h=d.config.series[0])===null||h===void 0?void 0:h.zIndex)!==void 0&&S.sort(function(nt,ft){return Number(nt.node.getAttribute("zIndex"))-Number(ft.node.getAttribute("zIndex"))}),d.config.chart.stacked)for(var qe=S.length-1;qe>=0;qe--)y.add(S[qe]);else for(var it=0;it<S.length;it++)y.add(S[it]);return y}},{key:"_initSerieVariables",value:function(i,s,o){var c=this.w,h=new te(this.ctx);this.xDivision=c.globals.gridWidth/(c.globals.dataPoints-(c.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(c.config.stroke.width)?c.config.stroke.width[o]:c.config.stroke.width;var d=0;this.yRatio.length>1&&(this.yaxisIndex=c.globals.seriesYAxisReverseMap[o],d=o),this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed,this.zeroY=c.globals.gridHeight-this.baseLineY[d]-(this.isReversed?c.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[d]:0),this.areaBottomY=this.zeroY,(this.zeroY>c.globals.gridHeight||c.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=c.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=h.group({class:"apexcharts-series",zIndex:c.config.series[o].zIndex!==void 0?c.config.series[o].zIndex:o,seriesName:L.escapeString(c.globals.seriesNames[o])}),this.elPointsMain=h.group({class:"apexcharts-series-markers-wrap","data:realIndex":o}),this.elDataLabelsWrap=h.group({class:"apexcharts-datalabels","data:realIndex":o});var f=i[s].length===c.globals.dataPoints;this.elSeries.attr({"data:longestSeries":f,rel:s+1,"data:realIndex":o}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(i){var s,o,c,h,d=i.type,f=i.series,g=i.i,y=i.realIndex,b=i.translationsIndex,S=i.prevX,_=i.prevY,k=i.prevY2,C=this.w,R=new te(this.ctx);if(f[g][0]===null){for(var O=0;O<f[g].length;O++)if(f[g][O]!==null){S=this.xDivision*O,_=this.zeroY-f[g][O]/this.yRatio[b],s=R.move(S,_),o=R.move(S,this.areaBottomY);break}}else s=R.move(S,_),d==="rangeArea"&&(s=R.move(S,k)+R.line(S,_)),o=R.move(S,this.areaBottomY)+R.line(S,_);if(c=R.move(0,this.zeroY)+R.line(0,this.zeroY),h=R.move(0,this.zeroY)+R.line(0,this.zeroY),C.globals.previousPaths.length>0){var F=this.lineHelpers.checkPreviousPaths({pathFromLine:c,pathFromArea:h,realIndex:y});c=F.pathFromLine,h=F.pathFromArea}return{prevX:S,prevY:_,linePath:s,areaPath:o,pathFromLine:c,pathFromArea:h}}},{key:"_handlePaths",value:function(i){var s=i.type,o=i.realIndex,c=i.i,h=i.paths,d=this.w,f=new te(this.ctx),g=new Oe(this.ctx);this.prevSeriesY.push(h.yArrj),d.globals.seriesXvalues[o]=h.xArrj,d.globals.seriesYvalues[o]=h.yArrj;var y=d.config.forecastDataPoints;if(y.count>0&&s!=="rangeArea"){var b=d.globals.seriesXvalues[o][d.globals.seriesXvalues[o].length-y.count-1],S=f.drawRect(b,0,d.globals.gridWidth,d.globals.gridHeight,0);d.globals.dom.elForecastMask.appendChild(S.node);var _=f.drawRect(0,0,b,d.globals.gridHeight,0);d.globals.dom.elNonForecastMask.appendChild(_.node)}this.pointsChart||d.globals.delayedElements.push({el:this.elPointsMain.node,index:o});var k={i:c,realIndex:o,animationDelay:c,initialSpeed:d.config.chart.animations.speed,dataChangeSpeed:d.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(s)};if(s==="area")for(var C=g.fillPath({seriesNumber:o}),R=0;R<h.areaPaths.length;R++){var O=f.renderPaths(r(r({},k),{},{pathFrom:h.pathFromArea,pathTo:h.areaPaths[R],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:C}));this.elSeries.add(O)}if(d.config.stroke.show&&!this.pointsChart){var F=null;if(s==="line")F=g.fillPath({seriesNumber:o,i:c});else if(d.config.stroke.fill.type==="solid")F=d.globals.stroke.colors[o];else{var U=d.config.fill;d.config.fill=d.config.stroke.fill,F=g.fillPath({seriesNumber:o,i:c}),d.config.fill=U}for(var v=0;v<h.linePaths.length;v++){var E=F;s==="rangeArea"&&(E=g.fillPath({seriesNumber:o}));var N=r(r({},k),{},{pathFrom:h.pathFromLine,pathTo:h.linePaths[v],stroke:F,strokeWidth:this.strokeWidth,strokeLineCap:d.config.stroke.lineCap,fill:s==="rangeArea"?E:"none"}),H=f.renderPaths(N);if(this.elSeries.add(H),H.attr("fill-rule","evenodd"),y.count>0&&s!=="rangeArea"){var B=f.renderPaths(N);B.node.setAttribute("stroke-dasharray",y.dashArray),y.strokeWidth&&B.node.setAttribute("stroke-width",y.strokeWidth),this.elSeries.add(B),B.attr("clip-path","url(#forecastMask".concat(d.globals.cuid,")")),H.attr("clip-path","url(#nonForecastMask".concat(d.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(i){var s,o,c=this,h=i.type,d=i.series,f=i.iterations,g=i.realIndex,y=i.translationsIndex,b=i.i,S=i.x,_=i.y,k=i.pX,C=i.pY,R=i.pathsFrom,O=i.linePaths,F=i.areaPaths,U=i.seriesIndex,v=i.lineYPosition,E=i.xArrj,N=i.yArrj,H=i.y2Arrj,B=i.isRangeStart,G=i.seriesRangeEnd,ae=this.w,se=new te(this.ctx),ge=this.yRatio,fe=R.prevY,he=R.linePath,ve=R.areaPath,Te=R.pathFromLine,Me=R.pathFromArea,Be=L.isNumber(ae.globals.minYArr[g])?ae.globals.minYArr[g]:ae.globals.minY;f||(f=ae.globals.dataPoints>1?ae.globals.dataPoints-1:ae.globals.dataPoints);var qe=function(Tn,In){return In-Tn/ge[y]+2*(c.isReversed?Tn/ge[y]:0)},it=_,nt=ae.config.chart.stacked&&!ae.globals.comboCharts||ae.config.chart.stacked&&ae.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((s=this.w.config.series[g])===null||s===void 0?void 0:s.type)==="bar"||((o=this.w.config.series[g])===null||o===void 0?void 0:o.type)==="column"),ft=ae.config.stroke.curve;Array.isArray(ft)&&(ft=Array.isArray(U)?ft[U[b]]:ft[b]);for(var Pt,Ct=0,Nt=0;Nt<f;Nt++){var Yn=d[b][Nt+1]===void 0||d[b][Nt+1]===null;if(ae.globals.isXNumeric){var St=ae.globals.seriesX[g][Nt+1];ae.globals.seriesX[g][Nt+1]===void 0&&(St=ae.globals.seriesX[g][f-1]),S=(St-ae.globals.minX)/this.xRatio}else S+=this.xDivision;nt?b>0&&ae.globals.collapsedSeries.length<ae.config.series.length-1?v=this.prevSeriesY[function(Tn){for(var In=Tn;In>0;In--){if(!(ae.globals.collapsedSeriesIndices.indexOf((U==null?void 0:U[In])||In)>-1))return In;In--}return 0}(b-1)][Nt+1]:v=this.zeroY:v=this.zeroY,Yn?_=qe(Be,v):(_=qe(d[b][Nt+1],v),h==="rangeArea"&&(it=qe(G[b][Nt+1],v))),E.push(S),!Yn||ae.config.stroke.curve!=="smooth"&&ae.config.stroke.curve!=="monotoneCubic"?(N.push(_),H.push(it)):(N.push(null),H.push(null));var mt=this.lineHelpers.calculatePoints({series:d,x:S,y:_,realIndex:g,i:b,j:Nt,prevY:fe}),Tt=this._createPaths({type:h,series:d,i:b,realIndex:g,j:Nt,x:S,y:_,y2:it,xArrj:E,yArrj:N,y2Arrj:H,pX:k,pY:C,pathState:Ct,segmentStartX:Pt,linePath:he,areaPath:ve,linePaths:O,areaPaths:F,curve:ft,isRangeStart:B});F=Tt.areaPaths,O=Tt.linePaths,k=Tt.pX,C=Tt.pY,Ct=Tt.pathState,Pt=Tt.segmentStartX,ve=Tt.areaPath,he=Tt.linePath,!this.appendPathFrom||ft==="monotoneCubic"&&h==="rangeArea"||(Te+=se.line(S,this.zeroY),Me+=se.line(S,this.zeroY)),this.handleNullDataPoints(d,mt,b,Nt,g),this._handleMarkersAndLabels({type:h,pointsPos:mt,i:b,j:Nt,realIndex:g,isRangeStart:B})}return{yArrj:N,xArrj:E,pathFromArea:Me,areaPaths:F,pathFromLine:Te,linePaths:O,linePath:he,areaPath:ve}}},{key:"_handleMarkersAndLabels",value:function(i){var s=i.type,o=i.pointsPos,c=i.isRangeStart,h=i.i,d=i.j,f=i.realIndex,g=this.w,y=new Pe(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,d,{realIndex:f,pointsPos:o,zRatio:this.zRatio,elParent:this.elPointsMain});else{g.globals.series[h].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var b=this.markers.plotChartMarkers(o,f,d+1);b!==null&&this.elPointsMain.add(b)}var S=y.drawDataLabel({type:s,isRangeStart:c,pos:o,i:f,j:d+1});S!==null&&this.elDataLabelsWrap.add(S)}},{key:"_createPaths",value:function(i){var s=i.type,o=i.series,c=i.i;i.realIndex;var h=i.j,d=i.x,f=i.y,g=i.xArrj,y=i.yArrj,b=i.y2,S=i.y2Arrj,_=i.pX,k=i.pY,C=i.pathState,R=i.segmentStartX,O=i.linePath,F=i.areaPath,U=i.linePaths,v=i.areaPaths,E=i.curve,N=i.isRangeStart;this.w;var H,B=new te(this.ctx),G=this.areaBottomY,ae=s==="rangeArea",se=s==="rangeArea"&&N;switch(E){case"monotoneCubic":var ge=N?y:S;switch(C){case 0:if(ge[h+1]===null)break;C=1;case 1:if(!(ae?g.length===o[c].length:h===o[c].length-2))break;case 2:var fe=N?g:g.slice().reverse(),he=N?ge:ge.slice().reverse(),ve=(H=he,fe.map(function(St,mt){return[St,H[mt]]}).filter(function(St){return St[1]!==null})),Te=ve.length>1?Fe(ve):ve,Me=[];ae&&(se?v=ve:Me=v.reverse());var Be=0,qe=0;if(function(St,mt){for(var Tt=function(Xa){var On=[],lr=0;return Xa.forEach(function(el){el!==null?lr++:lr>0&&(On.push(lr),lr=0)}),lr>0&&On.push(lr),On}(St),Tn=[],In=0,Sn=0;In<Tt.length;Sn+=Tt[In++])Tn[In]=tt(mt,Sn,Sn+Tt[In]);return Tn}(he,Te).forEach(function(St){Be++;var mt=function(In){for(var Sn="",Xa=0;Xa<In.length;Xa++){var On=In[Xa],lr=On.length;lr>4?(Sn+="C".concat(On[0],", ").concat(On[1]),Sn+=", ".concat(On[2],", ").concat(On[3]),Sn+=", ".concat(On[4],", ").concat(On[5])):lr>2&&(Sn+="S".concat(On[0],", ").concat(On[1]),Sn+=", ".concat(On[2],", ").concat(On[3]))}return Sn}(St),Tt=qe,Tn=(qe+=St.length)-1;se?O=B.move(ve[Tt][0],ve[Tt][1])+mt:ae?O=B.move(Me[Tt][0],Me[Tt][1])+B.line(ve[Tt][0],ve[Tt][1])+mt+B.line(Me[Tn][0],Me[Tn][1]):(O=B.move(ve[Tt][0],ve[Tt][1])+mt,F=O+B.line(ve[Tn][0],G)+B.line(ve[Tt][0],G)+"z",v.push(F)),U.push(O)}),ae&&Be>1&&!se){var it=U.slice(Be).reverse();U.splice(Be),it.forEach(function(St){return U.push(St)})}C=0}break;case"smooth":var nt=.35*(d-_);if(o[c][h]===null)C=0;else switch(C){case 0:if(R=_,O=se?B.move(_,S[h])+B.line(_,k):B.move(_,k),F=B.move(_,k),C=1,h<o[c].length-2){var ft=B.curve(_+nt,k,d-nt,f,d,f);O+=ft,F+=ft;break}case 1:if(o[c][h+1]===null)O+=se?B.line(_,b):B.move(_,k),F+=B.line(_,G)+B.line(R,G)+"z",U.push(O),v.push(F),C=-1;else{var Pt=B.curve(_+nt,k,d-nt,f,d,f);O+=Pt,F+=Pt,h>=o[c].length-2&&(se&&(O+=B.curve(d,f,d,f,d,b)+B.move(d,b)),F+=B.curve(d,f,d,f,d,G)+B.line(R,G)+"z",U.push(O),v.push(F),C=-1)}}_=d,k=f;break;default:var Ct=function(St,mt,Tt){var Tn=[];switch(St){case"stepline":Tn=B.line(mt,null,"H")+B.line(null,Tt,"V");break;case"linestep":Tn=B.line(null,Tt,"V")+B.line(mt,null,"H");break;case"straight":Tn=B.line(mt,Tt)}return Tn};if(o[c][h]===null)C=0;else switch(C){case 0:if(R=_,O=se?B.move(_,S[h])+B.line(_,k):B.move(_,k),F=B.move(_,k),C=1,h<o[c].length-2){var Nt=Ct(E,d,f);O+=Nt,F+=Nt;break}case 1:if(o[c][h+1]===null)O+=se?B.line(_,b):B.move(_,k),F+=B.line(_,G)+B.line(R,G)+"z",U.push(O),v.push(F),C=-1;else{var Yn=Ct(E,d,f);O+=Yn,F+=Yn,h>=o[c].length-2&&(se&&(O+=B.line(d,b)),F+=B.line(d,G)+B.line(R,G)+"z",U.push(O),v.push(F),C=-1)}}_=d,k=f}return{linePaths:U,areaPaths:v,pX:_,pY:k,pathState:C,segmentStartX:R,linePath:O,areaPath:F}}},{key:"handleNullDataPoints",value:function(i,s,o,c,h){var d=this.w;if(i[o][c]===null&&d.config.markers.showNullDataPoints||i[o].length===1){var f=this.strokeWidth-d.config.markers.strokeWidth/2;f>0||(f=0);var g=this.markers.plotChartMarkers(s,h,c+1,f,!0);g!==null&&this.elPointsMain.add(g)}}}]),V}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function V(f,g,y,b){this.xoffset=f,this.yoffset=g,this.height=b,this.width=y,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(S){var _,k=[],C=this.xoffset,R=this.yoffset,O=h(S)/this.height,F=h(S)/this.width;if(this.width>=this.height)for(_=0;_<S.length;_++)k.push([C,R,C+O,R+S[_]/O]),R+=S[_]/O;else for(_=0;_<S.length;_++)k.push([C,R,C+S[_]/F,R+F]),C+=S[_]/F;return k},this.cutArea=function(S){var _;if(this.width>=this.height){var k=S/this.height,C=this.width-k;_=new V(this.xoffset+k,this.yoffset,C,this.height)}else{var R=S/this.width,O=this.height-R;_=new V(this.xoffset,this.yoffset+R,this.width,O)}return _}}function i(f,g,y,b,S){b=b===void 0?0:b,S=S===void 0?0:S;var _=s(function(k,C){var R,O=[],F=C/h(k);for(R=0;R<k.length;R++)O[R]=k[R]*F;return O}(f,g*y),[],new V(b,S,g,y),[]);return function(k){var C,R,O=[];for(C=0;C<k.length;C++)for(R=0;R<k[C].length;R++)O.push(k[C][R]);return O}(_)}function s(f,g,y,b){var S,_,k;if(f.length!==0)return S=y.shortestEdge(),function(C,R,O){var F;if(C.length===0)return!0;(F=C.slice()).push(R);var U=o(C,O),v=o(F,O);return U>=v}(g,_=f[0],S)?(g.push(_),s(f.slice(1),g,y,b)):(k=y.cutArea(h(g),b),b.push(y.getCoordinates(g)),s(f,[],k,b)),b;b.push(y.getCoordinates(g))}function o(f,g){var y=Math.min.apply(Math,f),b=Math.max.apply(Math,f),S=h(f);return Math.max(Math.pow(g,2)*b/Math.pow(S,2),Math.pow(S,2)/(Math.pow(g,2)*y))}function c(f){return f&&f.constructor===Array}function h(f){var g,y=0;for(g=0;g<f.length;g++)y+=f[g];return y}function d(f){var g,y=0;if(c(f[0]))for(g=0;g<f.length;g++)y+=d(f[g]);else y=h(f);return y}return function f(g,y,b,S,_){S=S===void 0?0:S,_=_===void 0?0:_;var k,C,R=[],O=[];if(c(g[0])){for(C=0;C<g.length;C++)R[C]=d(g[C]);for(k=i(R,y,b,S,_),C=0;C<g.length;C++)O.push(f(g[C],k[C][2]-k[C][0],k[C][3]-k[C][1],k[C][0],k[C][1]))}else O=i(g,y,b,S,_);return O}}();var Vt,Ye,Mt=function(){function V(i,s){l(this,V),this.ctx=i,this.w=i.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new hs(i),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return p(V,[{key:"draw",value:function(i){var s=this,o=this.w,c=new te(this.ctx),h=new Oe(this.ctx),d=c.group({class:"apexcharts-treemap"});if(o.globals.noData)return d;var f=[];return i.forEach(function(g){var y=g.map(function(b){return Math.abs(b)});f.push(y)}),this.negRange=this.helpers.checkColorRange(),o.config.series.forEach(function(g,y){g.data.forEach(function(b){Array.isArray(s.labels[y])||(s.labels[y]=[]),s.labels[y].push(b.x)})}),window.TreemapSquared.generate(f,o.globals.gridWidth,o.globals.gridHeight).forEach(function(g,y){var b=c.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:L.escapeString(o.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});if(o.config.chart.dropShadow.enabled){var S=o.config.chart.dropShadow;new re(s.ctx).dropShadow(d,S,y)}var _=c.group({class:"apexcharts-data-labels"});g.forEach(function(k,C){var R=k[0],O=k[1],F=k[2],U=k[3],v=c.drawRect(R,O,F-R,U-O,o.config.plotOptions.treemap.borderRadius,"#fff",1,s.strokeWidth,o.config.plotOptions.treemap.useFillColorAsStroke?N:o.globals.stroke.colors[y]);v.attr({cx:R,cy:O,index:y,i:y,j:C,width:F-R,height:U-O});var E=s.helpers.getShadeColor(o.config.chart.type,y,C,s.negRange),N=E.color;o.config.series[y].data[C]!==void 0&&o.config.series[y].data[C].fillColor&&(N=o.config.series[y].data[C].fillColor);var H=h.fillPath({color:N,seriesNumber:y,dataPointIndex:C});v.node.classList.add("apexcharts-treemap-rect"),v.attr({fill:H}),s.helpers.addListeners(v);var B={x:R+(F-R)/2,y:O+(U-O)/2,width:0,height:0},G={x:R,y:O,width:F-R,height:U-O};if(o.config.chart.animations.enabled&&!o.globals.dataChanged){var ae=1;o.globals.resized||(ae=o.config.chart.animations.speed),s.animateTreemap(v,B,G,ae)}if(o.globals.dataChanged){var se=1;s.dynamicAnim.enabled&&o.globals.shouldAnimate&&(se=s.dynamicAnim.speed,o.globals.previousPaths[y]&&o.globals.previousPaths[y][C]&&o.globals.previousPaths[y][C].rect&&(B=o.globals.previousPaths[y][C].rect),s.animateTreemap(v,B,G,se))}var ge=s.getFontSize(k),fe=o.config.dataLabels.formatter(s.labels[y][C],{value:o.globals.series[y][C],seriesIndex:y,dataPointIndex:C,w:o});o.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ge=parseInt(o.config.dataLabels.style.fontSize,10),fe=s.truncateLabels(fe,ge,R,O,F,U));var he=s.helpers.calculateDataLabels({text:fe,x:(R+F)/2,y:(O+U)/2+s.strokeWidth/2+ge/3,i:y,j:C,colorProps:E,fontSize:ge,series:i});o.config.dataLabels.enabled&&he&&s.rotateToFitLabel(he,ge,fe,R,O,F,U),b.add(v),he!==null&&b.add(he)}),b.add(_),d.add(b)}),d}},{key:"getFontSize",value:function(i){var s=this.w,o,c,h,d,f=function g(y){var b,S=0;if(Array.isArray(y[0]))for(b=0;b<y.length;b++)S+=g(y[b]);else for(b=0;b<y.length;b++)S+=y[b].length;return S}(this.labels)/function g(y){var b,S=0;if(Array.isArray(y[0]))for(b=0;b<y.length;b++)S+=g(y[b]);else for(b=0;b<y.length;b++)S+=1;return S}(this.labels);return o=i[2]-i[0],c=i[3]-i[1],h=o*c,d=Math.pow(h,.5),Math.min(d/f,parseInt(s.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(i,s,o,c,h,d,f){var g=new te(this.ctx),y=g.getTextRects(o,s);if(y.width+this.w.config.stroke.width+5>d-c&&y.width<=f-h){var b=g.rotateAroundCenter(i.node);i.node.setAttribute("transform","rotate(-90 ".concat(b.x," ").concat(b.y,") translate(").concat(y.height/3,")"))}}},{key:"truncateLabels",value:function(i,s,o,c,h,d){var f=new te(this.ctx),g=f.getTextRects(i,s).width+this.w.config.stroke.width+5>h-o&&d-c>h-o?d-c:h-o,y=f.getTextBasedOnMaxWidth({text:i,maxWidth:g,fontSize:s});return i.length!==y.length&&g/s<5?"":y}},{key:"animateTreemap",value:function(i,s,o,c){var h=new J(this.ctx);h.animateRect(i,{x:s.x,y:s.y,width:s.width,height:s.height},{x:o.x,y:o.y,width:o.width,height:o.height},c,function(){h.animationCompleted(i)})}}]),V}(),tn=86400,Kr=10/tn,Nr=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return p(V,[{key:"calculateTimeScaleTicks",value:function(i,s){var o=this,c=this.w;if(c.globals.allSeriesCollapsed)return c.globals.labels=[],c.globals.timescaleLabels=[],[];var h=new Y(this.ctx),d=(s-i)/864e5;this.determineInterval(d),c.globals.disableZoomIn=!1,c.globals.disableZoomOut=!1,d<Kr?c.globals.disableZoomIn=!0:d>5e4&&(c.globals.disableZoomOut=!0);var f=h.getTimeUnitsfromTimestamp(i,s,this.utc),g=c.globals.gridWidth/d,y=g/24,b=y/60,S=b/60,_=Math.floor(24*d),k=Math.floor(1440*d),C=Math.floor(d*tn),R=Math.floor(d),O=Math.floor(d/30),F=Math.floor(d/365),U={minMillisecond:f.minMillisecond,minSecond:f.minSecond,minMinute:f.minMinute,minHour:f.minHour,minDate:f.minDate,minMonth:f.minMonth,minYear:f.minYear},v={firstVal:U,currentMillisecond:U.minMillisecond,currentSecond:U.minSecond,currentMinute:U.minMinute,currentHour:U.minHour,currentMonthDate:U.minDate,currentDate:U.minDate,currentMonth:U.minMonth,currentYear:U.minYear,daysWidthOnXAxis:g,hoursWidthOnXAxis:y,minutesWidthOnXAxis:b,secondsWidthOnXAxis:S,numberOfSeconds:C,numberOfMinutes:k,numberOfHours:_,numberOfDays:R,numberOfMonths:O,numberOfYears:F};switch(this.tickInterval){case"years":this.generateYearScale(v);break;case"months":case"half_year":this.generateMonthScale(v);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(v);break;case"hours":this.generateHourScale(v);break;case"minutes_fives":case"minutes":this.generateMinuteScale(v);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(v)}var E=this.timeScaleArray.map(function(N){var H={position:N.position,unit:N.unit,year:N.year,day:N.day?N.day:1,hour:N.hour?N.hour:0,month:N.month+1};return N.unit==="month"?r(r({},H),{},{day:1,value:N.value+1}):N.unit==="day"||N.unit==="hour"?r(r({},H),{},{value:N.value}):N.unit==="minute"?r(r({},H),{},{value:N.value,minute:N.value}):N.unit==="second"?r(r({},H),{},{value:N.value,minute:N.minute,second:N.second}):N});return E.filter(function(N){var H=1,B=Math.ceil(c.globals.gridWidth/120),G=N.value;c.config.xaxis.tickAmount!==void 0&&(B=c.config.xaxis.tickAmount),E.length>B&&(H=Math.floor(E.length/B));var ae=!1,se=!1;switch(o.tickInterval){case"years":N.unit==="year"&&(ae=!0);break;case"half_year":H=7,N.unit==="year"&&(ae=!0);break;case"months":H=1,N.unit==="year"&&(ae=!0);break;case"months_fortnight":H=15,N.unit!=="year"&&N.unit!=="month"||(ae=!0),G===30&&(se=!0);break;case"months_days":H=10,N.unit==="month"&&(ae=!0),G===30&&(se=!0);break;case"week_days":H=8,N.unit==="month"&&(ae=!0);break;case"days":H=1,N.unit==="month"&&(ae=!0);break;case"hours":N.unit==="day"&&(ae=!0);break;case"minutes_fives":case"seconds_fives":G%5!=0&&(se=!0);break;case"seconds_tens":G%10!=0&&(se=!0)}if(o.tickInterval==="hours"||o.tickInterval==="minutes_fives"||o.tickInterval==="seconds_tens"||o.tickInterval==="seconds_fives"){if(!se)return!0}else if((G%H==0||ae)&&!se)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(i,s){var o=this.w,c=this.formatDates(i),h=this.removeOverlappingTS(c);o.globals.timescaleLabels=h.slice(),new Ge(this.ctx).plotCoords()}},{key:"determineInterval",value:function(i){var s=24*i,o=60*s;switch(!0){case i/365>5:this.tickInterval="years";break;case i>800:this.tickInterval="half_year";break;case i>180:this.tickInterval="months";break;case i>90:this.tickInterval="months_fortnight";break;case i>60:this.tickInterval="months_days";break;case i>30:this.tickInterval="week_days";break;case i>2:this.tickInterval="days";break;case s>2.4:this.tickInterval="hours";break;case o>15:this.tickInterval="minutes_fives";break;case o>5:this.tickInterval="minutes";break;case o>1:this.tickInterval="seconds_tens";break;case 60*o>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(i){var s=i.firstVal,o=i.currentMonth,c=i.currentYear,h=i.daysWidthOnXAxis,d=i.numberOfYears,f=s.minYear,g=0,y=new Y(this.ctx),b="year";if(s.minDate>1||s.minMonth>0){var S=y.determineRemainingDaysOfYear(s.minYear,s.minMonth,s.minDate);g=(y.determineDaysOfYear(s.minYear)-S+1)*h,f=s.minYear+1,this.timeScaleArray.push({position:g,value:f,unit:b,year:f,month:L.monthMod(o+1)})}else s.minDate===1&&s.minMonth===0&&this.timeScaleArray.push({position:g,value:f,unit:b,year:c,month:L.monthMod(o+1)});for(var _=f,k=g,C=0;C<d;C++)_++,k=y.determineDaysOfYear(_-1)*h+k,this.timeScaleArray.push({position:k,value:_,unit:b,year:_,month:1})}},{key:"generateMonthScale",value:function(i){var s=i.firstVal,o=i.currentMonthDate,c=i.currentMonth,h=i.currentYear,d=i.daysWidthOnXAxis,f=i.numberOfMonths,g=c,y=0,b=new Y(this.ctx),S="month",_=0;if(s.minDate>1){y=(b.determineDaysOfMonths(c+1,s.minYear)-o+1)*d,g=L.monthMod(c+1);var k=h+_,C=L.monthMod(g),R=g;g===0&&(S="year",R=k,C=1,k+=_+=1),this.timeScaleArray.push({position:y,value:R,unit:S,year:k,month:C})}else this.timeScaleArray.push({position:y,value:g,unit:S,year:h,month:L.monthMod(c)});for(var O=g+1,F=y,U=0,v=1;U<f;U++,v++){(O=L.monthMod(O))===0?(S="year",_+=1):S="month";var E=this._getYear(h,O,_);F=b.determineDaysOfMonths(O,E)*d+F;var N=O===0?E:O;this.timeScaleArray.push({position:F,value:N,unit:S,year:E,month:O===0?1:O}),O++}}},{key:"generateDayScale",value:function(i){var s=i.firstVal,o=i.currentMonth,c=i.currentYear,h=i.hoursWidthOnXAxis,d=i.numberOfDays,f=new Y(this.ctx),g="day",y=s.minDate+1,b=y,S=function(v,E,N){return v>f.determineDaysOfMonths(E+1,N)&&(b=1,g="month",k=E+=1),E},_=(24-s.minHour)*h,k=y,C=S(b,o,c);s.minHour===0&&s.minDate===1?(_=0,k=L.monthMod(s.minMonth),g="month",b=s.minDate):s.minDate!==1&&s.minHour===0&&s.minMinute===0&&(_=0,y=s.minDate,k=y,C=S(b=y,o,c)),this.timeScaleArray.push({position:_,value:k,unit:g,year:this._getYear(c,C,0),month:L.monthMod(C),day:b});for(var R=_,O=0;O<d;O++){g="day",C=S(b+=1,C,this._getYear(c,C,0));var F=this._getYear(c,C,0);R=24*h+R;var U=b===1?L.monthMod(C):b;this.timeScaleArray.push({position:R,value:U,unit:g,year:F,month:L.monthMod(C),day:U})}}},{key:"generateHourScale",value:function(i){var s=i.firstVal,o=i.currentDate,c=i.currentMonth,h=i.currentYear,d=i.minutesWidthOnXAxis,f=i.numberOfHours,g=new Y(this.ctx),y="hour",b=function(H,B){return H>g.determineDaysOfMonths(B+1,h)&&(O=1,B+=1),{month:B,date:O}},S=function(H,B){return H>g.determineDaysOfMonths(B+1,h)?B+=1:B},_=60-(s.minMinute+s.minSecond/60),k=_*d,C=s.minHour+1,R=C;_===60&&(k=0,R=C=s.minHour);var O=o;R>=24&&(R=0,O+=1,y="day");var F=b(O,c).month;F=S(O,F),this.timeScaleArray.push({position:k,value:C,unit:y,day:O,hour:R,year:h,month:L.monthMod(F)}),R++;for(var U=k,v=0;v<f;v++){y="hour",R>=24&&(R=0,y="day",F=b(O+=1,F).month,F=S(O,F));var E=this._getYear(h,F,0);U=60*d+U;var N=R===0?O:R;this.timeScaleArray.push({position:U,value:N,unit:y,hour:R,day:O,year:E,month:L.monthMod(F)}),R++}}},{key:"generateMinuteScale",value:function(i){for(var s=i.currentMillisecond,o=i.currentSecond,c=i.currentMinute,h=i.currentHour,d=i.currentDate,f=i.currentMonth,g=i.currentYear,y=i.minutesWidthOnXAxis,b=i.secondsWidthOnXAxis,S=i.numberOfMinutes,_=c+1,k=d,C=f,R=g,O=h,F=(60-o-s/1e3)*b,U=0;U<S;U++)_>=60&&(_=0,(O+=1)===24&&(O=0)),this.timeScaleArray.push({position:F,value:_,unit:"minute",hour:O,minute:_,day:k,year:this._getYear(R,C,0),month:L.monthMod(C)}),F+=y,_++}},{key:"generateSecondScale",value:function(i){for(var s=i.currentMillisecond,o=i.currentSecond,c=i.currentMinute,h=i.currentHour,d=i.currentDate,f=i.currentMonth,g=i.currentYear,y=i.secondsWidthOnXAxis,b=i.numberOfSeconds,S=o+1,_=c,k=d,C=f,R=g,O=h,F=(1e3-s)/1e3*y,U=0;U<b;U++)S>=60&&(S=0,++_>=60&&(_=0,++O===24&&(O=0))),this.timeScaleArray.push({position:F,value:S,unit:"second",hour:O,minute:_,second:S,day:k,year:this._getYear(R,C,0),month:L.monthMod(C)}),F+=y,S++}},{key:"createRawDateString",value:function(i,s){var o=i.year;return i.month===0&&(i.month=1),o+="-"+("0"+i.month.toString()).slice(-2),i.unit==="day"?o+=i.unit==="day"?"-"+("0"+s).slice(-2):"-01":o+="-"+("0"+(i.day?i.day:"1")).slice(-2),i.unit==="hour"?o+=i.unit==="hour"?"T"+("0"+s).slice(-2):"T00":o+="T"+("0"+(i.hour?i.hour:"0")).slice(-2),i.unit==="minute"?o+=":"+("0"+s).slice(-2):o+=":"+(i.minute?("0"+i.minute).slice(-2):"00"),i.unit==="second"?o+=":"+("0"+s).slice(-2):o+=":00",this.utc&&(o+=".000Z"),o}},{key:"formatDates",value:function(i){var s=this,o=this.w;return i.map(function(c){var h=c.value.toString(),d=new Y(s.ctx),f=s.createRawDateString(c,h),g=d.getDate(d.parseDate(f));if(s.utc||(g=d.getDate(d.parseDateWithTimezone(f))),o.config.xaxis.labels.format===void 0){var y="dd MMM",b=o.config.xaxis.labels.datetimeFormatter;c.unit==="year"&&(y=b.year),c.unit==="month"&&(y=b.month),c.unit==="day"&&(y=b.day),c.unit==="hour"&&(y=b.hour),c.unit==="minute"&&(y=b.minute),c.unit==="second"&&(y=b.second),h=d.formatDate(g,y)}else h=d.formatDate(g,o.config.xaxis.labels.format);return{dateString:f,position:c.position,value:h,unit:c.unit,year:c.year,month:c.month}})}},{key:"removeOverlappingTS",value:function(i){var s,o=this,c=new te(this.ctx),h=!1;i.length>0&&i[0].value&&i.every(function(g){return g.value.length===i[0].value.length})&&(h=!0,s=c.getTextRects(i[0].value).width);var d=0,f=i.map(function(g,y){if(y>0&&o.w.config.xaxis.labels.hideOverlappingLabels){var b=h?s:c.getTextRects(i[d].value).width,S=i[d].position;return g.position>S+b+10?(d=y,g):null}return g});return f=f.filter(function(g){return g!==null})}},{key:"_getYear",value:function(i,s,o){return i+Math.floor(s/12)+o}}]),V}(),Qr=function(){function V(i,s){l(this,V),this.ctx=s,this.w=s.w,this.el=i}return p(V,[{key:"setupElements",value:function(){var i=this.w.globals,s=this.w.config,o=s.chart.type;i.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(o)>-1,i.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(o)>-1,i.isBarHorizontal=(s.chart.type==="bar"||s.chart.type==="rangeBar"||s.chart.type==="boxPlot")&&s.plotOptions.bar.horizontal,i.chartClass=".apexcharts"+i.chartID,i.dom.baseEl=this.el,i.dom.elWrap=document.createElement("div"),te.setAttrs(i.dom.elWrap,{id:i.chartClass.substring(1),class:"apexcharts-canvas "+i.chartClass.substring(1)}),this.el.appendChild(i.dom.elWrap),i.dom.Paper=new window.SVG.Doc(i.dom.elWrap),i.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),i.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#424242",this.setSVGDimensions(),i.dom.elLegendForeign=document.createElementNS(i.SVGNS,"foreignObject"),te.setAttrs(i.dom.elLegendForeign,{x:0,y:0,width:i.svgWidth,height:i.svgHeight}),i.dom.elLegendWrap=document.createElement("div"),i.dom.elLegendWrap.classList.add("apexcharts-legend"),i.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),i.dom.elLegendForeign.appendChild(i.dom.elLegendWrap),i.dom.Paper.node.appendChild(i.dom.elLegendForeign),i.dom.elGraphical=i.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),i.dom.elDefs=i.dom.Paper.defs(),i.dom.Paper.add(i.dom.elGraphical),i.dom.elGraphical.add(i.dom.elDefs)}},{key:"plotChartType",value:function(i,s){var o=this.w,c=o.config,h=o.globals,d={series:[],i:[]},f={series:[],i:[]},g={series:[],i:[]},y={series:[],i:[]},b={series:[],i:[]},S={series:[],i:[]},_={series:[],i:[]},k={series:[],i:[]},C={series:[],seriesRangeEnd:[],i:[]},R=c.chart.type!==void 0?c.chart.type:"line",O=null,F=0;h.series.forEach(function(he,ve){var Te=i[ve].type||R;switch(Te){case"column":case"bar":b.series.push(he),b.i.push(ve),o.globals.columnSeries=b;break;case"area":f.series.push(he),f.i.push(ve);break;case"line":d.series.push(he),d.i.push(ve);break;case"scatter":g.series.push(he),g.i.push(ve);break;case"bubble":y.series.push(he),y.i.push(ve);break;case"candlestick":S.series.push(he),S.i.push(ve);break;case"boxPlot":_.series.push(he),_.i.push(ve);break;case"rangeBar":k.series.push(he),k.i.push(ve);break;case"rangeArea":C.series.push(h.seriesRangeStart[ve]),C.seriesRangeEnd.push(h.seriesRangeEnd[ve]),C.i.push(ve);break;case"heatmap":case"treemap":case"pie":case"donut":case"polarArea":case"radialBar":case"radar":O=Te;break;default:console.warn("You have specified an unrecognized series type (",Te,").")}R!==Te&&Te!=="scatter"&&F++}),F>0&&(O!==null&&console.warn("Chart or series type ",O," can not appear with other chart or series types."),b.series.length>0&&c.plotOptions.bar.horizontal&&(F-=b.length,b={series:[],i:[]},o.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),h.comboCharts||(h.comboCharts=F>0);var U=new en(this.ctx,s),v=new fi(this.ctx,s);this.ctx.pie=new de(this.ctx);var E=new Ce(this.ctx);this.ctx.rangeBar=new Le(this.ctx,s);var N=new ye(this.ctx),H=[];if(h.comboCharts){var B,G,ae=new oe(this.ctx);if(f.series.length>0&&(B=H).push.apply(B,q(ae.drawSeriesByGroup(f,h.areaGroups,"area",U))),b.series.length>0)if(o.config.chart.stacked){var se=new Gs(this.ctx,s);H.push(se.draw(b.series,b.i))}else this.ctx.bar=new di(this.ctx,s),H.push(this.ctx.bar.draw(b.series,b.i));if(C.series.length>0&&H.push(U.draw(C.series,"rangeArea",C.i,C.seriesRangeEnd)),d.series.length>0&&(G=H).push.apply(G,q(ae.drawSeriesByGroup(d,h.lineGroups,"line",U))),S.series.length>0&&H.push(v.draw(S.series,"candlestick",S.i)),_.series.length>0&&H.push(v.draw(_.series,"boxPlot",_.i)),k.series.length>0&&H.push(this.ctx.rangeBar.draw(k.series,k.i)),g.series.length>0){var ge=new en(this.ctx,s,!0);H.push(ge.draw(g.series,"scatter",g.i))}if(y.series.length>0){var fe=new en(this.ctx,s,!0);H.push(fe.draw(y.series,"bubble",y.i))}}else switch(c.chart.type){case"line":H=U.draw(h.series,"line");break;case"area":H=U.draw(h.series,"area");break;case"bar":c.chart.stacked?H=new Gs(this.ctx,s).draw(h.series):(this.ctx.bar=new di(this.ctx,s),H=this.ctx.bar.draw(h.series));break;case"candlestick":H=new fi(this.ctx,s).draw(h.series,"candlestick");break;case"boxPlot":H=new fi(this.ctx,s).draw(h.series,c.chart.type);break;case"rangeBar":H=this.ctx.rangeBar.draw(h.series);break;case"rangeArea":H=U.draw(h.seriesRangeStart,"rangeArea",void 0,h.seriesRangeEnd);break;case"heatmap":H=new Wa(this.ctx,s).draw(h.series);break;case"treemap":H=new Mt(this.ctx,s).draw(h.series);break;case"pie":case"donut":case"polarArea":H=this.ctx.pie.draw(h.series);break;case"radialBar":H=E.draw(h.series);break;case"radar":H=N.draw(h.series);break;default:H=U.draw(h.series)}return H}},{key:"setSVGDimensions",value:function(){var i=this.w.globals,s=this.w.config;s.chart.width||(s.chart.width="100%"),s.chart.height||(s.chart.height="auto"),i.svgWidth=s.chart.width,i.svgHeight=s.chart.height;var o=L.getDimensions(this.el),c=s.chart.width.toString().split(/[0-9]+/g).pop();c==="%"?L.isNumber(o[0])&&(o[0].width===0&&(o=L.getDimensions(this.el.parentNode)),i.svgWidth=o[0]*parseInt(s.chart.width,10)/100):c!=="px"&&c!==""||(i.svgWidth=parseInt(s.chart.width,10));var h=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(i.svgHeight!=="auto"&&i.svgHeight!=="")if(h==="%"){var d=L.getDimensions(this.el.parentNode);i.svgHeight=d[1]*parseInt(s.chart.height,10)/100}else i.svgHeight=parseInt(s.chart.height,10);else i.axisCharts?i.svgHeight=i.svgWidth/1.61:i.svgHeight=i.svgWidth/1.2;if(i.svgWidth<0&&(i.svgWidth=0),i.svgHeight<0&&(i.svgHeight=0),te.setAttrs(i.dom.Paper.node,{width:i.svgWidth,height:i.svgHeight}),h!=="%"){var f=s.chart.sparkline.enabled?0:i.axisCharts?s.chart.parentHeightOffset:0;i.dom.Paper.node.parentNode.parentNode.style.minHeight=i.svgHeight+f+"px"}i.dom.elWrap.style.width=i.svgWidth+"px",i.dom.elWrap.style.height=i.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var i=this.w.globals,s=i.translateY,o={transform:"translate("+i.translateX+", "+s+")"};te.setAttrs(i.dom.elGraphical.node,o)}},{key:"resizeNonAxisCharts",value:function(){var i=this.w,s=i.globals,o=0,c=i.config.chart.sparkline.enabled?1:15;c+=i.config.grid.padding.bottom,i.config.legend.position!=="top"&&i.config.legend.position!=="bottom"||!i.config.legend.show||i.config.legend.floating||(o=new dt(this.ctx).legendHelpers.getLegendDimensions().clwh+10);var h=i.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),d=2.05*i.globals.radialSize;if(h&&!i.config.chart.sparkline.enabled&&i.config.plotOptions.radialBar.startAngle!==0){var f=L.getBoundingClientRect(h);d=f.bottom;var g=f.bottom-f.top;d=Math.max(2.05*i.globals.radialSize,g)}var y=d+s.translateY+o+c;s.dom.elLegendForeign&&s.dom.elLegendForeign.setAttribute("height",y),i.config.chart.height&&String(i.config.chart.height).indexOf("%")>0||(s.dom.elWrap.style.height=y+"px",te.setAttrs(s.dom.Paper.node,{height:y}),s.dom.Paper.node.parentNode.parentNode.style.minHeight=y+"px")}},{key:"coreCalculations",value:function(){new Wn(this.ctx).init()}},{key:"resetGlobals",value:function(){var i=this,s=function(){return i.w.config.series.map(function(h){return[]})},o=new Xe,c=this.w.globals;o.initGlobalVars(c),c.seriesXvalues=s(),c.seriesYvalues=s()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var i=null,s=this.w;if(s.globals.axisCharts){if(s.config.xaxis.crosshairs.position==="back"&&new os(this.ctx).drawXCrosshairs(),s.config.yaxis[0].crosshairs.position==="back"&&new os(this.ctx).drawYCrosshairs(),s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Nr(this.ctx);var o=[];isFinite(s.globals.minX)&&isFinite(s.globals.maxX)&&!s.globals.isBarHorizontal?o=this.ctx.timeScale.calculateTimeScaleTicks(s.globals.minX,s.globals.maxX):s.globals.isBarHorizontal&&(o=this.ctx.timeScale.calculateTimeScaleTicks(s.globals.minY,s.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(o)}i=new oe(this.ctx).getCalculatedRatios()}return i}},{key:"updateSourceChart",value:function(i){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:i.w.globals.minX,max:i.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var i=this,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var o=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];o.forEach(function(c){var h=ApexCharts.getChartByID(c);h.w.globals.brushSource=i.ctx,typeof h.w.config.chart.events.zoomed!="function"&&(h.w.config.chart.events.zoomed=function(){i.updateSourceChart(h)}),typeof h.w.config.chart.events.scrolled!="function"&&(h.w.config.chart.events.scrolled=function(){i.updateSourceChart(h)})}),s.config.chart.events.selection=function(c,h){o.forEach(function(d){ApexCharts.getChartByID(d).ctx.updateHelpers._updateOptions({xaxis:{min:h.xaxis.min,max:h.xaxis.max}},!1,!1,!1,!1)})}}}}]),V}(),Lr=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"_updateOptions",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(f){var g=[s.ctx];h&&(g=s.ctx.getSyncedCharts()),s.ctx.w.globals.isExecCalled&&(g=[s.ctx],s.ctx.w.globals.isExecCalled=!1),g.forEach(function(y,b){var S=y.w;if(S.globals.shouldAnimate=c,o||(S.globals.resized=!0,S.globals.dataChanged=!0,c&&y.series.getPreviousPaths()),i&&a(i)==="object"&&(y.config=new Ae(i),i=oe.extendArrayProps(y.config,i,S),y.w.globals.chartID!==s.ctx.w.globals.chartID&&delete i.series,S.config=L.extend(S.config,i),d&&(S.globals.lastXAxis=i.xaxis?L.clone(i.xaxis):[],S.globals.lastYAxis=i.yaxis?L.clone(i.yaxis):[],S.globals.initialConfig=L.extend({},S.config),S.globals.initialSeries=L.clone(S.config.series),i.series))){for(var _=0;_<S.globals.collapsedSeriesIndices.length;_++){var k=S.config.series[S.globals.collapsedSeriesIndices[_]];S.globals.collapsedSeries[_].data=S.globals.axisCharts?k.data.slice():k}for(var C=0;C<S.globals.ancillaryCollapsedSeriesIndices.length;C++){var R=S.config.series[S.globals.ancillaryCollapsedSeriesIndices[C]];S.globals.ancillaryCollapsedSeries[C].data=S.globals.axisCharts?R.data.slice():R}y.series.emptyCollapsedSeries(S.config.series)}return y.update(i).then(function(){b===g.length-1&&f(y)})})})}},{key:"_updateSeries",value:function(i,s){var o=this,c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(h){var d,f=o.w;return f.globals.shouldAnimate=s,f.globals.dataChanged=!0,s&&o.ctx.series.getPreviousPaths(),f.globals.axisCharts?((d=i.map(function(g,y){return o._extendSeries(g,y)})).length===0&&(d=[{data:[]}]),f.config.series=d):f.config.series=i.slice(),c&&(f.globals.initialConfig.series=L.clone(f.config.series),f.globals.initialSeries=L.clone(f.config.series)),o.ctx.update().then(function(){h(o.ctx)})})}},{key:"_extendSeries",value:function(i,s){var o=this.w,c=o.config.series[s];return r(r({},o.config.series[s]),{},{name:i.name?i.name:c==null?void 0:c.name,color:i.color?i.color:c==null?void 0:c.color,type:i.type?i.type:c==null?void 0:c.type,group:i.group?i.group:c==null?void 0:c.group,data:i.data?i.data:c==null?void 0:c.data,zIndex:i.zIndex!==void 0?i.zIndex:s})}},{key:"toggleDataPointSelection",value:function(i,s){var o=this.w,c=null,h=".apexcharts-series[data\\:realIndex='".concat(i,"']");return o.globals.axisCharts?c=o.globals.dom.Paper.select("".concat(h," path[j='").concat(s,"'], ").concat(h," circle[j='").concat(s,"'], ").concat(h," rect[j='").concat(s,"']")).members[0]:s===void 0&&(c=o.globals.dom.Paper.select("".concat(h," path[j='").concat(i,"']")).members[0],o.config.chart.type!=="pie"&&o.config.chart.type!=="polarArea"&&o.config.chart.type!=="donut"||this.ctx.pie.pieClicked(i)),c?(new te(this.ctx).pathMouseDown(c,null),c.node?c.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(i){var s=this.w;if(["min","max"].forEach(function(c){i.xaxis[c]!==void 0&&(s.config.xaxis[c]=i.xaxis[c],s.globals.lastXAxis[c]=i.xaxis[c])}),i.xaxis.categories&&i.xaxis.categories.length&&(s.config.xaxis.categories=i.xaxis.categories),s.config.xaxis.convertedCatToNumeric){var o=new Ue(i);i=o.convertCatToNumericXaxis(i,this.ctx)}return i}},{key:"forceYAxisUpdate",value:function(i){return i.chart&&i.chart.stacked&&i.chart.stackType==="100%"&&(Array.isArray(i.yaxis)?i.yaxis.forEach(function(s,o){i.yaxis[o].min=0,i.yaxis[o].max=100}):(i.yaxis.min=0,i.yaxis.max=100)),i}},{key:"revertDefaultAxisMinMax",value:function(i){var s=this,o=this.w,c=o.globals.lastXAxis,h=o.globals.lastYAxis;i&&i.xaxis&&(c=i.xaxis),i&&i.yaxis&&(h=i.yaxis),o.config.xaxis.min=c.min,o.config.xaxis.max=c.max;var d=function(f){h[f]!==void 0&&(o.config.yaxis[f].min=h[f].min,o.config.yaxis[f].max=h[f].max)};o.config.yaxis.map(function(f,g){o.globals.zoomed||h[g]!==void 0?d(g):s.ctx.opts.yaxis[g]!==void 0&&(f.min=s.ctx.opts.yaxis[g].min,f.max=s.ctx.opts.yaxis[g].max)})}}]),V}();Vt=typeof window<"u"?window:void 0,Ye=function(V,i){var s=(this!==void 0?this:V).SVG=function(v){if(s.supported)return v=new s.Doc(v),s.parser.draw||s.prepare(),v};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.dev",s.supported=!0,!s.supported)return!1;s.did=1e3,s.eid=function(v){return"Svgjs"+b(v)+s.did++},s.create=function(v){var E=i.createElementNS(this.ns,v);return E.setAttribute("id",this.eid(v)),E},s.extend=function(){var v,E;E=(v=[].slice.call(arguments)).pop();for(var N=v.length-1;N>=0;N--)if(v[N])for(var H in E)v[N].prototype[H]=E[H];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(v){var E=typeof v.create=="function"?v.create:function(){this.constructor.call(this,s.create(v.create))};return v.inherit&&(E.prototype=new v.inherit),v.extend&&s.extend(E,v.extend),v.construct&&s.extend(v.parent||s.Container,v.construct),E},s.adopt=function(v){return v?v.instance?v.instance:((E=v.nodeName=="svg"?v.parentNode instanceof V.SVGElement?new s.Nested:new s.Doc:v.nodeName=="linearGradient"?new s.Gradient("linear"):v.nodeName=="radialGradient"?new s.Gradient("radial"):s[b(v.nodeName)]?new s[b(v.nodeName)]:new s.Element(v)).type=v.nodeName,E.node=v,v.instance=E,E instanceof s.Doc&&E.namespace().defs(),E.setData(JSON.parse(v.getAttribute("svgjs:data"))||{}),E):null;var E},s.prepare=function(){var v=i.getElementsByTagName("body")[0],E=(v?new s.Doc(v):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:v||i.documentElement,draw:E.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:E.polyline().node,path:E.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(v,E){for(var N=v.length,H=[],B=0;B<N;B++)H.push(E(v[B]));return H},filter:function(v,E){for(var N=v.length,H=[],B=0;B<N;B++)E(v[B])&&H.push(v[B]);return H},filterSVGElements:function(v){return this.filter(v,function(E){return E instanceof V.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(v){var E,N;this.r=0,this.g=0,this.b=0,v&&(typeof v=="string"?s.regex.isRgb.test(v)?(E=s.regex.rgb.exec(v.replace(s.regex.whitespace,"")),this.r=parseInt(E[1]),this.g=parseInt(E[2]),this.b=parseInt(E[3])):s.regex.isHex.test(v)&&(E=s.regex.hex.exec((N=v).length==4?["#",N.substring(1,2),N.substring(1,2),N.substring(2,3),N.substring(2,3),N.substring(3,4),N.substring(3,4)].join(""):N),this.r=parseInt(E[1],16),this.g=parseInt(E[2],16),this.b=parseInt(E[3],16)):a(v)==="object"&&(this.r=v.r,this.g=v.g,this.b=v.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+S(this.r)+S(this.g)+S(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(v){return this.destination=new s.Color(v),this},at:function(v){return this.destination?(v=v<0?0:v>1?1:v,new s.Color({r:~~(this.r+(this.destination.r-this.r)*v),g:~~(this.g+(this.destination.g-this.g)*v),b:~~(this.b+(this.destination.b-this.b)*v)})):this}}),s.Color.test=function(v){return v+="",s.regex.isHex.test(v)||s.regex.isRgb.test(v)},s.Color.isRgb=function(v){return v&&typeof v.r=="number"&&typeof v.g=="number"&&typeof v.b=="number"},s.Color.isColor=function(v){return s.Color.isRgb(v)||s.Color.test(v)},s.Array=function(v,E){(v=(v||[]).valueOf()).length==0&&E&&(v=E.valueOf()),this.value=this.parse(v)},s.extend(s.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(v){return v=v.valueOf(),Array.isArray(v)?v:this.split(v)}}),s.PointArray=function(v,E){s.Array.call(this,v,E||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray;for(var o={M:function(v,E,N){return E.x=N.x=v[0],E.y=N.y=v[1],["M",E.x,E.y]},L:function(v,E){return E.x=v[0],E.y=v[1],["L",v[0],v[1]]},H:function(v,E){return E.x=v[0],["H",v[0]]},V:function(v,E){return E.y=v[0],["V",v[0]]},C:function(v,E){return E.x=v[4],E.y=v[5],["C",v[0],v[1],v[2],v[3],v[4],v[5]]},Q:function(v,E){return E.x=v[2],E.y=v[3],["Q",v[0],v[1],v[2],v[3]]},S:function(v,E){return E.x=v[2],E.y=v[3],["S",v[0],v[1],v[2],v[3]]},Z:function(v,E,N){return E.x=N.x,E.y=N.y,["Z"]}},c="mlhvqtcsaz".split(""),h=0,d=c.length;h<d;++h)o[c[h]]=function(v){return function(E,N,H){if(v=="H")E[0]=E[0]+N.x;else if(v=="V")E[0]=E[0]+N.y;else if(v=="A")E[5]=E[5]+N.x,E[6]=E[6]+N.y;else for(var B=0,G=E.length;B<G;++B)E[B]=E[B]+(B%2?N.y:N.x);if(o&&typeof o[v]=="function")return o[v](E,N,H)}}(c[h].toUpperCase());s.PathArray=function(v,E){s.Array.call(this,v,E||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return function(v){for(var E=0,N=v.length,H="";E<N;E++)H+=v[E][0],v[E][1]!=null&&(H+=v[E][1],v[E][2]!=null&&(H+=" ",H+=v[E][2],v[E][3]!=null&&(H+=" ",H+=v[E][3],H+=" ",H+=v[E][4],v[E][5]!=null&&(H+=" ",H+=v[E][5],H+=" ",H+=v[E][6],v[E][7]!=null&&(H+=" ",H+=v[E][7])))));return H+" "}(this.value)},move:function(v,E){var N=this.bbox();return N.x,N.y,this},at:function(v){if(!this.destination)return this;for(var E=this.value,N=this.destination.value,H=[],B=new s.PathArray,G=0,ae=E.length;G<ae;G++){H[G]=[E[G][0]];for(var se=1,ge=E[G].length;se<ge;se++)H[G][se]=E[G][se]+(N[G][se]-E[G][se])*v;H[G][0]==="A"&&(H[G][4]=+(H[G][4]!=0),H[G][5]=+(H[G][5]!=0))}return B.value=H,B},parse:function(v){if(v instanceof s.PathArray)return v.valueOf();var E,N={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};v=typeof v=="string"?v.replace(s.regex.numbersWithDots,g).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):v.reduce(function(ge,fe){return[].concat.call(ge,fe)},[]);var H=[],B=new s.Point,G=new s.Point,ae=0,se=v.length;do s.regex.isPathLetter.test(v[ae])?(E=v[ae],++ae):E=="M"?E="L":E=="m"&&(E="l"),H.push(o[E].call(null,v.slice(ae,ae+=N[E.toUpperCase()]).map(parseFloat),B,G));while(se>ae);return H},bbox:function(){return s.parser.draw||s.prepare(),s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(v,E){this.value=0,this.unit=E||"",typeof v=="number"?this.value=isNaN(v)?0:isFinite(v)?v:v<0?-34e37:34e37:typeof v=="string"?(E=v.match(s.regex.numberAndUnit))&&(this.value=parseFloat(E[1]),E[5]=="%"?this.value/=100:E[5]=="s"&&(this.value*=1e3),this.unit=E[5]):v instanceof s.Number&&(this.value=v.valueOf(),this.unit=v.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(v){return v=new s.Number(v),new s.Number(this+v,this.unit||v.unit)},minus:function(v){return v=new s.Number(v),new s.Number(this-v,this.unit||v.unit)},times:function(v){return v=new s.Number(v),new s.Number(this*v,this.unit||v.unit)},divide:function(v){return v=new s.Number(v),new s.Number(this/v,this.unit||v.unit)},to:function(v){var E=new s.Number(this);return typeof v=="string"&&(E.unit=v),E},morph:function(v){return this.destination=new s.Number(v),v.relative&&(this.destination.value+=this.value),this},at:function(v){return this.destination?new s.Number(this.destination).minus(this).times(v).plus(this):this}}}),s.Element=s.invent({create:function(v){this._stroke=s.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=v)&&(this.type=v.nodeName,this.node.instance=this,this._stroke=v.getAttribute("stroke")||this._stroke)},extend:{x:function(v){return this.attr("x",v)},y:function(v){return this.attr("y",v)},cx:function(v){return v==null?this.x()+this.width()/2:this.x(v-this.width()/2)},cy:function(v){return v==null?this.y()+this.height()/2:this.y(v-this.height()/2)},move:function(v,E){return this.x(v).y(E)},center:function(v,E){return this.cx(v).cy(E)},width:function(v){return this.attr("width",v)},height:function(v){return this.attr("height",v)},size:function(v,E){var N=_(this,v,E);return this.width(new s.Number(N.width)).height(new s.Number(N.height))},clone:function(v){this.writeDataToDom();var E=R(this.node.cloneNode(!0));return v?v.add(E):this.after(E),E},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(v){return this.after(v).remove(),v},addTo:function(v){return v.put(this)},putIn:function(v){return v.add(this)},id:function(v){return this.attr("id",v)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var v=this.attr("class");return v==null?[]:v.trim().split(s.regex.delimiter)},hasClass:function(v){return this.classes().indexOf(v)!=-1},addClass:function(v){if(!this.hasClass(v)){var E=this.classes();E.push(v),this.attr("class",E.join(" "))}return this},removeClass:function(v){return this.hasClass(v)&&this.attr("class",this.classes().filter(function(E){return E!=v}).join(" ")),this},toggleClass:function(v){return this.hasClass(v)?this.removeClass(v):this.addClass(v)},reference:function(v){return s.get(this.attr(v))},parent:function(v){var E=this;if(!E.node.parentNode)return null;if(E=s.adopt(E.node.parentNode),!v)return E;for(;E&&E.node instanceof V.SVGElement;){if(typeof v=="string"?E.matches(v):E instanceof v)return E;if(!E.node.parentNode||E.node.parentNode.nodeName=="#document")return null;E=s.adopt(E.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(v){var E=[],N=this;do{if(!(N=N.parent(v))||!N.node)break;E.push(N)}while(N.parent);return E},matches:function(v){return function(E,N){return(E.matches||E.matchesSelector||E.msMatchesSelector||E.mozMatchesSelector||E.webkitMatchesSelector||E.oMatchesSelector).call(E,N)}(this.node,v)},native:function(){return this.node},svg:function(v){var E=i.createElementNS("http://www.w3.org/2000/svg","svg");if(!(v&&this instanceof s.Parent))return E.appendChild(v=i.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),v.appendChild(this.node.cloneNode(!0)),E.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");E.innerHTML="<svg>"+v.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var N=0,H=E.firstChild.childNodes.length;N<H;N++)this.node.appendChild(E.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(v){return this.dom=v,this},is:function(v){return function(E,N){return E instanceof N}(this,v)}}}),s.easing={"-":function(v){return v},"<>":function(v){return-Math.cos(v*Math.PI)/2+.5},">":function(v){return Math.sin(v*Math.PI/2)},"<":function(v){return 1-Math.cos(v*Math.PI/2)}},s.morph=function(v){return function(E,N){return new s.MorphObj(E,N).at(v)}},s.Situation=s.invent({create:function(v){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(v.duration).valueOf(),this.delay=new s.Number(v.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=v.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(v){this._target=v,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(v,E,N){a(v)==="object"&&(E=v.ease,N=v.delay,v=v.duration);var H=new s.Situation({duration:v||1e3,delay:N||0,ease:s.easing[E||"-"]||E});return this.queue(H),this},target:function(v){return v&&v instanceof s.Element?(this._target=v,this):this._target},timeToAbsPos:function(v){return(v-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(v){return this.situation.duration/this._speed*v+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=V.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){V.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(v){return(typeof v=="function"||v instanceof s.Situation)&&this.situations.push(v),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var v,E=this.situation;if(E.init)return this;for(var N in E.animations){v=this.target()[N](),Array.isArray(v)||(v=[v]),Array.isArray(E.animations[N])||(E.animations[N]=[E.animations[N]]);for(var H=v.length;H--;)E.animations[N][H]instanceof s.Number&&(v[H]=new s.Number(v[H])),E.animations[N][H]=v[H].morph(E.animations[N][H])}for(var N in E.attrs)E.attrs[N]=new s.MorphObj(this.target().attr(N),E.attrs[N]);for(var N in E.styles)E.styles[N]=new s.MorphObj(this.target().style(N),E.styles[N]);return E.initialTransformation=this.target().matrixify(),E.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(v,E){var N=this.active;return this.active=!1,E&&this.clearQueue(),v&&this.situation&&(!N&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(v){var E=this.last();return this.target().on("finished.fx",function N(H){H.detail.situation==E&&(v.call(this,E),this.off("finished.fx",N))}),this._callStart()},during:function(v){var E=this.last(),N=function(H){H.detail.situation==E&&v.call(this,H.detail.pos,s.morph(H.detail.pos),H.detail.eased,E)};return this.target().off("during.fx",N).on("during.fx",N),this.after(function(){this.off("during.fx",N)}),this._callStart()},afterAll:function(v){var E=function N(H){v.call(this),this.off("allfinished.fx",N)};return this.target().off("allfinished.fx",E).on("allfinished.fx",E),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(v,E,N){return this.last()[N||"animations"][v]=E,this._callStart()},step:function(v){var E,N,H;v||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(E=Math.max(this.absPos,0),N=Math.floor(E),this.situation.loops===!0||N<this.situation.loops?(this.pos=E-N,H=this.situation.loop,this.situation.loop=N):(this.absPos=this.situation.loops,this.pos=1,H=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-H)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var B=this.situation.ease(this.pos);for(var G in this.situation.once)G>this.lastPos&&G<=B&&(this.situation.once[G].call(this.target(),this.pos,B),delete this.situation.once[G]);return this.active&&this.target().fire("during",{pos:this.pos,eased:B,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=B,this):this},eachAt:function(){var v,E=this,N=this.target(),H=this.situation;for(var B in H.animations)v=[].concat(H.animations[B]).map(function(se){return typeof se!="string"&&se.at?se.at(H.ease(E.pos),E.pos):se}),N[B].apply(N,v);for(var B in H.attrs)v=[B].concat(H.attrs[B]).map(function(ge){return typeof ge!="string"&&ge.at?ge.at(H.ease(E.pos),E.pos):ge}),N.attr.apply(N,v);for(var B in H.styles)v=[B].concat(H.styles[B]).map(function(ge){return typeof ge!="string"&&ge.at?ge.at(H.ease(E.pos),E.pos):ge}),N.style.apply(N,v);if(H.transforms.length){v=H.initialTransformation,B=0;for(var G=H.transforms.length;B<G;B++){var ae=H.transforms[B];ae instanceof s.Matrix?v=ae.relative?v.multiply(new s.Matrix().morph(ae).at(H.ease(this.pos))):v.morph(ae).at(H.ease(this.pos)):(ae.relative||ae.undo(v.extract()),v=v.multiply(ae.at(H.ease(this.pos))))}N.matrix(v)}return this},once:function(v,E,N){var H=this.last();return N||(v=H.ease(v)),H.once[v]=E,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:s.Element,construct:{animate:function(v,E,N){return(this.fx||(this.fx=new s.FX(this))).animate(v,E,N)},delay:function(v){return(this.fx||(this.fx=new s.FX(this))).delay(v)},stop:function(v,E){return this.fx&&this.fx.stop(v,E),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),s.MorphObj=s.invent({create:function(v,E){return s.Color.isColor(E)?new s.Color(v).morph(E):s.regex.delimiter.test(v)?s.regex.pathLetters.test(v)?new s.PathArray(v).morph(E):new s.Array(v).morph(E):s.regex.numberAndUnit.test(E)?new s.Number(v).morph(E):(this.value=v,void(this.destination=E))},extend:{at:function(v,E){return E<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(v,E,N){if(a(v)==="object")for(var H in v)this.attr(H,v[H]);else this.add(v,E,"attrs");return this},plot:function(v,E,N,H){return arguments.length==4?this.plot([v,E,N,H]):this.add("plot",new(this.target()).morphArray(v))}}),s.Box=s.invent({create:function(v,E,N,H){if(!(a(v)!=="object"||v instanceof s.Element))return s.Box.call(this,v.left!=null?v.left:v.x,v.top!=null?v.top:v.y,v.width,v.height);var B;arguments.length==4&&(this.x=v,this.y=E,this.width=N,this.height=H),(B=this).x==null&&(B.x=0,B.y=0,B.width=0,B.height=0),B.w=B.width,B.h=B.height,B.x2=B.x+B.width,B.y2=B.y+B.height,B.cx=B.x+B.width/2,B.cy=B.y+B.height/2}}),s.BBox=s.invent({create:function(v){if(s.Box.apply(this,[].slice.call(arguments)),v instanceof s.Element){var E;try{if(!i.documentElement.contains){for(var N=v.node;N.parentNode;)N=N.parentNode;if(N!=i)throw new Error("Element not in the dom")}E=v.node.getBBox()}catch{if(v instanceof s.Shape){s.parser.draw||s.prepare();var H=v.clone(s.parser.draw.instance).show();H&&H.node&&typeof H.node.getBBox=="function"&&(E=H.node.getBBox()),H&&typeof H.remove=="function"&&H.remove()}else E={x:v.node.clientLeft,y:v.node.clientTop,width:v.node.clientWidth,height:v.node.clientHeight}}s.Box.call(this,E)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.Matrix=s.invent({create:function(v){var E=C([1,0,0,1,0,0]);v=v===null?E:v instanceof s.Element?v.matrixify():typeof v=="string"?C(v.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?C([].slice.call(arguments)):Array.isArray(v)?C(v):v&&a(v)==="object"?v:E;for(var N=F.length-1;N>=0;--N)this[F[N]]=v[F[N]]!=null?v[F[N]]:E[F[N]]},extend:{extract:function(){var v=k(this,0,1);k(this,1,0);var E=180/Math.PI*Math.atan2(v.y,v.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(E*Math.PI/180)+this.f*Math.sin(E*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(E*Math.PI/180)+this.e*Math.sin(-E*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:E,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(v){return this.destination=new s.Matrix(v),this},multiply:function(v){return new s.Matrix(this.native().multiply(function(E){return E instanceof s.Matrix||(E=new s.Matrix(E)),E}(v).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(v,E){return new s.Matrix(this.native().translate(v||0,E||0))},native:function(){for(var v=s.parser.native.createSVGMatrix(),E=F.length-1;E>=0;E--)v[F[E]]=this[F[E]];return v},toString:function(){return"matrix("+O(this.a)+","+O(this.b)+","+O(this.c)+","+O(this.d)+","+O(this.e)+","+O(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var v=this.rect(1,1),E=v.node.getScreenCTM();return v.remove(),new s.Matrix(E)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(v,E){var N;N=Array.isArray(v)?{x:v[0],y:v[1]}:a(v)==="object"?{x:v.x,y:v.y}:v!=null?{x:v,y:E??v}:{x:0,y:0},this.x=N.x,this.y=N.y},extend:{clone:function(){return new s.Point(this)},morph:function(v,E){return this.destination=new s.Point(v,E),this}}}),s.extend(s.Element,{point:function(v,E){return new s.Point(v,E).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(v,E,N){if(v==null){for(v={},N=(E=this.node.attributes).length-1;N>=0;N--)v[E[N].nodeName]=s.regex.isNumber.test(E[N].nodeValue)?parseFloat(E[N].nodeValue):E[N].nodeValue;return v}if(a(v)==="object")for(var H in v)this.attr(H,v[H]);else if(E===null)this.node.removeAttribute(v);else{if(E==null)return(E=this.node.getAttribute(v))==null?s.defaults.attrs[v]:s.regex.isNumber.test(E)?parseFloat(E):E;v=="stroke-width"?this.attr("stroke",parseFloat(E)>0?this._stroke:null):v=="stroke"&&(this._stroke=E),v!="fill"&&v!="stroke"||(s.regex.isImage.test(E)&&(E=this.doc().defs().image(E,0,0)),E instanceof s.Image&&(E=this.doc().defs().pattern(0,0,function(){this.add(E)}))),typeof E=="number"?E=new s.Number(E):s.Color.isColor(E)?E=new s.Color(E):Array.isArray(E)&&(E=new s.Array(E)),v=="leading"?this.leading&&this.leading(E):typeof N=="string"?this.node.setAttributeNS(N,v,E.toString()):this.node.setAttribute(v,E.toString()),!this.rebuild||v!="font-size"&&v!="x"||this.rebuild(v,E)}return this}}),s.extend(s.Element,{transform:function(v,E){var N;return a(v)!=="object"?(N=new s.Matrix(this).extract(),typeof v=="string"?N[v]:N):(N=new s.Matrix(this),E=!!E||!!v.relative,v.a!=null&&(N=E?N.multiply(new s.Matrix(v)):new s.Matrix(v)),this.attr("transform",N))}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(v){var E=v.trim().split("(");return[E[0],E[1].split(s.regex.delimiter).map(function(N){return parseFloat(N)})]}).reduce(function(v,E){return E[0]=="matrix"?v.multiply(C(E[1])):v[E[0]].apply(v,E[1])},new s.Matrix)},toParent:function(v){if(this==v)return this;var E=this.screenCTM(),N=v.screenCTM().inverse();return this.addTo(v).untransform().transform(N.multiply(E)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(v,E){if(arguments.length>1&&typeof E!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(v))for(var N=0,H=this.arguments.length;N<H;++N)this[this.arguments[N]]=v[N];else if(v&&a(v)==="object")for(N=0,H=this.arguments.length;N<H;++N)this[this.arguments[N]]=v[this.arguments[N]];this.inversed=!1,E===!0&&(this.inversed=!0)}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(v,E){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.extend(s.Element,{style:function(v,E){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(a(v)==="object")for(var N in v)this.style(N,v[N]);else{if(!s.regex.isCss.test(v))return this.node.style[y(v)];for(v=v.split(/\s*;\s*/).filter(function(H){return!!H}).map(function(H){return H.split(/\s*:\s*/)});E=v.pop();)this.style(E[0],E[1])}else this.node.style[y(v)]=E===null||s.regex.isBlank.test(E)?"":E;return this}}),s.Parent=s.invent({create:function(v){this.constructor.call(this,v)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(v){return s.adopt(v)})},add:function(v,E){return E==null?this.node.appendChild(v.node):v.node!=this.node.childNodes[E]&&this.node.insertBefore(v.node,this.node.childNodes[E]),this},put:function(v,E){return this.add(v,E),v},has:function(v){return this.index(v)>=0},index:function(v){return[].slice.call(this.node.childNodes).indexOf(v.node)},get:function(v){return s.adopt(this.node.childNodes[v])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(v,E){for(var N=this.children(),H=0,B=N.length;H<B;H++)N[H]instanceof s.Element&&v.apply(N[H],[H,N]),E&&N[H]instanceof s.Container&&N[H].each(v,E);return this},removeElement:function(v){return this.node.removeChild(v.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(v,E){return E===0||this instanceof s.Defs||this.node==s.parser.draw||(v=v||(this instanceof s.Doc?this:this.parent(s.Parent)),E=E||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(v,E-1):this.toParent(v)}),this.node.firstChild||this.remove()),this},flatten:function(v,E){return this.ungroup(v,E)}}),s.Container=s.invent({create:function(v){this.constructor.call(this,v)},inherit:s.Parent}),s.ViewBox=s.invent({parent:s.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(v){s.Element.prototype[v]=function(E){return s.on(this.node,v,E),this}}),s.listeners=[],s.handlerMap=[],s.listenerId=0,s.on=function(v,E,N,H,B){var G=N.bind(H||v.instance||v),ae=(s.handlerMap.indexOf(v)+1||s.handlerMap.push(v))-1,se=E.split(".")[0],ge=E.split(".")[1]||"*";s.listeners[ae]=s.listeners[ae]||{},s.listeners[ae][se]=s.listeners[ae][se]||{},s.listeners[ae][se][ge]=s.listeners[ae][se][ge]||{},N._svgjsListenerId||(N._svgjsListenerId=++s.listenerId),s.listeners[ae][se][ge][N._svgjsListenerId]=G,v.addEventListener(se,G,B||{passive:!1})},s.off=function(v,E,N){var H=s.handlerMap.indexOf(v),B=E&&E.split(".")[0],G=E&&E.split(".")[1],ae="";if(H!=-1)if(N){if(typeof N=="function"&&(N=N._svgjsListenerId),!N)return;s.listeners[H][B]&&s.listeners[H][B][G||"*"]&&(v.removeEventListener(B,s.listeners[H][B][G||"*"][N],!1),delete s.listeners[H][B][G||"*"][N])}else if(G&&B){if(s.listeners[H][B]&&s.listeners[H][B][G]){for(var se in s.listeners[H][B][G])s.off(v,[B,G].join("."),se);delete s.listeners[H][B][G]}}else if(G)for(var ge in s.listeners[H])for(var ae in s.listeners[H][ge])G===ae&&s.off(v,[ge,G].join("."));else if(B){if(s.listeners[H][B]){for(var ae in s.listeners[H][B])s.off(v,[B,ae].join("."));delete s.listeners[H][B]}}else{for(var ge in s.listeners[H])s.off(v,ge);delete s.listeners[H],delete s.handlerMap[H]}},s.extend(s.Element,{on:function(v,E,N,H){return s.on(this.node,v,E,N,H),this},off:function(v,E){return s.off(this.node,v,E),this},fire:function(v,E){return v instanceof V.Event?this.node.dispatchEvent(v):this.node.dispatchEvent(v=new s.CustomEvent(v,{detail:E,cancelable:!0})),this._event=v,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(v){return v==null?this.transform("x"):this.transform({x:v-this.x()},!0)}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(v){v&&((v=typeof v=="string"?i.getElementById(v):v).nodeName=="svg"?this.constructor.call(this,v):(this.constructor.call(this,s.create("svg")),v.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){var v;return this._defs||((v=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(v):this._defs=new s.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw&&!s.parser.draw.parentNode&&this.node.appendChild(s.parser.draw),this},clone:function(v){this.writeDataToDom();var E=this.node,N=R(E.cloneNode(!0));return v?(v.node||v).appendChild(N.node):E.parentNode.insertBefore(N.node,E.nextSibling),N}}}),s.extend(s.Element,{}),s.Gradient=s.invent({create:function(v){this.constructor.call(this,s.create(v+"Gradient")),this.type=v},inherit:s.Container,extend:{at:function(v,E,N){return this.put(new s.Stop).update(v,E,N)},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(v,E,N){return v=="transform"&&(v="gradientTransform"),s.Container.prototype.attr.call(this,v,E,N)}},construct:{gradient:function(v,E){return this.defs().gradient(v,E)}}}),s.extend(s.Gradient,s.FX,{from:function(v,E){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(v),fy:new s.Number(E)}):this.attr({x1:new s.Number(v),y1:new s.Number(E)})},to:function(v,E){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(v),cy:new s.Number(E)}):this.attr({x2:new s.Number(v),y2:new s.Number(E)})}}),s.extend(s.Defs,{gradient:function(v,E){return this.put(new s.Gradient(v)).update(E)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(v){return(typeof v=="number"||v instanceof s.Number)&&(v={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),v.opacity!=null&&this.attr("stop-opacity",v.opacity),v.color!=null&&this.attr("stop-color",v.color),v.offset!=null&&this.attr("offset",new s.Number(v.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},toString:function(){return this.fill()},attr:function(v,E,N){return v=="transform"&&(v="patternTransform"),s.Container.prototype.attr.call(this,v,E,N)}},construct:{pattern:function(v,E,N){return this.defs().pattern(v,E,N)}}}),s.extend(s.Defs,{pattern:function(v,E,N){return this.put(new s.Pattern).update(N).attr({x:0,y:0,width:v,height:E,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(v){this.constructor.call(this,v)},inherit:s.Element}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(v,E){return this.attr("href",(E||"")+"#"+v,s.xlink)}},construct:{use:function(v,E){return this.put(new s.Use).element(v,E)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(v,E){return this.put(new s.Rect).size(v,E)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(v){return this.put(new s.Circle).rx(new s.Number(v).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(v){return this.attr("r",v)},ry:function(v){return this.rx(v)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(v,E){return this.put(new s.Ellipse).size(v,E).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(v){return this.attr("rx",v)},ry:function(v){return this.attr("ry",v)}}),s.extend(s.Circle,s.Ellipse,{x:function(v){return v==null?this.cx()-this.rx():this.cx(v+this.rx())},y:function(v){return v==null?this.cy()-this.ry():this.cy(v+this.ry())},cx:function(v){return v==null?this.attr("cx"):this.attr("cx",v)},cy:function(v){return v==null?this.attr("cy"):this.attr("cy",v)},width:function(v){return v==null?2*this.rx():this.rx(new s.Number(v).divide(2))},height:function(v){return v==null?2*this.ry():this.ry(new s.Number(v).divide(2))},size:function(v,E){var N=_(this,v,E);return this.rx(new s.Number(N.width).divide(2)).ry(new s.Number(N.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(v,E,N,H){return v==null?this.array():(v=E!==void 0?{x1:v,y1:E,x2:N,y2:H}:new s.PointArray(v).toLine(),this.attr(v))},move:function(v,E){return this.attr(this.array().move(v,E).toLine())},size:function(v,E){var N=_(this,v,E);return this.attr(this.array().size(N.width,N.height).toLine())}},construct:{line:function(v,E,N,H){return s.Line.prototype.plot.apply(this.put(new s.Line),v!=null?[v,E,N,H]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(v){return this.put(new s.Polyline).plot(v||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(v){return this.put(new s.Polygon).plot(v||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(v){return v==null?this.array():this.clear().attr("points",typeof v=="string"?v:this._array=new s.PointArray(v))},clear:function(){return delete this._array,this},move:function(v,E){return this.attr("points",this.array().move(v,E))},size:function(v,E){var N=_(this,v,E);return this.attr("points",this.array().size(N.width,N.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(v){return v==null?this.bbox().x:this.move(v,this.bbox().y)},y:function(v){return v==null?this.bbox().y:this.move(this.bbox().x,v)},width:function(v){var E=this.bbox();return v==null?E.width:this.size(v,E.height)},height:function(v){var E=this.bbox();return v==null?E.height:this.size(E.width,v)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(v){return v==null?this.array():this.clear().attr("d",typeof v=="string"?v:this._array=new s.PathArray(v))},clear:function(){return delete this._array,this}},construct:{path:function(v){return this.put(new s.Path).plot(v||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(v){if(!v)return this;var E=this,N=new V.Image;return s.on(N,"load",function(){s.off(N);var H=E.parent(s.Pattern);H!==null&&(E.width()==0&&E.height()==0&&E.size(N.width,N.height),H&&H.width()==0&&H.height()==0&&H.size(E.width(),E.height()),typeof E._loaded=="function"&&E._loaded.call(E,{width:N.width,height:N.height,ratio:N.width/N.height,url:v}))}),s.on(N,"error",function(H){s.off(N),typeof E._error=="function"&&E._error.call(E,H)}),this.attr("href",N.src=this.src=v,s.xlink)},loaded:function(v){return this._loaded=v,this},error:function(v){return this._error=v,this}},construct:{image:function(v,E,N){return this.put(new s.Image).load(v).size(E||0,N||E||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(v){return v==null?this.attr("x"):this.attr("x",v)},text:function(v){if(v===void 0){v="";for(var E=this.node.childNodes,N=0,H=E.length;N<H;++N)N!=0&&E[N].nodeType!=3&&s.adopt(E[N]).dom.newLined==1&&(v+=`
`),v+=E[N].textContent;return v}if(this.clear().build(!0),typeof v=="function")v.call(this,this);else{N=0;for(var B=(v=v.split(`
`)).length;N<B;N++)this.tspan(v[N]).newLine()}return this.build(!1).rebuild()},size:function(v){return this.attr("font-size",v).rebuild()},leading:function(v){return v==null?this.dom.leading:(this.dom.leading=new s.Number(v),this.rebuild())},lines:function(){var v=(this.textPath&&this.textPath()||this).node,E=s.utils.map(s.utils.filterSVGElements(v.childNodes),function(N){return s.adopt(N)});return new s.Set(E)},rebuild:function(v){if(typeof v=="boolean"&&(this._rebuild=v),this._rebuild){var E=this,N=0,H=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(E.textPath()||this.attr("x",E.attr("x")),this.text()==`
`?N+=H:(this.attr("dy",H+N),N=0))}),this.fire("rebuild")}return this},build:function(v){return this._build=!!v,this},setData:function(v){return this.dom=v,this.dom.leading=new s.Number(v.leading||1.3),this}},construct:{text:function(v){return this.put(new s.Text).text(v)},plain:function(v){return this.put(new s.Text).plain(v)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(v){return v==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof v=="function"?v.call(this,this):this.plain(v),this)},dx:function(v){return this.attr("dx",v)},dy:function(v){return this.attr("dy",v)},newLine:function(){var v=this.parent(s.Text);return this.dom.newLined=!0,this.dy(v.dom.leading*v.attr("font-size")).attr("x",v.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(v){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(v)),this},tspan:function(v){var E=(this.textPath&&this.textPath()||this).node,N=new s.Tspan;return this._build===!1&&this.clear(),E.appendChild(N.node),N.text(v)},clear:function(){for(var v=(this.textPath&&this.textPath()||this).node;v.hasChildNodes();)v.removeChild(v.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,array:function(){var v=this.track();return v?v.array():null},plot:function(v){var E=this.track(),N=null;return E&&(N=E.plot(v)),v==null?N:this},track:function(){var v=this.textPath();if(v)return v.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(v,E){return E=="color"?v:v+"-"+E}};function g(v,E,N,H){return N+H.replace(s.regex.dots," .")}function y(v){return v.toLowerCase().replace(/-(.)/g,function(E,N){return N.toUpperCase()})}function b(v){return v.charAt(0).toUpperCase()+v.slice(1)}function S(v){var E=v.toString(16);return E.length==1?"0"+E:E}function _(v,E,N){if(E==null||N==null){var H=v.bbox();E==null?E=H.width/H.height*N:N==null&&(N=H.height/H.width*E)}return{width:E,height:N}}function k(v,E,N){return{x:E*v.a+N*v.c+0,y:E*v.b+N*v.d+0}}function C(v){return{a:v[0],b:v[1],c:v[2],d:v[3],e:v[4],f:v[5]}}function R(v){for(var E=v.childNodes.length-1;E>=0;E--)v.childNodes[E]instanceof V.SVGElement&&R(v.childNodes[E]);return s.adopt(v).id(s.eid(v.nodeName))}function O(v){return Math.abs(v)>1e-37?v:0}["fill","stroke"].forEach(function(v){var E={};E[v]=function(N){if(N===void 0)return this;if(typeof N=="string"||s.Color.isRgb(N)||N&&typeof N.fill=="function")this.attr(v,N);else for(var H=f[v].length-1;H>=0;H--)N[f[v][H]]!=null&&this.attr(f.prefix(v,f[v][H]),N[f[v][H]]);return this},s.extend(s.Element,s.FX,E)}),s.extend(s.Element,s.FX,{translate:function(v,E){return this.transform({x:v,y:E})},matrix:function(v){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):v))},opacity:function(v){return this.attr("opacity",v)},dx:function(v){return this.x(new s.Number(v).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(v){return this.y(new s.Number(v).plus(this instanceof s.FX?0:this.y()),!0)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(v){return this.node.getPointAtLength(v)}}),s.Set=s.invent({create:function(v){Array.isArray(v)?this.members=v:this.clear()},extend:{add:function(){for(var v=[].slice.call(arguments),E=0,N=v.length;E<N;E++)this.members.push(v[E]);return this},remove:function(v){var E=this.index(v);return E>-1&&this.members.splice(E,1),this},each:function(v){for(var E=0,N=this.members.length;E<N;E++)v.apply(this.members[E],[E,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(v){return this.index(v)>=0},index:function(v){return this.members.indexOf(v)},get:function(v){return this.members[v]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(v){return new s.Set(v)}}}),s.FX.Set=s.invent({create:function(v){this.set=v}}),s.Set.inherit=function(){var v=[];for(var E in s.Shape.prototype)typeof s.Shape.prototype[E]=="function"&&typeof s.Set.prototype[E]!="function"&&v.push(E);for(var E in v.forEach(function(H){s.Set.prototype[H]=function(){for(var B=0,G=this.members.length;B<G;B++)this.members[B]&&typeof this.members[B][H]=="function"&&this.members[B][H].apply(this.members[B],arguments);return H=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),v=[],s.FX.prototype)typeof s.FX.prototype[E]=="function"&&typeof s.FX.Set.prototype[E]!="function"&&v.push(E);v.forEach(function(N){s.FX.Set.prototype[N]=function(){for(var H=0,B=this.set.members.length;H<B;H++)this.set.members[H].fx[N].apply(this.set.members[H].fx,arguments);return this}})},s.extend(s.Element,{}),s.extend(s.Element,{remember:function(v,E){if(a(arguments[0])==="object")for(var N in v)this.remember(N,v[N]);else{if(arguments.length==1)return this.memory()[v];this.memory()[v]=E}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var v=arguments.length-1;v>=0;v--)delete this.memory()[arguments[v]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(v){var E=i.getElementById(function(N){var H=(N||"").toString().match(s.regex.reference);if(H)return H[1]}(v)||v);return s.adopt(E)},s.select=function(v,E){return new s.Set(s.utils.map((E||i).querySelectorAll(v),function(N){return s.adopt(N)}))},s.extend(s.Parent,{select:function(v){return s.select(v,this.node)}});var F="abcdef".split("");if(typeof V.CustomEvent!="function"){var U=function(v,E){E=E||{bubbles:!1,cancelable:!1,detail:void 0};var N=i.createEvent("CustomEvent");return N.initCustomEvent(v,E.bubbles,E.cancelable,E.detail),N};U.prototype=V.Event.prototype,s.CustomEvent=U}else s.CustomEvent=V.CustomEvent;return s},a(e)==="object"?t.exports=Vt.document?Ye(Vt,Vt.document):function(V){return Ye(V,V.document)}:Vt.SVG=Ye(Vt,Vt.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(d,f){return this.add(d,f),!d.attr("in")&&this.autoSetIn&&d.attr("in",this.source),d.attr("result")||d.attr("result",d),d},blend:function(d,f,g){return this.put(new SVG.BlendEffect(d,f,g))},colorMatrix:function(d,f){return this.put(new SVG.ColorMatrixEffect(d,f))},convolveMatrix:function(d){return this.put(new SVG.ConvolveMatrixEffect(d))},componentTransfer:function(d){return this.put(new SVG.ComponentTransferEffect(d))},composite:function(d,f,g){return this.put(new SVG.CompositeEffect(d,f,g))},flood:function(d,f){return this.put(new SVG.FloodEffect(d,f))},offset:function(d,f){return this.put(new SVG.OffsetEffect(d,f))},image:function(d){return this.put(new SVG.ImageEffect(d))},merge:function(){var d=[void 0];for(var f in arguments)d.push(arguments[f]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,d)))},gaussianBlur:function(d,f){return this.put(new SVG.GaussianBlurEffect(d,f))},morphology:function(d,f){return this.put(new SVG.MorphologyEffect(d,f))},diffuseLighting:function(d,f,g){return this.put(new SVG.DiffuseLightingEffect(d,f,g))},displacementMap:function(d,f,g,y,b){return this.put(new SVG.DisplacementMapEffect(d,f,g,y,b))},specularLighting:function(d,f,g,y){return this.put(new SVG.SpecularLightingEffect(d,f,g,y))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(d,f,g,y,b){return this.put(new SVG.TurbulenceEffect(d,f,g,y,b))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(d){var f=this.put(new SVG.Filter);return typeof d=="function"&&d.call(f,f),f}}),SVG.extend(SVG.Container,{filter:function(d){return this.defs().filter(d)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(d){return this.filterer=d instanceof SVG.Element?d:this.doc().filter(d),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(d){return this.filterer&&d===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",d)},result:function(d){return d==null?this.attr("result"):this.attr("result",d)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",d)},result:function(d){return d==null?this.attr("result"):this.attr("result",d)},toString:function(){return this.result()}}});var V={blend:function(d,f){return this.parent()&&this.parent().blend(this,d,f)},colorMatrix:function(d,f){return this.parent()&&this.parent().colorMatrix(d,f).in(this)},convolveMatrix:function(d){return this.parent()&&this.parent().convolveMatrix(d).in(this)},componentTransfer:function(d){return this.parent()&&this.parent().componentTransfer(d).in(this)},composite:function(d,f){return this.parent()&&this.parent().composite(this,d,f)},flood:function(d,f){return this.parent()&&this.parent().flood(d,f)},offset:function(d,f){return this.parent()&&this.parent().offset(d,f).in(this)},image:function(d){return this.parent()&&this.parent().image(d)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(d,f){return this.parent()&&this.parent().gaussianBlur(d,f).in(this)},morphology:function(d,f){return this.parent()&&this.parent().morphology(d,f).in(this)},diffuseLighting:function(d,f,g){return this.parent()&&this.parent().diffuseLighting(d,f,g).in(this)},displacementMap:function(d,f,g,y){return this.parent()&&this.parent().displacementMap(this,d,f,g,y)},specularLighting:function(d,f,g,y){return this.parent()&&this.parent().specularLighting(d,f,g,y).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(d,f,g,y,b){return this.parent()&&this.parent().turbulence(d,f,g,y,b).in(this)}};SVG.extend(SVG.Effect,V),SVG.extend(SVG.ParentEffect,V),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(d){this.attr("in",d)}}});var i={blend:function(d,f,g){this.attr({in:d,in2:f,mode:g||"normal"})},colorMatrix:function(d,f){d=="matrix"&&(f=c(f)),this.attr({type:d,values:f===void 0?null:f})},convolveMatrix:function(d){d=c(d),this.attr({order:Math.sqrt(d.split(" ").length),kernelMatrix:d})},composite:function(d,f,g){this.attr({in:d,in2:f,operator:g})},flood:function(d,f){this.attr("flood-color",d),f!=null&&this.attr("flood-opacity",f)},offset:function(d,f){this.attr({dx:d,dy:f})},image:function(d){this.attr("href",d,SVG.xlink)},displacementMap:function(d,f,g,y,b){this.attr({in:d,in2:f,scale:g,xChannelSelector:y,yChannelSelector:b})},gaussianBlur:function(d,f){d!=null||f!=null?this.attr("stdDeviation",function(g){if(!Array.isArray(g))return g;for(var y=0,b=g.length,S=[];y<b;y++)S.push(g[y]);return S.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(d,f){this.attr({operator:d,radius:f})},tile:function(){},turbulence:function(d,f,g,y,b){this.attr({numOctaves:f,seed:g,stitchTiles:y,baseFrequency:d,type:b})}},s={merge:function(){var d;if(arguments[0]instanceof SVG.Set){var f=this;arguments[0].each(function(y){this instanceof SVG.MergeNode?f.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&f.put(new SVG.MergeNode(this))})}else{d=Array.isArray(arguments[0])?arguments[0]:arguments;for(var g=0;g<d.length;g++)d[g]instanceof SVG.MergeNode?this.put(d[g]):this.put(new SVG.MergeNode(d[g]))}},componentTransfer:function(d){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(g){this[g]=new SVG["Func"+g.toUpperCase()]("identity"),this.rgb.add(this[g]),this.node.appendChild(this[g].node)}).bind(this)),d)for(var f in d.rgb&&(["r","g","b"].forEach((function(g){this[g].attr(d.rgb)}).bind(this)),delete d.rgb),d)this[f].attr(d[f])},diffuseLighting:function(d,f,g){this.attr({surfaceScale:d,diffuseConstant:f,kernelUnitLength:g})},specularLighting:function(d,f,g,y){this.attr({surfaceScale:d,diffuseConstant:f,specularExponent:g,kernelUnitLength:y})}},o={distantLight:function(d,f){this.attr({azimuth:d,elevation:f})},pointLight:function(d,f,g){this.attr({x:d,y:f,z:g})},spotLight:function(d,f,g,y,b,S){this.attr({x:d,y:f,z:g,pointsAtX:y,pointsAtY:b,pointsAtZ:S})},mergeNode:function(d){this.attr("in",d)}};function c(d){return Array.isArray(d)&&(d=new SVG.Array(d)),d.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function h(){var d=function(){};for(var f in typeof arguments[arguments.length-1]=="function"&&(d=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var g in arguments[f])d(arguments[f][g],g,arguments[f])}["r","g","b","a"].forEach(function(d){o["Func"+d.toUpperCase()]=function(f){switch(this.attr("type",f),f){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),h(i,function(d,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),h(s,function(d,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),h(o,function(d,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(d){return d instanceof SVG.MergeNode?this.add(d,0):this.add(new SVG.MergeNode(d),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",d)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function V(h,d,f,g,y,b,S){for(var _=h.slice(d,f||S),k=g.slice(y,b||S),C=0,R={pos:[0,0],start:[0,0]},O={pos:[0,0],start:[0,0]};_[C]=i.call(R,_[C]),k[C]=i.call(O,k[C]),_[C][0]!=k[C][0]||_[C][0]=="M"||_[C][0]=="A"&&(_[C][4]!=k[C][4]||_[C][5]!=k[C][5])?(Array.prototype.splice.apply(_,[C,1].concat(o.call(R,_[C]))),Array.prototype.splice.apply(k,[C,1].concat(o.call(O,k[C])))):(_[C]=s.call(R,_[C]),k[C]=s.call(O,k[C])),!(++C==_.length&&C==k.length);)C==_.length&&_.push(["C",R.pos[0],R.pos[1],R.pos[0],R.pos[1],R.pos[0],R.pos[1]]),C==k.length&&k.push(["C",O.pos[0],O.pos[1],O.pos[0],O.pos[1],O.pos[0],O.pos[1]]);return{start:_,dest:k}}function i(h){switch(h[0]){case"z":case"Z":h[0]="L",h[1]=this.start[0],h[2]=this.start[1];break;case"H":h[0]="L",h[2]=this.pos[1];break;case"V":h[0]="L",h[2]=h[1],h[1]=this.pos[0];break;case"T":h[0]="Q",h[3]=h[1],h[4]=h[2],h[1]=this.reflection[1],h[2]=this.reflection[0];break;case"S":h[0]="C",h[6]=h[4],h[5]=h[3],h[4]=h[2],h[3]=h[1],h[2]=this.reflection[1],h[1]=this.reflection[0]}return h}function s(h){var d=h.length;return this.pos=[h[d-2],h[d-1]],"SCQT".indexOf(h[0])!=-1&&(this.reflection=[2*this.pos[0]-h[d-4],2*this.pos[1]-h[d-3]]),h}function o(h){var d=[h];switch(h[0]){case"M":return this.pos=this.start=[h[1],h[2]],d;case"L":h[5]=h[3]=h[1],h[6]=h[4]=h[2],h[1]=this.pos[0],h[2]=this.pos[1];break;case"Q":h[6]=h[4],h[5]=h[3],h[4]=1*h[4]/3+2*h[2]/3,h[3]=1*h[3]/3+2*h[1]/3,h[2]=1*this.pos[1]/3+2*h[2]/3,h[1]=1*this.pos[0]/3+2*h[1]/3;break;case"A":d=function(f,g){var y,b,S,_,k,C,R,O,F,U,v,E,N,H,B,G,ae,se,ge,fe,he,ve,Te,Me,Be,qe,it=Math.abs(g[1]),nt=Math.abs(g[2]),ft=g[3]%360,Pt=g[4],Ct=g[5],Nt=g[6],Yn=g[7],St=new SVG.Point(f),mt=new SVG.Point(Nt,Yn),Tt=[];if(it===0||nt===0||St.x===mt.x&&St.y===mt.y)return[["C",St.x,St.y,mt.x,mt.y,mt.x,mt.y]];for(y=new SVG.Point((St.x-mt.x)/2,(St.y-mt.y)/2).transform(new SVG.Matrix().rotate(ft)),(b=y.x*y.x/(it*it)+y.y*y.y/(nt*nt))>1&&(it*=b=Math.sqrt(b),nt*=b),S=new SVG.Matrix().rotate(ft).scale(1/it,1/nt).rotate(-ft),St=St.transform(S),mt=mt.transform(S),_=[mt.x-St.x,mt.y-St.y],C=_[0]*_[0]+_[1]*_[1],k=Math.sqrt(C),_[0]/=k,_[1]/=k,R=C<4?Math.sqrt(1-C/4):0,Pt===Ct&&(R*=-1),O=new SVG.Point((mt.x+St.x)/2+R*-_[1],(mt.y+St.y)/2+R*_[0]),F=new SVG.Point(St.x-O.x,St.y-O.y),U=new SVG.Point(mt.x-O.x,mt.y-O.y),v=Math.acos(F.x/Math.sqrt(F.x*F.x+F.y*F.y)),F.y<0&&(v*=-1),E=Math.acos(U.x/Math.sqrt(U.x*U.x+U.y*U.y)),U.y<0&&(E*=-1),Ct&&v>E&&(E+=2*Math.PI),!Ct&&v<E&&(E-=2*Math.PI),H=Math.ceil(2*Math.abs(v-E)/Math.PI),G=[],ae=v,N=(E-v)/H,B=4*Math.tan(N/4)/3,he=0;he<=H;he++)ge=Math.cos(ae),se=Math.sin(ae),fe=new SVG.Point(O.x+ge,O.y+se),G[he]=[new SVG.Point(fe.x+B*se,fe.y-B*ge),fe,new SVG.Point(fe.x-B*se,fe.y+B*ge)],ae+=N;for(G[0][0]=G[0][1].clone(),G[G.length-1][2]=G[G.length-1][1].clone(),S=new SVG.Matrix().rotate(ft).scale(it,nt).rotate(-ft),he=0,ve=G.length;he<ve;he++)G[he][0]=G[he][0].transform(S),G[he][1]=G[he][1].transform(S),G[he][2]=G[he][2].transform(S);for(he=1,ve=G.length;he<ve;he++)Te=(fe=G[he-1][2]).x,Me=fe.y,Be=(fe=G[he][0]).x,qe=fe.y,Nt=(fe=G[he][1]).x,Yn=fe.y,Tt.push(["C",Te,Me,Be,qe,Nt,Yn]);return Tt}(this.pos,h),h=d[0]}return h[0]="C",this.pos=[h[5],h[6]],this.reflection=[2*h[5]-h[3],2*h[6]-h[4]],d}function c(h,d){if(d===!1)return!1;for(var f=d,g=h.length;f<g;++f)if(h[f][0]=="M")return f;return!1}SVG.extend(SVG.PathArray,{morph:function(h){for(var d=this.value,f=this.parse(h),g=0,y=0,b=!1,S=!1;g!==!1||y!==!1;){var _;b=c(d,g!==!1&&g+1),S=c(f,y!==!1&&y+1),g===!1&&(g=(_=new SVG.PathArray(k.start).bbox()).height==0||_.width==0?d.push(d[0])-1:d.push(["M",_.x+_.width/2,_.y+_.height/2])-1),y===!1&&(y=(_=new SVG.PathArray(k.dest).bbox()).height==0||_.width==0?f.push(f[0])-1:f.push(["M",_.x+_.width/2,_.y+_.height/2])-1);var k=V(d,g,b,f,y,S);d=d.slice(0,g).concat(k.start,b===!1?[]:d.slice(b)),f=f.slice(0,y).concat(k.dest,S===!1?[]:f.slice(S)),g=b!==!1&&g+k.start.length,y=S!==!1&&y+k.dest.length}return this.value=d,this.destination=new SVG.PathArray,this.destination.value=f,this}})}(),(function(){function V(i){i.remember("_draggable",this),this.el=i}V.prototype.init=function(i,s){var o=this;this.constraint=i,this.value=s,this.el.on("mousedown.drag",function(c){o.start(c)}),this.el.on("touchstart.drag",function(c){o.start(c)})},V.prototype.transformPoint=function(i,s){var o=(i=i||window.event).changedTouches&&i.changedTouches[0]||i;return this.p.x=o.clientX-(s||0),this.p.y=o.clientY,this.p.matrixTransform(this.m)},V.prototype.getBBox=function(){var i=this.el.bbox();return this.el instanceof SVG.Nested&&(i=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(i.x=this.el.x(),i.y=this.el.y()),i},V.prototype.start=function(i){if(i.type!="click"&&i.type!="mousedown"&&i.type!="mousemove"||(i.which||i.buttons)==1){var s=this;if(this.el.fire("beforedrag",{event:i,handler:this}),!this.el.event().defaultPrevented){i.preventDefault(),i.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var o,c=this.getBBox();if(this.el instanceof SVG.Text)switch(o=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":o/=2;break;case"start":o=0}this.startPoints={point:this.transformPoint(i,o),box:c,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(h){s.drag(h)}),SVG.on(window,"touchmove.drag",function(h){s.drag(h)}),SVG.on(window,"mouseup.drag",function(h){s.end(h)}),SVG.on(window,"touchend.drag",function(h){s.end(h)}),this.el.fire("dragstart",{event:i,p:this.startPoints.point,m:this.m,handler:this})}}},V.prototype.drag=function(i){var s=this.getBBox(),o=this.transformPoint(i),c=this.startPoints.box.x+o.x-this.startPoints.point.x,h=this.startPoints.box.y+o.y-this.startPoints.point.y,d=this.constraint,f=o.x-this.startPoints.point.x,g=o.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:i,p:o,m:this.m,handler:this}),this.el.event().defaultPrevented)return o;if(typeof d=="function"){var y=d.call(this.el,c,h,this.m);typeof y=="boolean"&&(y={x:y,y}),y.x===!0?this.el.x(c):y.x!==!1&&this.el.x(y.x),y.y===!0?this.el.y(h):y.y!==!1&&this.el.y(y.y)}else typeof d=="object"&&(d.minX!=null&&c<d.minX?f=(c=d.minX)-this.startPoints.box.x:d.maxX!=null&&c>d.maxX-s.width&&(f=(c=d.maxX-s.width)-this.startPoints.box.x),d.minY!=null&&h<d.minY?g=(h=d.minY)-this.startPoints.box.y:d.maxY!=null&&h>d.maxY-s.height&&(g=(h=d.maxY-s.height)-this.startPoints.box.y),d.snapToGrid!=null&&(c-=c%d.snapToGrid,h-=h%d.snapToGrid,f-=f%d.snapToGrid,g-=g%d.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:f,y:g},!0):this.el.move(c,h));return o},V.prototype.end=function(i){var s=this.drag(i);this.el.fire("dragend",{event:i,p:s,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(i,s){typeof i!="function"&&typeof i!="object"||(s=i,i=!0);var o=this.remember("_draggable")||new V(this);return(i=i===void 0||i)?o.init(s||{},i):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function V(i){this.el=i,i.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(s,o,c){var h=typeof s!="string"?s:o[s];return c?h/2:h},this.pointCoords=function(s,o){var c=this.pointsList[s];return{x:this.pointCoord(c[0],o,s==="t"||s==="b"),y:this.pointCoord(c[1],o,s==="r"||s==="l")}}}V.prototype.init=function(i,s){var o=this.el.bbox();this.options={};var c=this.el.selectize.defaults.points;for(var h in this.el.selectize.defaults)this.options[h]=this.el.selectize.defaults[h],s[h]!==void 0&&(this.options[h]=s[h]);var d=["points","pointsExclude"];for(var h in d){var f=this.options[d[h]];typeof f=="string"?f=f.length>0?f.split(/\s*,\s*/i):[]:typeof f=="boolean"&&d[h]==="points"&&(f=f?c:[]),this.options[d[h]]=f}this.options.points=[c,this.options.points].reduce(function(g,y){return g.filter(function(b){return y.indexOf(b)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(g,y){return g.filter(function(b){return y.indexOf(b)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(i):this.selectRect(i),this.observe(),this.cleanup()},V.prototype.selectPoints=function(i){return this.pointSelection.isSelected=i,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},V.prototype.getPointArray=function(){var i=this.el.bbox();return this.el.array().valueOf().map(function(s){return[s[0]-i.x,s[1]-i.y]})},V.prototype.drawPoints=function(){for(var i=this,s=this.getPointArray(),o=0,c=s.length;o<c;++o){var h=function(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var y=g.pageX||g.touches[0].pageX,b=g.pageY||g.touches[0].pageY;i.el.fire("point",{x:y,y:b,i:f,event:g})}}(o),d=this.drawPoint(s[o][0],s[o][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",h).on("mousedown",h);this.pointSelection.set.add(d)}},V.prototype.drawPoint=function(i,s){var o=this.options.pointType;switch(o){case"circle":return this.drawCircle(i,s);case"rect":return this.drawRect(i,s);default:if(typeof o=="function")return o.call(this,i,s);throw new Error("Unknown "+o+" point type!")}},V.prototype.drawCircle=function(i,s){return this.nested.circle(this.options.pointSize).center(i,s)},V.prototype.drawRect=function(i,s){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(i,s)},V.prototype.updatePointSelection=function(){var i=this.getPointArray();this.pointSelection.set.each(function(s){this.cx()===i[s][0]&&this.cy()===i[s][1]||this.center(i[s][0],i[s][1])})},V.prototype.updateRectSelection=function(){var i=this,s=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:s.width,height:s.height}),this.options.points.length&&this.options.points.map(function(c,h){var d=i.pointCoords(c,s);i.rectSelection.set.get(h+1).center(d.x,d.y)}),this.options.rotationPoint){var o=this.rectSelection.set.length();this.rectSelection.set.get(o-1).center(s.width/2,20)}},V.prototype.selectRect=function(i){var s=this,o=this.el.bbox();function c(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var y=g.pageX||g.touches[0].pageX,b=g.pageY||g.touches[0].pageY;s.el.fire(f,{x:y,y:b,event:g})}}if(this.rectSelection.isSelected=i,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(o.width,o.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(f,g){var y=s.pointCoords(f,o),b=s.drawPoint(y.x,y.y).attr("class",s.options.classPoints+"_"+f).on("mousedown",c(f)).on("touchstart",c(f));s.rectSelection.set.add(b)}),this.rectSelection.set.each(function(){this.addClass(s.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var h=function(f){(f=f||window.event).preventDefault?f.preventDefault():f.returnValue=!1,f.stopPropagation();var g=f.pageX||f.touches[0].pageX,y=f.pageY||f.touches[0].pageY;s.el.fire("rot",{x:g,y,event:f})},d=this.drawPoint(o.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",h).on("mousedown",h);this.rectSelection.set.add(d)}},V.prototype.handler=function(){var i=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},V.prototype.observe=function(){var i=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){i.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){i.handler()})},V.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(i,s){return typeof i=="object"&&(s=i,i=!0),(this.remember("_selectHandler")||new V(this)).init(i===void 0||i,s||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function V(i){i.remember("_resizeHandler",this),this.el=i,this.parameters={},this.lastUpdateCall=null,this.p=i.doc().node.createSVGPoint()}V.prototype.transformPoint=function(i,s,o){return this.p.x=i-(this.offset.x-window.pageXOffset),this.p.y=s-(this.offset.y-window.pageYOffset),this.p.matrixTransform(o||this.m)},V.prototype._extractPosition=function(i){return{x:i.clientX!=null?i.clientX:i.touches[0].clientX,y:i.clientY!=null?i.clientY:i.touches[0].clientY}},V.prototype.init=function(i){var s=this;if(this.stop(),i!=="stop"){for(var o in this.options={},this.el.resize.defaults)this.options[o]=this.el.resize.defaults[o],i[o]!==void 0&&(this.options[o]=i[o]);this.el.on("lt.resize",function(c){s.resize(c||window.event)}),this.el.on("rt.resize",function(c){s.resize(c||window.event)}),this.el.on("rb.resize",function(c){s.resize(c||window.event)}),this.el.on("lb.resize",function(c){s.resize(c||window.event)}),this.el.on("t.resize",function(c){s.resize(c||window.event)}),this.el.on("r.resize",function(c){s.resize(c||window.event)}),this.el.on("b.resize",function(c){s.resize(c||window.event)}),this.el.on("l.resize",function(c){s.resize(c||window.event)}),this.el.on("rot.resize",function(c){s.resize(c||window.event)}),this.el.on("point.resize",function(c){s.resize(c||window.event)}),this.update()}},V.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},V.prototype.resize=function(i){var s=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var o=this._extractPosition(i.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(o.x,o.y),x:i.detail.x,y:i.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),i.detail.i!==void 0){var c=this.el.array().valueOf();this.parameters.i=i.detail.i,this.parameters.pointCoords=[c[i.detail.i][0],c[i.detail.i][1]]}switch(i.type){case"lt":this.calc=function(h,d){var f=this.snapToGrid(h,d);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y+f[1]).size(this.parameters.box.width-f[0],this.parameters.box.height-f[1])}};break;case"rt":this.calc=function(h,d){var f=this.snapToGrid(h,d,2);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).size(this.parameters.box.width+f[0],this.parameters.box.height-f[1])}};break;case"rb":this.calc=function(h,d){var f=this.snapToGrid(h,d,0);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+f[0],this.parameters.box.height+f[1])}};break;case"lb":this.calc=function(h,d){var f=this.snapToGrid(h,d,1);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).size(this.parameters.box.width-f[0],this.parameters.box.height+f[1])}};break;case"t":this.calc=function(h,d){var f=this.snapToGrid(h,d,2);if(this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).height(this.parameters.box.height-f[1])}};break;case"r":this.calc=function(h,d){var f=this.snapToGrid(h,d,0);if(this.parameters.box.width+f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+f[0])}};break;case"b":this.calc=function(h,d){var f=this.snapToGrid(h,d,0);if(this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+f[1])}};break;case"l":this.calc=function(h,d){var f=this.snapToGrid(h,d,1);if(this.parameters.box.width-f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).width(this.parameters.box.width-f[0])}};break;case"rot":this.calc=function(h,d){var f=h+this.parameters.p.x,g=d+this.parameters.p.y,y=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),b=Math.atan2(g-this.parameters.box.y-this.parameters.box.height/2,f-this.parameters.box.x-this.parameters.box.width/2),S=this.parameters.rotation+180*(b-y)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(S-S%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(h,d){var f=this.snapToGrid(h,d,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),g=this.el.array().valueOf();g[this.parameters.i][0]=this.parameters.pointCoords[0]+f[0],g[this.parameters.i][1]=this.parameters.pointCoords[1]+f[1],this.el.plot(g)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:i}),SVG.on(window,"touchmove.resize",function(h){s.update(h||window.event)}),SVG.on(window,"touchend.resize",function(){s.done()}),SVG.on(window,"mousemove.resize",function(h){s.update(h||window.event)}),SVG.on(window,"mouseup.resize",function(){s.done()})},V.prototype.update=function(i){if(i){var s=this._extractPosition(i),o=this.transformPoint(s.x,s.y),c=o.x-this.parameters.p.x,h=o.y-this.parameters.p.y;this.lastUpdateCall=[c,h],this.calc(c,h),this.el.fire("resizing",{dx:c,dy:h,event:i})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},V.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},V.prototype.snapToGrid=function(i,s,o,c){var h;return c!==void 0?h=[(o+i)%this.options.snapToGrid,(c+s)%this.options.snapToGrid]:(o=o??3,h=[(this.parameters.box.x+i+(1&o?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+s+(2&o?0:this.parameters.box.height))%this.options.snapToGrid]),i<0&&(h[0]-=this.options.snapToGrid),s<0&&(h[1]-=this.options.snapToGrid),i-=Math.abs(h[0])<this.options.snapToGrid/2?h[0]:h[0]-(i<0?-this.options.snapToGrid:this.options.snapToGrid),s-=Math.abs(h[1])<this.options.snapToGrid/2?h[1]:h[1]-(s<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(i,s,o,c)},V.prototype.constraintToBox=function(i,s,o,c){var h,d,f=this.options.constraint||{};return c!==void 0?(h=o,d=c):(h=this.parameters.box.x+(1&o?0:this.parameters.box.width),d=this.parameters.box.y+(2&o?0:this.parameters.box.height)),f.minX!==void 0&&h+i<f.minX&&(i=f.minX-h),f.maxX!==void 0&&h+i>f.maxX&&(i=f.maxX-h),f.minY!==void 0&&d+s<f.minY&&(s=f.minY-d),f.maxY!==void 0&&d+s>f.maxY&&(s=f.maxY-d),[i,s]},V.prototype.checkAspectRatio=function(i,s){if(!this.options.saveAspectRatio)return i;var o=i.slice(),c=this.parameters.box.width/this.parameters.box.height,h=this.parameters.box.width+i[0],d=this.parameters.box.height-i[1],f=h/d;return f<c?(o[1]=h/c-this.parameters.box.height,s&&(o[1]=-o[1])):f>c&&(o[0]=this.parameters.box.width-d*c,s&&(o[0]=-o[0])),o},SVG.extend(SVG.Element,{resize:function(i){return(this.remember("_resizeHandler")||new V(this)).init(i||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var Cn=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new J(this.ctx),this.ctx.axes=new Hs(this.ctx),this.ctx.core=new Qr(this.ctx.el,this.ctx),this.ctx.config=new Ae({}),this.ctx.data=new lt(this.ctx),this.ctx.grid=new Rr(this.ctx),this.ctx.graphics=new te(this.ctx),this.ctx.coreUtils=new oe(this.ctx),this.ctx.crosshairs=new os(this.ctx),this.ctx.events=new as(this.ctx),this.ctx.exports=new kt(this.ctx),this.ctx.localization=new xr(this.ctx),this.ctx.options=new gt,this.ctx.responsive=new Oi(this.ctx),this.ctx.series=new Ne(this.ctx),this.ctx.theme=new $s(this.ctx),this.ctx.formatters=new ee(this.ctx),this.ctx.titleSubtitle=new ls(this.ctx),this.ctx.legend=new dt(this.ctx),this.ctx.toolbar=new un(this.ctx),this.ctx.tooltip=new cs(this.ctx),this.ctx.dimensions=new Ge(this.ctx),this.ctx.updateHelpers=new Lr(this.ctx),this.ctx.zoomPanSelection=new Mi(this.ctx),this.ctx.w.globals.tooltip=new cs(this.ctx)}}]),V}(),Xn=function(){function V(i){l(this,V),this.ctx=i,this.w=i.w}return p(V,[{key:"clear",value:function(i){var s=i.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:s})}},{key:"killSVG",value:function(i){i.each(function(s,o){this.removeClass("*"),this.off(),this.stop()},!0),i.ungroup(),i.clear()}},{key:"clearDomElements",value:function(i){var s=this,o=i.isUpdating,c=this.w.globals.dom.Paper.node;c.parentNode&&c.parentNode.parentNode&&!o&&(c.parentNode.parentNode.style.minHeight="unset");var h=this.w.globals.dom.baseEl;h&&this.ctx.eventList.forEach(function(f){h.removeEventListener(f,s.ctx.events.documentEvent)});var d=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(d.Paper),d.Paper.remove(),d.elWrap=null,d.elGraphical=null,d.elLegendWrap=null,d.elLegendForeign=null,d.baseEl=null,d.elGridRect=null,d.elGridRectMask=null,d.elGridRectMarkerMask=null,d.elForecastMask=null,d.elNonForecastMask=null,d.elDefs=null}}]),V}(),pi=new WeakMap,ji=function(){function V(i,s){l(this,V),this.opts=s,this.ctx=this,this.w=new $e(s).init(),this.el=i,this.w.globals.cuid=L.randomId(),this.w.globals.chartID=this.w.config.chart.id?L.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Cn(this).initModules(),this.create=L.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return p(V,[{key:"render",value:function(){var i=this;return new Promise(function(s,o){if(i.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),i.w.config.chart.id&&Apex._chartInstances.push({id:i.w.globals.chartID,group:i.w.config.chart.group,chart:i}),i.setLocale(i.w.config.chart.defaultLocale);var c=i.w.config.chart.events.beforeMount;typeof c=="function"&&c(i,i.w),i.events.fireEvent("beforeMount",[i,i.w]),window.addEventListener("resize",i.windowResizeHandler),function(_,k){var C=!1;if(_.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var R=_.getBoundingClientRect();_.style.display!=="none"&&R.width!==0||(C=!0)}var O=new ResizeObserver(function(F){C&&k.call(_,F),C=!0});_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(_.children).forEach(function(F){return O.observe(F)}):O.observe(_),pi.set(k,O)}(i.el.parentNode,i.parentResizeHandler);var h=i.el.getRootNode&&i.el.getRootNode(),d=L.is("ShadowRoot",h),f=i.el.ownerDocument,g=d?h.getElementById("apexcharts-css"):f.getElementById("apexcharts-css");if(!g){var y;(g=document.createElement("style")).id="apexcharts-css",g.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0 !important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,
.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,
.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,
.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var b=((y=i.opts.chart)===null||y===void 0?void 0:y.nonce)||i.w.config.chart.nonce;b&&g.setAttribute("nonce",b),d?h.prepend(g):f.head.appendChild(g)}var S=i.create(i.w.config.series,{});if(!S)return s(i);i.mount(S).then(function(){typeof i.w.config.chart.events.mounted=="function"&&i.w.config.chart.events.mounted(i,i.w),i.events.fireEvent("mounted",[i,i.w]),s(S)}).catch(function(_){o(_)})}else o(new Error("Element not found"))})}},{key:"create",value:function(i,s){var o=this.w;new Cn(this).initModules();var c=this.w.globals;if(c.noData=!1,c.animationEnded=!1,this.responsive.checkResponsiveConfig(s),o.config.xaxis.convertedCatToNumeric&&new Ue(o.config).convertCatToNumericXaxis(o.config,this.ctx),this.el===null||(this.core.setupElements(),o.config.chart.type==="treemap"&&(o.config.grid.show=!1,o.config.yaxis[0].show=!1),c.svgWidth===0))return c.animationEnded=!0,null;var h=oe.checkComboSeries(i,o.config.chart.type);c.comboCharts=h.comboCharts,c.comboBarCount=h.comboBarCount;var d=i.every(function(b){return b.data&&b.data.length===0});(i.length===0||d&&c.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new ht(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),c.noData&&c.collapsedSeries.length!==c.series.length&&!o.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),c.axisCharts&&(this.core.coreCalculations(),o.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=o.globals.minX,this.ctx.toolbar.maxX=o.globals.maxX),this.formatters.heatmapLabelFormatters(),new oe(this).getLargestMarkerSize(),this.dimensions.plotCoords();var f=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(i,f),y=new Pe(this);return y.bringForward(),o.config.dataLabels.background.enabled&&y.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:g,xyRatios:f,dimensions:{plot:{left:o.globals.translateX,top:o.globals.translateY,width:o.globals.gridWidth,height:o.globals.gridHeight}}}}},{key:"mount",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this,c=o.w;return new Promise(function(h,d){if(o.el===null)return d(new Error("Not enough data to display or target element not found"));(s===null||c.globals.allSeriesCollapsed)&&o.series.handleNoData(),o.grid=new Rr(o);var f,g,y=o.grid.drawGrid();if(o.annotations=new An(o),o.annotations.drawImageAnnos(),o.annotations.drawTextAnnos(),c.config.grid.position==="back"&&(y&&c.globals.dom.elGraphical.add(y.el),y!=null&&(f=y.elGridBorders)!==null&&f!==void 0&&f.node&&c.globals.dom.elGraphical.add(y.elGridBorders)),Array.isArray(s.elGraph))for(var b=0;b<s.elGraph.length;b++)c.globals.dom.elGraphical.add(s.elGraph[b]);else c.globals.dom.elGraphical.add(s.elGraph);c.config.grid.position==="front"&&(y&&c.globals.dom.elGraphical.add(y.el),y!=null&&(g=y.elGridBorders)!==null&&g!==void 0&&g.node&&c.globals.dom.elGraphical.add(y.elGridBorders)),c.config.xaxis.crosshairs.position==="front"&&o.crosshairs.drawXCrosshairs(),c.config.yaxis[0].crosshairs.position==="front"&&o.crosshairs.drawYCrosshairs(),c.config.chart.type!=="treemap"&&o.axes.drawAxis(c.config.chart.type,y);var S=new jt(i.ctx,y),_=new Gr(i.ctx,y);if(y!==null&&(S.xAxisLabelCorrections(y.xAxisTickWidth),_.setYAxisTextAlignments(),c.config.yaxis.map(function(C,R){c.globals.ignoreYAxisIndexes.indexOf(R)===-1&&_.yAxisTitleRotate(R,C.opposite)})),o.annotations.drawAxesAnnotations(),!c.globals.noData){if(c.config.tooltip.enabled&&!c.globals.noData&&o.w.globals.tooltip.drawTooltip(s.xyRatios),c.globals.axisCharts&&(c.globals.isXNumeric||c.config.xaxis.convertedCatToNumeric||c.globals.isRangeBar))(c.config.chart.zoom.enabled||c.config.chart.selection&&c.config.chart.selection.enabled||c.config.chart.pan&&c.config.chart.pan.enabled)&&o.zoomPanSelection.init({xyRatios:s.xyRatios});else{var k=c.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(C){k[C]=!1})}c.config.chart.toolbar.show&&!c.globals.allSeriesCollapsed&&o.toolbar.createToolbar()}c.globals.memory.methodsToExec.length>0&&c.globals.memory.methodsToExec.forEach(function(C){C.method(C.params,!1,C.context)}),c.globals.axisCharts||c.globals.noData||o.core.resizeNonAxisCharts(),h(o)})}},{key:"destroy",value:function(){var i,s;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,i=this.parentResizeHandler,(s=pi.get(i))&&(s.disconnect(),pi.delete(i));var o=this.w.config.chart.id;o&&Apex._chartInstances.forEach(function(c,h){c.id===L.escapeString(o)&&Apex._chartInstances.splice(h,1)}),new Xn(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],f=this.w;return f.globals.selection=void 0,i.series&&(this.series.resetSeries(!1,!0,!1),i.series.length&&i.series[0].data&&(i.series=i.series.map(function(g,y){return s.updateHelpers._extendSeries(g,y)})),this.updateHelpers.revertDefaultAxisMinMax()),i.xaxis&&(i=this.updateHelpers.forceXAxisUpdate(i)),i.yaxis&&(i=this.updateHelpers.forceYAxisUpdate(i)),f.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),i.theme&&(i=this.theme.updateThemeOptions(i)),this.updateHelpers._updateOptions(i,o,c,h,d)}},{key:"updateSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,s,o)}},{key:"appendSeries",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w.config.series.slice();return c.push(i),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,s,o)}},{key:"appendData",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=this;o.w.globals.dataChanged=!0,o.series.getPreviousPaths();for(var c=o.w.config.series.slice(),h=0;h<c.length;h++)if(i[h]!==null&&i[h]!==void 0)for(var d=0;d<i[h].data.length;d++)c[h].data.push(i[h].data[d]);return o.w.config.series=c,s&&(o.w.globals.initialSeries=L.clone(o.w.config.series)),this.update()}},{key:"update",value:function(i){var s=this;return new Promise(function(o,c){new Xn(s.ctx).clear({isUpdating:!0});var h=s.create(s.w.config.series,i);if(!h)return o(s);s.mount(h).then(function(){typeof s.w.config.chart.events.updated=="function"&&s.w.config.chart.events.updated(s,s.w),s.events.fireEvent("updated",[s,s.w]),s.w.globals.isDirty=!0,o(s)}).catch(function(d){c(d)})})}},{key:"getSyncedCharts",value:function(){var i=this.getGroupedCharts(),s=[this];return i.length&&(s=[],i.forEach(function(o){s.push(o)})),s}},{key:"getGroupedCharts",value:function(){var i=this;return Apex._chartInstances.filter(function(s){if(s.group)return!0}).map(function(s){return i.w.config.chart.group===s.group?s.chart:i})}},{key:"toggleSeries",value:function(i){return this.series.toggleSeries(i)}},{key:"highlightSeriesOnLegendHover",value:function(i,s){return this.series.toggleSeriesOnHover(i,s)}},{key:"showSeries",value:function(i){this.series.showSeries(i)}},{key:"hideSeries",value:function(i){this.series.hideSeries(i)}},{key:"isSeriesHidden",value:function(i){this.series.isSeriesHidden(i)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(i,s)}},{key:"addEventListener",value:function(i,s){this.events.addEventListener(i,s)}},{key:"removeEventListener",value:function(i,s){this.events.removeEventListener(i,s)}},{key:"addXaxisAnnotation",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addXaxisAnnotationExternal(i,s,c)}},{key:"addYaxisAnnotation",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addYaxisAnnotationExternal(i,s,c)}},{key:"addPointAnnotation",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addPointAnnotationExternal(i,s,c)}},{key:"clearAnnotations",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=this;i&&(s=i),s.annotations.clearAnnotations(s)}},{key:"removeAnnotation",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=this;s&&(o=s),o.annotations.removeAnnotation(o,i)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(i,s){return this.coreUtils.getSeriesTotalsXRange(i,s)}},{key:"getHighestValueInSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Wn(this.ctx).getMinYMaxY(i).highestY}},{key:"getLowestValueInSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Wn(this.ctx).getMinYMaxY(i).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(i,s){return this.updateHelpers.toggleDataPointSelection(i,s)}},{key:"zoomX",value:function(i,s){this.ctx.toolbar.zoomUpdateOptions(i,s)}},{key:"setLocale",value:function(i){this.localization.setCurrentLocaleValues(i)}},{key:"dataURI",value:function(i){return new kt(this.ctx).dataURI(i)}},{key:"exportToCSV",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new kt(this.ctx).exportToCSV(i)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var i=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){i.w.globals.resized=!0,i.w.globals.dataChanged=!1,i.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var i=this.w.config.chart.redrawOnWindowResize;typeof i=="function"&&(i=i()),i&&this._windowResize()}}],[{key:"getChartByID",value:function(i){var s=L.escapeString(i);if(Apex._chartInstances){var o=Apex._chartInstances.filter(function(c){return c.id===s})[0];return o&&o.chart}}},{key:"initOnLoad",value:function(){for(var i=document.querySelectorAll("[data-apexcharts]"),s=0;s<i.length;s++)new V(i[s],JSON.parse(i[s].getAttribute("data-options"))).render()}},{key:"exec",value:function(i,s){var o=this.getChartByID(i);if(o){o.w.globals.isExecCalled=!0;var c=null;if(o.publicMethods.indexOf(s)!==-1){for(var h=arguments.length,d=new Array(h>2?h-2:0),f=2;f<h;f++)d[f-2]=arguments[f];c=o[s].apply(o,d)}return c}}},{key:"merge",value:function(i,s){return L.extend(i,s)}}]),V}();t.exports=ji})(cy,cy.exports);var T9=cy.exports;const I9=Ms(T9),bm=({chartData:t,categories:e,reportType:n})=>{const r=K.useRef(null);return K.useEffect(()=>{if(!r.current)return;const a={chart:{type:"area",height:"350px"},series:[{name:"User Interactions",data:t}],xaxis:{categories:e},tooltip:{x:{format:"dd MMM"}}},l=new I9(r.current,a);return l.render(),()=>{l.destroy()}},[t,e]),D.jsxs("div",{className:"max-w-sm w-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6",children:[D.jsx("div",{className:"flex justify-between",children:D.jsx("div",{children:D.jsx("p",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:n})})}),D.jsx("div",{ref:r}),D.jsx("div",{className:"grid grid-cols-1 items-center border-gray-200 border-t dark:border-gray-700 justify-between",children:D.jsxs("div",{className:"flex justify-between items-center pt-5",children:[D.jsxs("button",{id:"dropdownDefaultButton","data-dropdown-toggle":"lastDaysdropdown","data-dropdown-placement":"bottom",className:"text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 text-center inline-flex items-center dark:hover:text-white",type:"button",children:["Last 7 days",D.jsx("svg",{className:"w-2.5 m-2.5 ms-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:D.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})})]}),D.jsx("div",{id:"lastDaysdropdown",className:"z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700",children:D.jsxs("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownDefaultButton",children:[D.jsx("li",{children:D.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Yesterday"})}),D.jsx("li",{children:D.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Today"})}),D.jsx("li",{children:D.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Last 7 days"})}),D.jsx("li",{children:D.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Last 30 days"})}),D.jsx("li",{children:D.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"Last 90 days"})})]})}),D.jsxs("a",{href:"#",className:"uppercase text-sm font-semibold inline-flex items-center rounded-lg text-blue-600 hover:text-blue-700 dark:hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700 px-3 py-2",children:[n,D.jsx("svg",{className:"w-2.5 h-2.5 ms-1.5 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:D.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})})]})]})})]})},P9=()=>{const{adminToken:t}=Us(),e=Di(),[n,r]=K.useState([]),[a,l]=K.useState([]),[u,p]=K.useState(1),[m,w]=K.useState(1),A=10,[T,I]=K.useState([]),[z,$]=K.useState([]),[q,Z]=K.useState([]),[X,L]=K.useState([]),[J,re]=K.useState(""),[te,oe]=K.useState([]),[j,W]=K.useState([]),[Y,ee]=K.useState([]);K.useEffect(()=>{(async()=>{try{const Xe=Et(et,"interactions"),$e=await Yt(Xe),Oe={};$e.forEach(Pe=>{const lt=Pe.data().timestamp.toDate().toLocaleDateString();Oe[lt]=(Oe[lt]||0)+1});const ht=Object.keys(Oe).sort(),_e=ht.map(Pe=>Oe[Pe]);Z(ht),L(_e)}catch(Xe){console.error("Error fetching interactions:",Xe)}})()},[]),K.useEffect(()=>{(async()=>{try{const Xe=or(Et(et,"interactions")),$e=await Yt(Xe),Oe={};$e.forEach(lt=>{const jt=lt.data().contentId;Oe[jt]=(Oe[jt]||0)+1}),I(Object.values(Oe)),ee(Object.keys(Oe));const ht=Array.from(Object.keys(Oe)),_e=await JB(),Pe=new Map;_e.forEach(lt=>{Pe.set(lt.id,lt.title)});const Ne=ht.map(lt=>Pe.get(lt)||"Unknown Title");$(Ne)}catch(Xe){console.error("Error fetching interactions:",Xe)}})()},[t,e]),K.useEffect(()=>{(async()=>{if(J)try{const Xe=or(Et(et,"interactions"),Li("contentId","==",J)),$e=await Yt(Xe),Oe={};$e.forEach(ht=>{const Pe=ht.data().timestamp.toDate().toLocaleDateString();Oe[Pe]=(Oe[Pe]||0)+1}),W(Object.keys(Oe)),oe(Object.values(Oe))}catch(Xe){console.error("Error fetching interactions for selected content ID:",Xe)}})()},[J]),K.useEffect(()=>{if(!t){e("/study/Login");return}const Ae=async()=>{try{const ht=(await Yt(Et(et,"questions"))).docs.map(_e=>({id:_e.id,..._e.data()}));r(ht)}catch(Oe){console.error("Error fetching questions:",Oe)}},Xe=Oe=>{const ht=new Date,_e=Oe.toDate(),Pe=ht.getTime()-_e.getTime(),Ne=Math.floor(Pe/1e3),lt=Math.floor(Ne/60),kt=Math.floor(lt/60),jt=Math.floor(kt/24);return jt>0?`${jt} day${jt>1?"s":""} ago`:kt>0?`${kt} hour${kt>1?"s":""} ago`:lt>0?`${lt} minute${lt>1?"s":""} ago`:`${Ne} second${Ne>1?"s":""} ago`},$e=async()=>{try{const ht=(await Yt(Et(et,"users"))).docs.map(_e=>{const Pe=_e.data(),Ne=Pe.displayName,lt=Ne==="Admin User",kt={id:_e.id,createdAt:Pe.createdAt,email:Pe.email,lastUpdated:Pe.lastUpdated instanceof an?Xe(Pe.lastUpdated):Pe.lastUpdated,status:Pe.status,updatedAt:Pe.updatedAt};return lt||(kt.displayName=Ne),lt?null:kt}).filter(_e=>_e!==null);l(ht)}catch(Oe){console.error("Error fetching users:",Oe)}};Ae(),$e()},[t,e]);const ie=Ae=>{p(Ae)},le=Ae=>{w(Ae)},ne=Ae=>{const Xe=z.indexOf(Ae.target.value),$e=Y[Xe];re($e)},rt=n.slice((u-1)*A,u*A),gt=a.slice((m-1)*A,m*A),An=()=>{u>1&&ie(u-1)},Kt=()=>{const Ae=Math.ceil(n.length/A);u<Ae&&ie(u+1)},Se=()=>{m>1&&le(m-1)},Ue=()=>{const Ae=Math.ceil(a.length/A);m<Ae&&le(m+1)};return D.jsxs("div",{children:[D.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Dashboard"}),D.jsxs("div",{className:"mb-6",children:[D.jsx("label",{htmlFor:"contentIdSelect",className:"mr-4",children:"Select Content ID:"}),D.jsxs("select",{id:"contentIdSelect",onChange:ne,value:z.find(Ae=>Y[z.indexOf(Ae)]===J)||"",className:"p-2 border border-gray-300 rounded",children:[D.jsx("option",{value:"",children:"Select..."}),z.map((Ae,Xe)=>D.jsx("option",{value:Ae,children:Ae},Xe))]})]}),D.jsxs("div",{className:"flex justify-between mb-6",children:[D.jsx(bm,{chartData:te,categories:j,reportType:"Single Data"}),D.jsx(bm,{chartData:T,categories:z,reportType:"Post Data"}),D.jsx(bm,{chartData:X,categories:q,reportType:"Interaction Data"})]}),D.jsxs("div",{children:[D.jsx("h2",{className:"text-xl font-semibold mb-2",children:"User Questions"}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"Question"}),D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"User Email"}),D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"Content ID"}),D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"Answer"})]})}),D.jsx("tbody",{children:rt.map(Ae=>{const $e=`http://localhost:3000${Ae.contentId}`;return D.jsxs("tr",{children:[D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:Ae.question}),D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:Ae.userEmail}),D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:D.jsx(ir,{to:$e,children:Ae.contentId})}),D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:Ae.answer})]},Ae.id)})})]})}),D.jsxs("div",{className:"flex justify-between items-center mt-4",children:[D.jsx("button",{onClick:An,disabled:u===1,className:`py-2 px-4 border rounded ${u===1?"cursor-not-allowed bg-gray-300":"bg-blue-500 text-white"}`,children:"Previous"}),D.jsx("div",{className:"flex justify-center ",children:D.jsx(m_,{totalItems:n.length,itemsPerPage:A,currentPage:u,onPageChange:ie})}),D.jsx("button",{onClick:Kt,disabled:u===Math.ceil(n.length/A),className:`py-2 px-4 border rounded ${u===Math.ceil(n.length/A)?"cursor-not-allowed bg-gray-300":"bg-blue-500 text-white"}`,children:"Next"})]})]}),D.jsxs("div",{className:"mt-8",children:[D.jsx("h2",{className:"text-xl font-semibold mb-2",children:"User Information"}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"UID"}),D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"Email"}),D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"Active Status"}),D.jsx("th",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:"Last Login"})]})}),D.jsx("tbody",{children:gt.map(Ae=>D.jsxs("tr",{children:[D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:Ae.id}),D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:Ae.email}),D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:Ae.status?"Active":"Inactive"}),D.jsx("td",{className:"py-2 px-4 border-b border-gray-200 dark:border-gray-700",children:Ae.lastUpdated})]},Ae.id))})]})}),D.jsxs("div",{className:"flex justify-between items-center mt-4",children:[D.jsx("button",{onClick:Se,disabled:m===1,className:`py-2 px-4 border rounded ${m===1?"cursor-not-allowed bg-gray-300":"bg-blue-500 text-white"}`,children:"Previous"}),D.jsx(m_,{totalItems:a.length,itemsPerPage:A,currentPage:m,onPageChange:le}),D.jsx("button",{onClick:Ue,disabled:m===Math.ceil(a.length/A),className:`py-2 px-4 border rounded ${m===Math.ceil(a.length/A)?"cursor-not-allowed bg-gray-300":"bg-blue-500 text-white"}`,children:"Next"})]})]})]})},R9=()=>D.jsxs("div",{children:[D.jsx("h2",{children:"404 - Not Found"}),D.jsx("p",{children:"The page you are looking for does not exist."})]}),v_=({children:t})=>{const{token:e,adminToken:n}=Us(),r=Di(),[a,l]=K.useState(!0);return K.useEffect(()=>{(async()=>{window.location.pathname==="/admin/dashboard"&&!n&&r("/"),window.location.pathname==="/admin/previewtest"&&!n&&r("/"),(window.location.pathname==="/study/login"&&e||n)&&r("/"),(window.location.pathname==="/study/register"&&e||n)&&r("/"),l(!1)})()},[e,n,r]),a?D.jsx("div",{className:"flex items-center justify-center h-screen",children:D.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"})}):D.jsx(D.Fragment,{children:t})},N9=()=>{const t=gr({currentPassword:qt().required("Required"),newPassword:qt().min(8,"Password must be at least 8 characters").required("Required"),confirmNewPassword:qt().oneOf([_P("newPassword")],"Passwords must match").required("Required")}),{enqueueSnackbar:e}=yr(),n=Di(),r={currentPassword:"",newPassword:"",confirmNewPassword:""},a=async l=>{try{const u=Vr.currentUser;if(u)await yC(Vr,u.email,l.currentPassword),await DF(u,l.newPassword),e("Password updated successfully!",{variant:"success"}),l.currentPassword="",l.newPassword="",l.confirmNewPassword="",n("/study/login");else throw new Error("User not authenticated")}catch(u){console.error("Change Password error:",u.message),e(`Error: ${u.message}`,{variant:"error"}),l.currentPassword="",l.newPassword="",l.confirmNewPassword=""}};return D.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white bg-opacity-75 backdrop-blur-md p-8 rounded-lg shadow-md animate-fade-in",children:[D.jsx("div",{children:D.jsx("h1",{className:"text-center text-2xl font-bold text-gray-900",children:"Change Password"})}),D.jsx(Pr,{initialValues:r,validationSchema:t,onSubmit:a,children:()=>D.jsxs(pr,{className:"space-y-6",children:[D.jsx(Ln,{label:"Current Password",name:"currentPassword",type:"password",required:!0}),D.jsx(Ln,{label:"New Password",name:"newPassword",type:"password",required:!0}),D.jsx(Ln,{label:"Confirm New Password",name:"confirmNewPassword",type:"password",required:!0}),D.jsx(Ci,{label:"Change Password"}),D.jsx("div",{className:"flex justify-between text-sm",children:D.jsx(ir,{to:"/study/login",className:"text-indigo-600 hover:text-indigo-500 focus:outline-none",children:"Back to Login"})})]})})]})})},L9=()=>{const t=gr({displayName:qt().required("Display Name is required")}),{enqueueSnackbar:e}=yr(),n=Di(),[r,a]=K.useState({displayName:"",email:""});K.useEffect(()=>{(async()=>{try{const m=Vr.currentUser;if(m){const w=m.email,A=or(Et(et,"users"),Li("email","==",w)),T=await Yt(A),I=wn(et,"users",T.docs[0].id),z=await xo(I);if(z.exists()){const $=z.data();a({displayName:($==null?void 0:$.displayName)||"",email:($==null?void 0:$.email)||""})}else console.error("User document not found")}else console.error("User not authenticated")}catch(m){console.error("Error fetching user document:",m)}})()},[]);const l=(p,m)=>{console.log(r.email,p,m),console.log(`[${p}]: ${m}`),a(w=>({...w,[p]:m===""?w.email:m}))},u=async p=>{try{const m=Vr.currentUser;if(m){const w=m.email,A=or(Et(et,"users"),Li("email","==",w)),T=await Yt(A),I=wn(et,"users",T.docs[0].id);(await xo(I)).exists()&&await Vf(I,{displayName:p.displayName,updatedAt:new Date().toISOString()},{merge:!0}),e("User details updated successfully!",{variant:"success"}),n("/")}else throw new Error("User not authenticated")}catch(m){console.error("Update Details error:",m.message),e(`Error: ${m.message}`,{variant:"error"})}};return D.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white bg-opacity-75 backdrop-blur-md p-8 rounded-lg shadow-md animate-fade-in",children:[D.jsx("div",{children:D.jsx("h1",{className:"text-center text-2xl font-bold text-gray-900",children:"Change Details"})}),D.jsx(Pr,{initialValues:{displayName:r.displayName},validationSchema:t,onSubmit:p=>u(p),children:()=>D.jsxs(pr,{className:"space-y-6",children:[D.jsx(Ln,{label:"Display Name",name:"displayName",type:"text",required:!0,value:r.displayName,onChange:l}),D.jsx(Ci,{label:"Update Details"}),D.jsx("div",{className:"flex justify-between text-sm",children:D.jsx(ir,{to:"/login",className:"text-indigo-600 hover:text-indigo-500 focus:outline-none",children:"Back to Login"})})]})})]})})},D9=()=>{const{enqueueSnackbar:t}=yr(),e=Di(),[,n]=K.useState(!1),r=gr({email:qt().email("Invalid email address").required("Email is required")}),a={email:""},l=async u=>{try{const p=localStorage.getItem("resetPasswordRequest");if(p){const{email:m,timestamp:w}=JSON.parse(p),A=new Date(w),T=new Date;if(m===u.email&&T.getTime()-A.getTime()<36e5){t("Please wait before requesting another password reset.",{variant:"warning"});return}}n(!0),await RF(Vr,u.email),localStorage.setItem("resetPasswordRequest",JSON.stringify({email:u.email,timestamp:new Date})),t("Password reset email sent! Please check your inbox.",{variant:"success"}),e("/login")}catch(p){console.error("Password reset error:",p.message),t(`Error: ${p.message}`,{variant:"error"})}};return D.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white bg-opacity-75 backdrop-blur-md p-8 rounded-lg shadow-md animate-fade-in",children:[D.jsx("div",{children:D.jsx("h1",{className:"text-center text-2xl font-bold text-gray-900",children:"Forgot Password"})}),D.jsx(Pr,{initialValues:a,validationSchema:r,onSubmit:l,children:()=>D.jsxs(pr,{className:"space-y-6",children:[D.jsx(Ln,{label:"Email",name:"email",type:"email",required:!0}),D.jsx(zl,{name:"email",component:"div",className:"text-red-500"}),D.jsx("button",{type:"submit",className:"w-full bg-indigo-500 text-white py-2 px-4 rounded hover:bg-indigo-600",children:"Reset Password"}),D.jsx("div",{className:"text-sm text-center mt-4",children:D.jsx(ir,{to:"/study/login",className:"text-indigo-600 hover:text-indigo-500 focus:outline-none",children:"Back to Login"})})]})})]})})},O9=({fetchSubjects:t})=>{const{enqueueSnackbar:e}=yr(),n={subjectName:""},r=gr().shape({subjectName:qt().required("Subject name is required")}),a=async(l,{resetForm:u})=>{try{await YB({name:l.subjectName}),e("Subject added successfully!",{variant:"success"}),t(),u()}catch(p){console.error("Error adding subject:",p),e("Error adding subject:",{variant:"error"})}};return D.jsxs("div",{children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Subject"}),D.jsx(Pr,{initialValues:n,validationSchema:r,onSubmit:a,children:({values:l,handleChange:u,handleSubmit:p})=>D.jsxs(pr,{onSubmit:p,className:"flex justify-center items-center gap-2",children:[D.jsx("div",{style:{width:"100%"},className:"justify-center items-center mb-5",children:D.jsx(Ln,{label:"Subject Name",name:"subjectName",type:"text",value:l.subjectName,onChange:u})}),D.jsx("div",{className:"w-20 justify-center items-center",children:D.jsx(Ci,{label:"Submit"})})]})})]})},So=({label:t,name:e,options:n,onChange:r})=>{const[a,l]=pP(e),{setFieldValue:u}=Tc(),p=m=>{const w=m.target.value;u(e,w),r&&r(w)};return D.jsxs("div",{className:"relative mt-6",children:[D.jsx("label",{htmlFor:e,className:`absolute left-3 bg-white px-1 ${a.value?"-top-2 text-xs text-gray-500":"top-2 text-sm text-gray-700"} transition-all duration-200 pointer-events-none`,style:{zIndex:a.value?"10":"0"},children:t}),D.jsxs("select",{id:e,name:e,value:a.value,onChange:p,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[D.jsx("option",{value:"",label:`Select ${t}`}),n.map(m=>D.jsx("option",{value:m.id,label:m.name},m.id))]}),l.error?D.jsx("div",{className:"text-red-500 text-xs mt-1",children:l.error}):null]})},M9=({subjects:t,fetchSubjects:e})=>{const{enqueueSnackbar:n}=yr(),[r,a]=K.useState(""),l={chapterName:"",selectedSubject:""},u=gr({chapterName:qt().required("Chapter name is required"),selectedSubject:qt().required("Subject is required")}),p=async(m,{resetForm:w})=>{if(!r){console.error("Subject is required.");return}try{await qB({name:m.chapterName,subjectId:r}),n("Chapter added successfully!",{variant:"success"}),w(),e()}catch(A){console.error("Error adding chapter:",A),n("Error adding chapter:",{variant:"error"})}};return D.jsxs("div",{children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Chapter"}),D.jsx(Pr,{initialValues:l,validationSchema:u,onSubmit:p,children:({values:m,handleChange:w,handleSubmit:A})=>D.jsxs(pr,{onSubmit:A,className:"flex items-center gap-4",children:[D.jsx("div",{style:{width:"30%"},className:"justify-center items-center mb-5",children:D.jsx(So,{label:"Subject",name:"selectedSubject",options:t.map(T=>({id:T.id,name:T.name})),onChange:T=>a(T)})}),D.jsx("div",{style:{width:"80%"},className:"justify-center items-center mb-5",children:D.jsx(Ln,{label:"Chapter Name",name:"chapterName",type:"text",value:m.chapterName,onChange:w})}),D.jsx("div",{className:"w-20 justify-center items-center",children:D.jsx(Ci,{label:"Submit"})})]})})]})},F9=({subjects:t,fetchSubjects:e})=>{const{enqueueSnackbar:n}=yr(),[r,a]=K.useState(""),[l,u]=K.useState(""),[p,m]=K.useState([]);K.useEffect(()=>{e()},[e]);const w=async z=>{try{const $=await Dh(z);m($)}catch($){console.error("Error fetching chapters:",$),m([])}},A=async(z,{resetForm:$})=>{try{if(!r||!l){console.error("Subject and Chapter are required.");return}await KB({name:z.subChapterName,chapterId:l,subjectId:r}),n("Sub-chapter added successfully!",{variant:"success"}),$(),e()}catch(q){console.error("Error adding sub-chapter:",q),n("Error adding sub-chapter:",{variant:"error"})}},T=gr().shape({subChapterName:qt().required("Sub-chapter name is required"),chapterId:qt().required("Chapter is required")}),I={subChapterName:"",chapterId:""};return D.jsxs("div",{children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Sub-Chapter"}),D.jsx(Pr,{initialValues:I,validationSchema:T,onSubmit:A,children:({values:z,handleChange:$,handleSubmit:q})=>D.jsxs(pr,{onSubmit:q,className:"flex items-center gap-4",children:[D.jsx("div",{style:{width:"30%"},className:"justify-center items-center mb-5",children:D.jsx(So,{label:"Subject",name:"selectedSubject",options:t.map(Z=>({id:Z.id,name:Z.name})),onChange:Z=>{$(name),a(Z),u(""),w(Z)}})}),D.jsx("div",{style:{width:"30%"},className:"justify-center items-center mb-5",children:D.jsx(So,{label:"Chapter",name:"chapterId",options:p.map(Z=>({id:Z.id,name:Z.name})),onChange:Z=>{$(name),u(Z)}})}),D.jsx("div",{style:{width:"50%"},className:"justify-center items-center mb-5",children:D.jsx(Ln,{label:"Sub Chapter Name",name:"subChapterName",type:"text",value:z.subChapterName,onChange:$})}),D.jsx("div",{className:"w-20 justify-center items-center",children:D.jsx(Ci,{label:"Submit"})})]})})]})},j9=()=>{const[t,e]=K.useState([]),{adminToken:n}=Us(),r=Di();K.useEffect(()=>{n||r("/")},[n,r]),K.useEffect(()=>{a()},[]);const a=async()=>{try{const u=(await Yt(Et(et,"subjects"))).docs.map(p=>({id:p.id,name:p.data().name}));e(u)}catch(l){console.error("Error fetching subjects:",l)}};return n?D.jsxs("div",{className:"container mx-auto p-4",children:[D.jsx(O9,{fetchSubjects:a}),D.jsx(M9,{subjects:t,fetchSubjects:a}),D.jsx(F9,{subjects:t,fetchSubjects:a})]}):D.jsx("div",{children:D.jsx("h2",{children:"You are not an admin"})})};var zP={exports:{}},V9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z9=V9,U9=z9;function UP(){}function BP(){}BP.resetWarningCache=UP;var B9=function(){function t(r,a,l,u,p,m){if(m!==U9){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BP,resetWarningCache:UP};return n.PropTypes=n,n};zP.exports=B9();var we=zP.exports,uy=function(){return uy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},uy.apply(this,arguments)},HP={onActivate:we.func,onAddUndo:we.func,onBeforeAddUndo:we.func,onBeforeExecCommand:we.func,onBeforeGetContent:we.func,onBeforeRenderUI:we.func,onBeforeSetContent:we.func,onBeforePaste:we.func,onBlur:we.func,onChange:we.func,onClearUndos:we.func,onClick:we.func,onContextMenu:we.func,onCommentChange:we.func,onCompositionEnd:we.func,onCompositionStart:we.func,onCompositionUpdate:we.func,onCopy:we.func,onCut:we.func,onDblclick:we.func,onDeactivate:we.func,onDirty:we.func,onDrag:we.func,onDragDrop:we.func,onDragEnd:we.func,onDragGesture:we.func,onDragOver:we.func,onDrop:we.func,onExecCommand:we.func,onFocus:we.func,onFocusIn:we.func,onFocusOut:we.func,onGetContent:we.func,onHide:we.func,onInit:we.func,onInput:we.func,onKeyDown:we.func,onKeyPress:we.func,onKeyUp:we.func,onLoadContent:we.func,onMouseDown:we.func,onMouseEnter:we.func,onMouseLeave:we.func,onMouseMove:we.func,onMouseOut:we.func,onMouseOver:we.func,onMouseUp:we.func,onNodeChange:we.func,onObjectResizeStart:we.func,onObjectResized:we.func,onObjectSelected:we.func,onPaste:we.func,onPostProcess:we.func,onPostRender:we.func,onPreProcess:we.func,onProgressState:we.func,onRedo:we.func,onRemove:we.func,onReset:we.func,onSaveContent:we.func,onSelectionChange:we.func,onSetAttrib:we.func,onSetContent:we.func,onShow:we.func,onSubmit:we.func,onUndo:we.func,onVisualAid:we.func,onSkinLoadError:we.func,onThemeLoadError:we.func,onModelLoadError:we.func,onPluginLoadError:we.func,onIconsLoadError:we.func,onLanguageLoadError:we.func,onScriptsLoad:we.func,onScriptsLoadError:we.func},H9=uy({apiKey:we.string,licenseKey:we.string,id:we.string,inline:we.bool,init:we.object,initialValue:we.string,onEditorChange:we.func,value:we.string,tagName:we.string,tabIndex:we.number,cloudChannel:we.string,plugins:we.oneOfType([we.string,we.array]),toolbar:we.oneOfType([we.string,we.array]),disabled:we.bool,textareaName:we.string,tinymceScriptSrc:we.oneOfType([we.string,we.arrayOf(we.string),we.arrayOf(we.shape({src:we.string,async:we.bool,defer:we.bool}))]),rollback:we.oneOfType([we.number,we.oneOf([!1])]),scriptLoading:we.shape({async:we.bool,defer:we.bool,delay:we.number})},HP),wm=function(t){return typeof t=="function"},y_=function(t){return t in HP},x_=function(t){return t.substr(2)},$9=function(t,e,n,r,a,l,u){var p=Object.keys(a).filter(y_),m=Object.keys(l).filter(y_),w=p.filter(function(T){return l[T]===void 0}),A=m.filter(function(T){return a[T]===void 0});w.forEach(function(T){var I=x_(T),z=u[I];n(I,z),delete u[I]}),A.forEach(function(T){var I=r(t,T),z=x_(T);u[z]=I,e(z,I)})},W9=function(t,e,n,r,a){return $9(a,t.on.bind(t),t.off.bind(t),function(l,u){return function(p){var m;return(m=l(u))===null||m===void 0?void 0:m(p,t)}},e,n,r)},b_=0,$P=function(t){var e=Date.now(),n=Math.floor(Math.random()*1e9);return b_++,t+"_"+n+b_+String(e)},w_=function(t){return t!==null&&(t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="input")},S_=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},X9=function(t,e){return S_(t).concat(S_(e))},Y9=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},G9=function(t){if(!("isConnected"in Node.prototype)){for(var e=t,n=t.parentNode;n!=null;)e=n,n=e.parentNode;return e===t.ownerDocument}return t.isConnected},__=function(t,e){t!==void 0&&(t.mode!=null&&typeof t.mode=="object"&&typeof t.mode.set=="function"?t.mode.set(e):t.setMode(e))},hy=function(){return hy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},hy.apply(this,arguments)},q9=function(t,e,n){var r,a,l=t.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.id=e.id,l.src=e.src,l.async=(r=e.async)!==null&&r!==void 0?r:!1,l.defer=(a=e.defer)!==null&&a!==void 0?a:!1;var u=function(){l.removeEventListener("load",u),l.removeEventListener("error",p),n(e.src)},p=function(m){l.removeEventListener("load",u),l.removeEventListener("error",p),n(e.src,m)};l.addEventListener("load",u),l.addEventListener("error",p),t.head&&t.head.appendChild(l)},K9=function(t){var e={},n=function(u,p){var m=e[u];m.done=!0,m.error=p;for(var w=0,A=m.handlers;w<A.length;w++){var T=A[w];T(u,p)}m.handlers=[]},r=function(u,p,m){var w=function(L){return m!==void 0?m(L):console.error(L)};if(u.length===0){w(new Error("At least one script must be provided"));return}for(var A=0,T=!1,I=function(L,J){T||(J?(T=!0,w(J)):++A===u.length&&p())},z=0,$=u;z<$.length;z++){var q=$[z],Z=e[q.src];if(Z)Z.done?I(q.src,Z.error):Z.handlers.push(I);else{var X=$P("tiny-");e[q.src]={id:X,src:q.src,done:!1,error:null,handlers:[I]},q9(t,hy({id:X},q),n)}}},a=function(){for(var u,p=0,m=Object.values(e);p<m.length;p++){var w=m[p],A=t.getElementById(w.id);A!=null&&A.tagName==="SCRIPT"&&((u=A.parentNode)===null||u===void 0||u.removeChild(A))}e={}},l=function(){return t};return{loadScripts:r,deleteScripts:a,getDocument:l}},Q9=function(){var t=[],e=function(a){var l=t.find(function(u){return u.getDocument()===a});return l===void 0&&(l=K9(a),t.push(l)),l},n=function(a,l,u,p,m){var w=function(){return e(a).loadScripts(l,p,m)};u>0?setTimeout(w,u):w()},r=function(){for(var a=t.pop();a!=null;a=t.pop())a.deleteScripts()};return{loadList:n,reinitialize:r}},Z9=Q9(),Sm=function(t){var e=t;return e&&e.tinymce?e.tinymce:null},J9=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Il=function(){return Il=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Il.apply(this,arguments)},eX=function(t){J9(e,t);function e(n){var r,a,l,u=t.call(this,n)||this;return u.rollbackTimer=void 0,u.valueCursor=void 0,u.rollbackChange=function(){var p=u.editor,m=u.props.value;p&&m&&m!==u.currentContent&&p.undoManager.ignore(function(){if(p.setContent(m),u.valueCursor&&(!u.inline||p.hasFocus()))try{p.selection.moveToBookmark(u.valueCursor)}catch{}}),u.rollbackTimer=void 0},u.handleBeforeInput=function(p){if(u.props.value!==void 0&&u.props.value===u.currentContent&&u.editor&&(!u.inline||u.editor.hasFocus()))try{u.valueCursor=u.editor.selection.getBookmark(3)}catch{}},u.handleBeforeInputSpecial=function(p){(p.key==="Enter"||p.key==="Backspace"||p.key==="Delete")&&u.handleBeforeInput(p)},u.handleEditorChange=function(p){var m=u.editor;if(m&&m.initialized){var w=m.getContent();u.props.value!==void 0&&u.props.value!==w&&u.props.rollback!==!1&&(u.rollbackTimer||(u.rollbackTimer=window.setTimeout(u.rollbackChange,typeof u.props.rollback=="number"?u.props.rollback:200))),w!==u.currentContent&&(u.currentContent=w,wm(u.props.onEditorChange)&&u.props.onEditorChange(w,m))}},u.handleEditorChangeSpecial=function(p){(p.key==="Backspace"||p.key==="Delete")&&u.handleEditorChange(p)},u.initialise=function(p){var m,w,A;p===void 0&&(p=0);var T=u.elementRef.current;if(T){if(!G9(T)){if(p===0)setTimeout(function(){return u.initialise(1)},1);else if(p<100)setTimeout(function(){return u.initialise(p+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var I=Sm(u.view);if(!I)throw new Error("tinymce should have been loaded into global scope");var z=Il(Il(Il(Il({},u.props.init),{selector:void 0,target:T,readonly:u.props.disabled,inline:u.inline,plugins:X9((m=u.props.init)===null||m===void 0?void 0:m.plugins,u.props.plugins),toolbar:(w=u.props.toolbar)!==null&&w!==void 0?w:(A=u.props.init)===null||A===void 0?void 0:A.toolbar}),u.props.licenseKey?{license_key:u.props.licenseKey}:{}),{setup:function($){u.editor=$,u.bindHandlers({}),u.inline&&!w_(T)&&$.once("PostRender",function(q){$.setContent(u.getInitialValue(),{no_events:!0})}),u.props.init&&wm(u.props.init.setup)&&u.props.init.setup($)},init_instance_callback:function($){var q,Z,X=u.getInitialValue();u.currentContent=(q=u.currentContent)!==null&&q!==void 0?q:$.getContent(),u.currentContent!==X&&(u.currentContent=X,$.setContent(X),$.undoManager.clear(),$.undoManager.add(),$.setDirty(!1));var L=(Z=u.props.disabled)!==null&&Z!==void 0?Z:!1;__(u.editor,L?"readonly":"design"),u.props.init&&wm(u.props.init.init_instance_callback)&&u.props.init.init_instance_callback($)}});u.inline||(T.style.visibility=""),w_(T)&&(T.value=u.getInitialValue()),I.init(z)}},u.id=u.props.id||$P("tiny-react"),u.elementRef=K.createRef(),u.inline=(l=(r=u.props.inline)!==null&&r!==void 0?r:(a=u.props.init)===null||a===void 0?void 0:a.inline)!==null&&l!==void 0?l:!1,u.boundHandlers={},u}return Object.defineProperty(e.prototype,"view",{get:function(){var n,r;return(r=(n=this.elementRef.current)===null||n===void 0?void 0:n.ownerDocument.defaultView)!==null&&r!==void 0?r:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(n){var r=this,a,l;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(n),this.editor.initialized)){if(this.currentContent=(a=this.currentContent)!==null&&a!==void 0?a:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==n.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var u=this.editor;u.undoManager.transact(function(){var m;if(!r.inline||u.hasFocus())try{m=u.selection.getBookmark(3)}catch{}var w=r.valueCursor;if(u.setContent(r.props.value),!r.inline||u.hasFocus())for(var A=0,T=[m,w];A<T.length;A++){var I=T[A];if(I)try{u.selection.moveToBookmark(I),r.valueCursor=I;break}catch{}}})}if(this.props.disabled!==n.disabled){var p=(l=this.props.disabled)!==null&&l!==void 0?l:!1;__(this.editor,p?"readonly":"design")}}},e.prototype.componentDidMount=function(){var n=this,r,a,l,u,p;if(Sm(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(a=(r=this.props).onScriptsLoadError)===null||a===void 0||a.call(r,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((l=this.elementRef.current)===null||l===void 0)&&l.ownerDocument){var m=function(){var A,T;(T=(A=n.props).onScriptsLoad)===null||T===void 0||T.call(A),n.initialise()},w=function(A){var T,I;(I=(T=n.props).onScriptsLoadError)===null||I===void 0||I.call(T,A)};Z9.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(p=(u=this.props.scriptLoading)===null||u===void 0?void 0:u.delay)!==null&&p!==void 0?p:0,m,w)}},e.prototype.componentWillUnmount=function(){var n=this,r=this.editor;r&&(r.off(this.changeEvents(),this.handleEditorChange),r.off(this.beforeInputEvent(),this.handleBeforeInput),r.off("keypress",this.handleEditorChangeSpecial),r.off("keydown",this.handleBeforeInputSpecial),r.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(a){r.off(a,n.boundHandlers[a])}),this.boundHandlers={},r.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.changeEvents=function(){var n,r,a,l=(a=(r=(n=Sm(this.view))===null||n===void 0?void 0:n.Env)===null||r===void 0?void 0:r.browser)===null||a===void 0?void 0:a.isIE();return l?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},e.prototype.beforeInputEvent=function(){return Y9()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var n=this.props.tagName,r=n===void 0?"div":n;return K.createElement(r,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return K.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var n,r,a=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.async,l=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:a,defer:l}]:this.props.tinymceScriptSrc.map(function(w){return typeof w=="string"?{src:w,async:a,defer:l}:w});var u=this.props.cloudChannel,p=this.props.apiKey?this.props.apiKey:"no-api-key",m="https://cdn.tiny.cloud/1/".concat(p,"/tinymce/").concat(u,"/tinymce.min.js");return[{src:m,async:a,defer:l}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(n){var r=this;if(this.editor!==void 0){W9(this.editor,n,this.props,this.boundHandlers,function(p){return r.props[p]});var a=function(p){return p.onEditorChange!==void 0||p.value!==void 0},l=a(n),u=a(this.props);!l&&u?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):l&&!u&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=H9,e.defaultProps={cloudChannel:"7"},e}(K.Component);const sg=({onEditorChange:t,value:e})=>{const n=(r,a,l)=>{if(l.filetype==="image"){const u=document.createElement("input");u.setAttribute("type","file"),u.setAttribute("accept","image/*"),u.onchange=function(){const p=this.files[0],m=new FileReader;m.onload=function(w){r(w.target.result,{alt:p.name})},m.readAsDataURL(p)},u.click()}};return D.jsx(eX,{apiKey:"4r2w2bwek61uwewr1xydega6sb69xyauk0iy7p629a0ex30i",value:e,onEditorChange:t,plugins:"advlist autolink lists link image charmap print preview anchor searchreplace visualblocks code fullscreen insertdatetime media table paste code help wordcount",init:{height:500,toolbar:"undo redo | formatselect | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlist outdent indent | removeformat | image",file_picker_types:"image",file_picker_callback:n}})},tX=()=>{const[t,e]=K.useState([]),[n,r]=K.useState([]),[a,l]=K.useState([]),[u,p]=K.useState(""),[m,w]=K.useState(""),[A,T]=K.useState(""),[I,z]=K.useState(""),{enqueueSnackbar:$}=yr();K.useEffect(()=>{q()},[]),K.useEffect(()=>{u&&Dh(u).then(oe=>{r(oe),w(""),T(""),l([])})},[u]),K.useEffect(()=>{m&&Up(m).then(oe=>{l(oe),T("")})},[m]);const q=async()=>{try{const oe=await d0();e(oe)}catch(oe){console.error("Error fetching subjects:",oe)}},Z=oe=>{p(oe)},X=oe=>{w(oe)},L=oe=>{z(oe)},J=async(oe,j)=>{const W={subjectId:u,chapterId:m,subChapterId:A,content:I,createdAt:new Date,title:oe.title,description:oe.description,keyword:oe.keyword};console.log(W);try{const Y=await Ba(Et(et,"contents"),W);j.resetForm(),z(""),$(`Document written with ID: ${Y.id}`,{variant:"success"}),W.title="",W.description="",W.keyword="",window.location.reload()}catch(Y){console.error("Error saving content:",Y),$("Error adding document:",{variant:"error"})}finally{j.setSubmitting(!1)}},re={subject:"",chapter:"",subChapterId:"",content:"",title:"",keyword:"",description:""},te=gr().shape({subject:qt().required("Subject is required"),chapter:qt().required("Chapter is required"),subChapterId:qt().required("Sub-chapter is required"),title:qt().required("Title is required").min(5,"Title must be at least 5 characters").max(50,"Title cannot exceed 50 characters")});return D.jsxs("div",{className:"container mx-auto p-4",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Contents"}),D.jsx(Pr,{initialValues:re,validationSchema:te,onSubmit:J,children:({values:oe,handleChange:j,handleSubmit:W})=>D.jsxs(pr,{className:"space-y-4",children:[D.jsxs("div",{className:"flex space-x-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block mb-1",children:"Select Subject:"}),D.jsx(So,{name:"subject",label:"Subject",options:t.map(Y=>({id:Y.id,name:Y.name})),onChange:Z}),D.jsx(zl,{name:"subject",component:"div",className:"text-red-500 text-xs mt-1"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block mb-1",children:"Select Chapter:"}),D.jsx(So,{name:"chapter",label:"Chapter",options:n.map(Y=>({id:Y.id,name:Y.name})),onChange:X}),D.jsx(zl,{name:"chapter",component:"div",className:"text-red-500 text-xs mt-1"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block mb-1",children:"Select Sub-Chapter:"}),D.jsx(So,{name:"subChapterId",label:"Sub Chapter",options:a.map(Y=>({id:Y.id,name:Y.name})),onChange:Y=>T(Y)}),D.jsx(zl,{name:"subChapterId",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block mb-1",children:"Content:"}),D.jsx(Ln,{label:"Title",name:"title",type:"text",required:!0}),D.jsx("br",{}),D.jsx(Ln,{label:"description",name:"description",type:"text",required:!0}),D.jsx("br",{}),D.jsx(Ln,{label:"keyword",name:"keyword",type:"text",required:!0}),D.jsx("br",{}),D.jsx(sg,{onEditorChange:L,value:I})]}),D.jsx("div",{className:"w-20 justify-center items-center",children:D.jsx(Ci,{label:"Submit"})})]})})]})},nX=()=>{const[t,e]=K.useState(""),n=a=>{e(a)},r=async()=>{console.log("Editor Content:",t);try{const a=await Ba(Et(et,"testData"),{content:t,timestamp:new Date});console.log("Document written with ID: ",a.id),e(""),window.location.reload()}catch(a){console.error("Error adding document: ",a)}};return D.jsxs("div",{children:[D.jsx(sg,{onEditorChange:n})," ",D.jsx("button",{onClick:r,children:"Submit"}),D.jsxs("div",{children:[D.jsx("h2",{children:"Editor Content:"}),D.jsx("div",{dangerouslySetInnerHTML:{__html:t}})]})]})},rX=()=>{const[t,e]=K.useState([]),[n,r]=K.useState(null),[a,l]=K.useState(""),{enqueueSnackbar:u}=yr(),{adminToken:p}=Us(),m=Di();K.useEffect(()=>{p||m("/")},[p,m]),K.useEffect(()=>{(async()=>{try{const q=(await Yt(Et(et,"testData"))).docs.map(Z=>({id:Z.id,content:Z.data().content}));e(q)}catch($){console.error("Error fetching documents: ",$),u($.message,{variant:"error"})}})()},[]);const w=async z=>{try{await bo(wn(et,"testData",z)),e($=>$.filter(q=>q.id!==z)),u("Deleted successfully!",{variant:"success"})}catch($){console.error("Error deleting document: ",$),u($.message,{variant:"error"})}},A=z=>{r(z),l(z.content)},T=z=>{l(z)},I=async()=>{if(n)try{await Nh(wn(et,"testData",n.id),{content:a}),e(z=>z.map($=>$.id===n.id?{...$,content:a}:$)),u("Document updated successfully!",{variant:"success"}),r(null),l("")}catch(z){console.error("Error updating document: ",z),u(z.message,{variant:"error"})}};return D.jsxs("div",{className:"p-4",children:[D.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Preview Test Data"}),t.length===0?D.jsx("p",{children:"No documents found."}):D.jsx("div",{children:t.map(z=>D.jsxs("div",{className:"flex items-center mb-4",children:[D.jsxs("div",{className:"flex-1",children:[D.jsxs("h2",{className:"text-lg font-semibold mb-2",children:["Document ID: ",z.id]}),D.jsx("div",{dangerouslySetInnerHTML:{__html:z.content}})]}),D.jsxs("div",{className:"ml-4 space-y-2",children:[D.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded",onClick:()=>w(z.id),children:"Delete"}),D.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded ml-2",onClick:()=>A(z),children:"Edit"})]})]},z.id))}),n&&D.jsxs("div",{className:"mt-4",children:[D.jsxs("h2",{className:"text-xl font-bold mb-2",children:["Edit Document ID: ",n.id]}),D.jsx(sg,{value:a,onEditorChange:T}),D.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white py-1 px-3 rounded mt-2",onClick:I,children:"Save"})]})]})},iX=()=>{const[t,e]=K.useState([]),[n,r]=K.useState([]),[a,l]=K.useState(""),[u,p]=K.useState(null),[m,w]=K.useState(null),[A,T]=K.useState([]),[I,z]=K.useState([]),[$,q]=K.useState(null),[Z,X]=K.useState(""),[L,J]=K.useState(null),{enqueueSnackbar:re}=yr(),[te,oe]=K.useState(null),[j,W]=K.useState([]),[Y,ee]=K.useState(null),[ie,le]=K.useState("");K.useEffect(()=>{ne()},[]),K.useEffect(()=>{a?Dh(a).then(_e=>{r(_e),T([]),z([])}):(r([]),T([]),z([]))},[a]),K.useEffect(()=>{u?Up(u).then(_e=>{T(_e),z([])}):(T([]),z([]))},[u]),K.useEffect(()=>{m?PI(m).then(_e=>{z(_e)}):z([])},[m]);const ne=async()=>{try{const _e=await d0();e(_e)}catch(_e){console.error("Error fetching subjects:",_e)}},rt=_e=>{l(_e),p(null),w(null),q(null)},gt=_e=>{u===_e?p(null):(p(_e),w(null),oe(null))},An=_e=>{m===_e?w(null):(w(_e),oe(null))},Kt=async _e=>{try{await QB(_e),r(Pe=>Pe.filter(Ne=>Ne.id!==_e)),re("Chapter deleted successfully",{variant:"success"})}catch(Pe){console.error("Error deleting chapter:",Pe),re("Error deleting chapter",{variant:"error"})}},Se=async(_e,Pe)=>{try{await i3(_e,Pe),T(Ne=>Ne.filter(lt=>lt.id!==_e)),re("Sub-Chapter deleted successfully",{variant:"success"})}catch(Ne){console.error("Error deleting sub-chapter:",Ne),re("Error deleting sub-chapter",{variant:"error"})}},Ue=async _e=>{try{console.log(_e),await r3(_e),z(Pe=>Pe.filter(Ne=>Ne.id!==_e)),re("Content deleted successfully",{variant:"success"})}catch(Pe){console.error("Error deleting content:",Pe),re("Error deleting content",{variant:"error"})}},Ae=async(_e,Pe,Ne)=>{if(q(_e),X(Pe),J(Ne),console.log(Ne,"type"),L==="content"){console.log("hit"),console.log($,"editingId");const lt=wn(et,"contents",$),kt=await xo(lt);if(console.log(kt,"contentDocSnapshot"),kt.exists()){const jt={id:kt.id,content:kt.data().content};console.log(jt),W(jt),ee(jt),le(jt.content)}}},Xe=_e=>{le(_e)},$e=async _e=>{var Pe;if(!(!$||!L))try{if(L==="chapter")await ZB($,{name:_e.name}),r(Ne=>Ne.map(lt=>lt.id===$?{...lt,name:_e.name}:lt));else if(L==="subChapter"){const Ne=(Pe=n.find(lt=>lt.id===u))==null?void 0:Pe.id;console.log(Ne,"chapterId"),await s3($,Ne,{name:_e.name}),T(lt=>lt.map(kt=>kt.id===$?{...kt,name:_e.name}:kt))}q(null),X(""),J(null),re(`${L} updated successfully`,{variant:"success"})}catch(Ne){console.error(`Error updating ${L}:`,Ne),re(`Error updating ${L}`,{variant:"error"})}},Oe=async()=>{if(Y)try{await Nh(wn(et,"contents",Y.id),{content:ie}),W({...Y,content:ie}),re("Document updated successfully!",{variant:"success"}),ee(null),le("")}catch(_e){console.error("Error updating document: ",_e),re(_e.message,{variant:"error"})}},ht=_e=>{te&&te.id===_e.id?oe(null):oe(_e)};return D.jsxs("div",{className:"container mx-auto p-4",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Show Contents"}),D.jsx(Pr,{initialValues:{subject:""},validationSchema:gr({subject:qt().required("Subject is required")}),onSubmit:_e=>{rt(_e.subject)},children:({handleSubmit:_e})=>D.jsxs(pr,{onSubmit:_e,className:"mb-4",children:[D.jsx(So,{name:"subject",label:"Subject",options:t.map(Pe=>({id:Pe.id,name:Pe.name})),onChange:Pe=>rt(Pe)}),D.jsx(Ci,{label:"Load Chapters"})]})}),a&&D.jsxs("div",{children:[D.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Related Chapters:"}),D.jsx("div",{className:"space-y-4",children:n.map(_e=>D.jsxs("div",{className:"border p-4 flex flex-col",children:[D.jsxs("div",{className:"flex justify-between items-center mb-2",children:[$===_e.id&&L==="chapter"?D.jsx(Pr,{initialValues:{name:Z},validationSchema:gr({name:qt().required("Chapter name is required")}),onSubmit:$e,children:({handleSubmit:Pe,values:Ne,handleChange:lt})=>D.jsxs(pr,{onSubmit:Pe,className:"flex w-full",children:[D.jsx(Ln,{label:"sub-chapter name",name:"name",value:Ne.name,onChange:lt,className:"flex-grow"}),D.jsx("div",{className:"flex items-center mt-7 ml-2",children:D.jsx(Ci,{label:"Save"})})]})}):D.jsx("span",{className:"font-bold text-lg cursor-pointer",onClick:()=>gt(_e.id),children:_e.name}),D.jsxs("div",{className:"space-x-2",children:[D.jsx("button",{onClick:()=>Ae(_e.id,_e.name,"chapter"),className:"text-blue-500",children:"Edit"}),D.jsx("button",{onClick:()=>Kt(_e.id),className:"text-red-500",children:"Delete"})]})]}),u===_e.id&&D.jsx("div",{className:"ml-4",children:D.jsx("div",{className:"space-y-2",children:A.map(Pe=>D.jsxs("div",{className:"border p-2 flex flex-col",children:[D.jsxs("div",{className:"flex justify-between items-center mb-2",children:[$===Pe.id&&L==="subChapter"?D.jsx(Pr,{initialValues:{name:Z},validationSchema:gr({name:qt().required("Sub-Chapter name is required")}),onSubmit:$e,children:({handleSubmit:Ne,values:lt,handleChange:kt})=>D.jsxs(pr,{onSubmit:Ne,className:"flex w-full",children:[D.jsx(Ln,{label:"sub-chapter name",name:"name",value:lt.name,onChange:kt,className:"flex-grow"}),D.jsx("div",{className:"flex items-center mt-7 ml-2",children:D.jsx(Ci,{label:"Save"})})]})}):D.jsx("span",{className:"font-bold text-md cursor-pointer",onClick:()=>An(Pe.id),children:Pe.name}),D.jsxs("div",{className:"space-x-2",children:[D.jsx("button",{onClick:()=>Ae(Pe.id,Pe.name,"subChapter"),className:"text-blue-500",children:"Edit"}),D.jsx("button",{onClick:()=>Se(Pe.id,_e.id),className:"text-red-500",children:"Delete"})]})]}),m===Pe.id&&D.jsx("div",{className:"ml-4",children:D.jsx("div",{className:"space-y-2",children:I.map(Ne=>D.jsxs("div",{className:"border p-2 flex justify-between items-center",children:[D.jsx("span",{className:"font-medium text-sm",children:Ne.title??""}),D.jsxs("div",{className:"space-x-2",children:[D.jsx("button",{onClick:()=>ht(Ne),className:"text-green-500",children:te&&te.id===Ne.id?"Unview":"View"}),D.jsx("button",{onClick:()=>Ae(Ne.id,Ne.title,"content"),className:"text-blue-500",children:"Edit"}),D.jsx("button",{onClick:()=>Ue(Ne.id),className:"text-red-500",children:"Delete"})]})]},Ne.id))})})]},Pe.id))})})]},_e.id))})]}),te&&D.jsxs("div",{className:"ml-4",children:[D.jsx("h5",{className:"text-md font-semibold mb-2",children:"Selected Content:"}),D.jsxs("div",{children:[D.jsx("h2",{children:te.title}),D.jsx("div",{dangerouslySetInnerHTML:{__html:te.content}})]})]}),Y&&D.jsxs("div",{className:"mt-4",children:[D.jsxs("h2",{className:"text-xl font-bold mb-2",children:["Edit Document ID: ",Y.id]}),D.jsx(sg,{value:ie,onEditorChange:Xe}),D.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white py-1 px-3 rounded mt-2",onClick:Oe,children:"Save"}),D.jsx("button",{className:"bg-red-500 hover:bg-green-600 text-white py-1 px-3 rounded mt-2",onClick:()=>ee(""),children:"close"})]})]})},WP=K.createContext(void 0),sX=()=>{const t=K.useContext(WP);if(!t)throw new Error("useChapterContext must be used within a ChapterProvider");return t},aX=({children:t})=>{const[e,n]=K.useState([]),r=async a=>{const l=await Dh(a);n(l)};return K.useEffect(()=>{r("your_subject_id")},[]),D.jsx(WP.Provider,{value:{chapters:e,fetchChapters:r},children:t})},oX=({isOpen:t,subjectId:e,setSelectedContentIndex:n,selectedContentIndex:r})=>{const a=K.useRef([]),{subjects:l}=NI(),{chapters:u,fetchChapters:p}=sX(),{fetchContents:m}=Fh(),[w,A]=K.useState({id:"",name:""}),[T,I]=K.useState([]),[z,$]=K.useState([]),[q,Z]=K.useState([]),[X,L]=K.useState([]),[J,re]=K.useState("top--10");K.useEffect(()=>{(async()=>{try{const Y=await GB();$(Y)}catch(Y){console.error("Error fetching all sub-chapters:",Y)}})()},[e]),K.useEffect(()=>{e&&p(e)},[e]),K.useEffect(()=>{const W=l.find(Y=>Y.id===e);A(W?{id:W.id,name:W.name}:{id:"",name:""})},[l,e]),K.useEffect(()=>{if(u.length>0){const W=u.map(({id:Y,name:ee,subjectId:ie})=>({id:Y,name:ee,subId:ie}));I(W),L(new Array(W.length).fill(!1))}},[u,l,e]),K.useEffect(()=>{const W=Y=>{a.current.forEach((ee,ie)=>{ee&&!ee.contains(Y.target)&&L(le=>le.map((ne,rt)=>rt===ie?!1:ne))})};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]);const te=W=>{L(Y=>Y.map((ee,ie)=>ie===W?!ee:ee))},oe=W=>{console.log(" chaper id on handle subchapter click:",W);const Y=z.filter(ee=>ee.chapterId===W);Z(Y),r&&n&&n(null)},j=async W=>{console.log("SUb chaper id on handle subchapter click:",W),await m(W)};return K.useEffect(()=>{const W=()=>{window.scrollY>10?re("top-0"):re("top--10")};return window.addEventListener("scroll",W),()=>{window.removeEventListener("scroll",W)}},[]),D.jsx("div",{className:`fixed ${J} left-0 h-screen w-64 bg-gray-800 text-white z-50 transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:D.jsxs("div",{className:"flex flex-col items-center p-4",children:[D.jsx("h1",{className:"text-2xl font-bold mb-4",children:w==null?void 0:w.name}),D.jsx("ul",{className:"flex flex-col w-full",children:T.map((W,Y)=>D.jsxs("li",{className:"flex flex-col",ref:ee=>a.current[Y]=ee,children:[D.jsxs("div",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>te(Y),children:[D.jsx(mk,{className:"mr-2"}),D.jsx("div",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>oe(W.id),children:W.name}),D.jsx(vk,{className:`ml-auto transition-transform ${X[Y]?"rotate-180":""}`})]}),X[Y]&&D.jsx("ul",{className:"ml-8 mt-2 space-y-2",children:q.map(ee=>D.jsxs("li",{className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>j(ee.id),children:[D.jsx(Qa,{className:"mr-2"}),ee.name]},ee.id))})]},W.id))})]})})},XP=K.createContext(void 0),lX=()=>{const t=K.useContext(XP);if(!t)throw new Error("useSubChapterContext must be used within a SubChapterProvider");return t},cX=({children:t})=>{const[e,n]=K.useState([]),r=async l=>{const u=await Up(l);n(u)},a=l=>{n(l)};return D.jsx(XP.Provider,{value:{subChapters:e,fetchSubChapters:r,setSubChaptersData:a},children:t})},uX=()=>{var z,$,q;const{subjectId:t}=uk(),{contents:e,setIsSelected:n}=Fh();console.log("COntent in subject Detail",e);const{setSubChaptersData:r}=lX();K.useEffect(()=>{t&&a!==null&&(O0(e[a].id,"view_subject",t),Lh(zp,"view_subject",{content_type:"subject",content_id:t}),D0("view_subject",{content_type:"subject",content_id:t}))},[t]);const[a,l]=K.useState(null),u=Z=>{l(Z===a?null:Z),r(""),n(!0)},p=()=>{a!==null&&a<e.length-1&&l(a+1)},m=()=>{a!==null&&a>0&&l(a-1)},w=e.length>0&&t?`Home ${(z=e[a])==null?void 0:z.title}`:"Home",A=e.length>0&&t?`${($=e[a])==null?void 0:$.description}`:"description",T=e.length>0&&t?`${(q=e[a])==null?void 0:q.keyword}`:"keyword",I=`https://study.sahajshakya.com.np/subjects/${t}`;return D.jsxs(D.Fragment,{children:[D.jsxs(VP,{children:[D.jsx("title",{children:w}),D.jsx("meta",{name:"description",content:A}),D.jsx("meta",{name:"keywords",content:T}),D.jsx("meta",{property:"og:title",content:w}),D.jsx("meta",{property:"og:description",content:A}),D.jsx("meta",{property:"og:url",content:I})]}),D.jsxs("div",{className:"flex",children:[D.jsx(oX,{isOpen:!0,subjectId:t,setSelectedContentIndex:l,selectedContentIndex:a}),D.jsxs("div",{className:"flex-1 ml-64 p-4",children:[" ",D.jsxs("div",{className:"overflow-x-auto",children:[D.jsxs("table",{className:"min-w-full",children:[D.jsx("thead",{}),D.jsxs("tbody",{children:[D.jsx("tr",{children:e.map((Z,X)=>D.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer ${a===X?"bg-gray-100":""}`,onClick:()=>u(X),children:Z.title!==""?Z.title:"No Title"},Z.id))}),a!==null&&D.jsx("tr",{children:D.jsx("td",{colSpan:e.length,children:D.jsxs("div",{className:"mt-4 p-4 bg-gray-100",children:[D.jsx("h2",{className:"text-xl font-bold",children:e[a].title}),D.jsx("div",{dangerouslySetInnerHTML:{__html:e[a].content}})]})})})]})]}),D.jsxs("div",{className:"flex justify-between mt-4",children:[a!==null&&a>0&&D.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded",onClick:m,children:"Prev"}),a!==null&&a<e.length-1&&D.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded",onClick:p,children:"Next"})]})]})]})]})]})},hX=()=>{const{contentId:t}=uk(),[e,n]=K.useState(null);return K.useEffect(()=>{(async()=>{try{const a=await n3(t||"");a?(n(a),O0(a.id,"view_content"),Lh(zp,"view_content",{content_type:"post",content_id:a.id}),D0("view_content",{content_type:"post",content_id:a.id})):console.log("Content not found!")}catch(a){console.error("Error fetching content:",a)}})()},[t]),D.jsx("div",{className:"content-details ml-10 mr-10",children:e&&D.jsxs(D.Fragment,{children:[D.jsx("h2",{children:e.title}),D.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}})]})})},dX=()=>{const t="ca-pub-5150362066306824",e="7459855174";return D.jsxs("div",{className:"w-full min-h-screen flex flex-col",children:[D.jsx("header",{}),D.jsxs("main",{className:"flex-grow",children:[D.jsx(fx,{})," ",D.jsx("h1",{children:"Porfolio Page Loading"}),D.jsxs("p",{children:["Click here to go  ",D.jsx(ir,{to:"/study",children:"Study Material"})]})]}),D.jsx("footer",{className:"bg-gray-200 flex",children:D.jsxs("div",{className:"flex justify-center w-full py-5",children:[D.jsx(IP,{adClient:t,adSlot:e}),D.jsxs("div",{children:[D.jsx(PP,{}),D.jsx(RP,{adClient:"ca-pub-5150362066306824",adSlot:"7459855174",adFormat:"auto"}),D.jsx("ins",{className:"adsbygoogle",style:{display:"block",width:"300px",height:"250px"},"data-ad-client":t,"data-ad-slot":e,"data-ad-format":"auto"})]})]})})]})},fX=JL([{path:"/",element:D.jsx(v_,{children:D.jsx(dX,{})}),children:[]},{path:"/study",element:D.jsx(XW,{}),children:[{path:"/study",element:D.jsx(A9,{})},{path:"/study/login",element:D.jsx(YW,{})},{path:"/study/register",element:D.jsx(qW,{})},{path:"/study/changepassword",element:D.jsx(N9,{})},{path:"/study/forgotpassword",element:D.jsx(D9,{})},{path:"/study/changedetails",element:D.jsx(L9,{})},{path:"/study/subjects/:subjectId",element:D.jsx(uX,{})},{path:"/study/contents/:contentId",element:D.jsx(hX,{})}]},{path:"/admin",element:D.jsx(C9,{}),children:[{path:"/admin/dashboard",element:D.jsx(P9,{})},{path:"/admin/createcontent",element:D.jsx(tX,{})},{path:"/admin/creatematerial",element:D.jsx(j9,{})},{path:"/admin/showcontent",element:D.jsx(iX,{})},{path:"/admin/test",element:D.jsx(nX,{})},{path:"/admin/previewtest",element:D.jsx(rX,{})}]},{path:"*",element:D.jsx(v_,{children:D.jsx(R9,{})})}]);var ag=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},og=typeof window>"u"||"Deno"in globalThis;function yi(){}function pX(t,e){return typeof t=="function"?t(e):t}function gX(t){return typeof t=="number"&&t>=0&&t!==1/0}function mX(t,e){return Math.max(t+(e||0)-Date.now(),0)}function E_(t,e){return typeof t=="function"?t(e):t}function A_(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:l,queryKey:u,stale:p}=t;if(u){if(r){if(e.queryHash!==M0(u,e.options))return!1}else if(!lh(e.queryKey,u))return!1}if(n!=="all"){const m=e.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof p=="boolean"&&e.isStale()!==p||a&&a!==e.state.fetchStatus||l&&!l(e))}function k_(t,e){const{exact:n,status:r,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(oh(e.options.mutationKey)!==oh(l))return!1}else if(!lh(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function M0(t,e){return((e==null?void 0:e.queryKeyHashFn)||oh)(t)}function oh(t){return JSON.stringify(t,(e,n)=>dy(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function lh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!lh(t[n],e[n])):!1}function YP(t,e){if(t===e)return t;const n=C_(t)&&C_(e);if(n||dy(t)&&dy(e)){const r=n?t:Object.keys(t),a=r.length,l=n?e:Object.keys(e),u=l.length,p=n?[]:{};let m=0;for(let w=0;w<u;w++){const A=n?w:l[w];(!n&&r.includes(A)||n)&&t[A]===void 0&&e[A]===void 0?(p[A]=void 0,m++):(p[A]=YP(t[A],e[A]),p[A]===t[A]&&t[A]!==void 0&&m++)}return a===u&&m===a?t:p}return e}function C_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dy(t){if(!T_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!T_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function T_(t){return Object.prototype.toString.call(t)==="[object Object]"}function vX(t){return new Promise(e=>{setTimeout(e,t)})}function yX(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?YP(t,e):e}function xX(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bX(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var GP=Symbol(),qP=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===GP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,uo,la,$l,P_,wX=(P_=class extends ag{constructor(){super();Rt(this,uo,void 0);Rt(this,la,void 0);Rt(this,$l,void 0);pt(this,$l,e=>{if(!og&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){be(this,la)||this.setEventListener(be(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,la))==null||e.call(this),pt(this,la,void 0))}setEventListener(e){var n;pt(this,$l,e),(n=be(this,la))==null||n.call(this),pt(this,la,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){be(this,uo)!==e&&(pt(this,uo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof be(this,uo)=="boolean"?be(this,uo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},uo=new WeakMap,la=new WeakMap,$l=new WeakMap,P_),KP=new wX,Wl,ca,Xl,R_,SX=(R_=class extends ag{constructor(){super();Rt(this,Wl,!0);Rt(this,ca,void 0);Rt(this,Xl,void 0);pt(this,Xl,e=>{if(!og&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){be(this,ca)||this.setEventListener(be(this,Xl))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,ca))==null||e.call(this),pt(this,ca,void 0))}setEventListener(e){var n;pt(this,Xl,e),(n=be(this,ca))==null||n.call(this),pt(this,ca,e(this.setOnline.bind(this)))}setOnline(e){be(this,Wl)!==e&&(pt(this,Wl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return be(this,Wl)}},Wl=new WeakMap,ca=new WeakMap,Xl=new WeakMap,R_),Xf=new SX;function _X(t){return Math.min(1e3*2**t,3e4)}function QP(t){return(t??"online")==="online"?Xf.isOnline():!0}var ZP=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _m(t){return t instanceof ZP}function JP(t){let e=!1,n=0,r=!1,a,l,u;const p=new Promise((X,L)=>{l=X,u=L}),m=X=>{var L;r||($(new ZP(X)),(L=t.abort)==null||L.call(t))},w=()=>{e=!0},A=()=>{e=!1},T=()=>KP.isFocused()&&(t.networkMode==="always"||Xf.isOnline())&&t.canRun(),I=()=>QP(t.networkMode)&&t.canRun(),z=X=>{var L;r||(r=!0,(L=t.onSuccess)==null||L.call(t,X),a==null||a(),l(X))},$=X=>{var L;r||(r=!0,(L=t.onError)==null||L.call(t,X),a==null||a(),u(X))},q=()=>new Promise(X=>{var L;a=J=>{(r||T())&&X(J)},(L=t.onPause)==null||L.call(t)}).then(()=>{var X;a=void 0,r||(X=t.onContinue)==null||X.call(t)}),Z=()=>{if(r)return;let X;const L=n===0?t.initialPromise:void 0;try{X=L??t.fn()}catch(J){X=Promise.reject(J)}Promise.resolve(X).then(z).catch(J=>{var W;if(r)return;const re=t.retry??(og?0:3),te=t.retryDelay??_X,oe=typeof te=="function"?te(n,J):te,j=re===!0||typeof re=="number"&&n<re||typeof re=="function"&&re(n,J);if(e||!j){$(J);return}n++,(W=t.onFail)==null||W.call(t,n,J),vX(oe).then(()=>T()?void 0:q()).then(()=>{e?$(J):Z()})})};return{promise:p,cancel:m,continue:()=>(a==null||a(),p),cancelRetry:w,continueRetry:A,canStart:I,start:()=>(I()?Z():q().then(Z),p)}}function EX(){let t=[],e=0,n=I=>{I()},r=I=>{I()},a=I=>setTimeout(I,0);const l=I=>{a=I},u=I=>{let z;e++;try{z=I()}finally{e--,e||w()}return z},p=I=>{e?t.push(I):a(()=>{n(I)})},m=I=>(...z)=>{p(()=>{I(...z)})},w=()=>{const I=t;t=[],I.length&&a(()=>{r(()=>{I.forEach(z=>{n(z)})})})};return{batch:u,batchCalls:m,schedule:p,setNotifyFunction:I=>{n=I},setBatchNotifyFunction:I=>{r=I},setScheduler:l}}var hr=EX(),ho,N_,eR=(N_=class{constructor(){Rt(this,ho,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gX(this.gcTime)&&pt(this,ho,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(og?1/0:5*60*1e3))}clearGcTimeout(){be(this,ho)&&(clearTimeout(be(this,ho)),pt(this,ho,void 0))}},ho=new WeakMap,N_),Yl,Gl,ei,er,ch,fo,xi,vs,L_,AX=(L_=class extends eR{constructor(e){super();Rt(this,xi);Rt(this,Yl,void 0);Rt(this,Gl,void 0);Rt(this,ei,void 0);Rt(this,er,void 0);Rt(this,ch,void 0);Rt(this,fo,void 0);pt(this,fo,!1),pt(this,ch,e.defaultOptions),this.setOptions(e.options),this.observers=[],pt(this,ei,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pt(this,Yl,e.state||CX(this.options)),this.state=be(this,Yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=be(this,er))==null?void 0:e.promise}setOptions(e){this.options={...be(this,ch),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,ei).remove(this)}setData(e,n){const r=yX(this.state.data,e,this.options);return Kn(this,xi,vs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Kn(this,xi,vs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,a;const n=(r=be(this,er))==null?void 0:r.promise;return(a=be(this,er))==null||a.cancel(e),n?n.then(yi).catch(yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,Yl))}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!mX(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,er))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,er))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),be(this,ei).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(be(this,er)&&(be(this,fo)?be(this,er).cancel({revert:!0}):be(this,er).cancelRetry()),this.scheduleGc()),be(this,ei).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kn(this,xi,vs).call(this,{type:"invalidate"})}fetch(e,n){var m,w,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(be(this,er))return be(this,er).continueRetry(),be(this,er).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(I=>I.options.queryFn);T&&this.setOptions(T.options)}const r=new AbortController,a=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(pt(this,fo,!0),r.signal)})},l=()=>{const T=qP(this.options,n),I={queryKey:this.queryKey,meta:this.meta};return a(I),pt(this,fo,!1),this.options.persister?this.options.persister(T,I,this):T(I)},u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};a(u),(m=this.options.behavior)==null||m.onFetch(u,this),pt(this,Gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=u.fetchOptions)==null?void 0:w.meta))&&Kn(this,xi,vs).call(this,{type:"fetch",meta:(A=u.fetchOptions)==null?void 0:A.meta});const p=T=>{var I,z,$,q;_m(T)&&T.silent||Kn(this,xi,vs).call(this,{type:"error",error:T}),_m(T)||((z=(I=be(this,ei).config).onError)==null||z.call(I,T,this),(q=($=be(this,ei).config).onSettled)==null||q.call($,this.state.data,T,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return pt(this,er,JP({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:T=>{var I,z,$,q;if(T===void 0){p(new Error(`${this.queryHash} data is undefined`));return}this.setData(T),(z=(I=be(this,ei).config).onSuccess)==null||z.call(I,T,this),(q=($=be(this,ei).config).onSettled)==null||q.call($,T,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(T,I)=>{Kn(this,xi,vs).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{Kn(this,xi,vs).call(this,{type:"pause"})},onContinue:()=>{Kn(this,xi,vs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),be(this,er).start()}},Yl=new WeakMap,Gl=new WeakMap,ei=new WeakMap,er=new WeakMap,ch=new WeakMap,fo=new WeakMap,xi=new WeakSet,vs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kX(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return _m(a)&&a.revert&&be(this,Gl)?{...be(this,Gl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),hr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),be(this,ei).notify({query:this,type:"updated",action:e})})},L_);function kX(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function CX(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bi,D_,TX=(D_=class extends ag{constructor(e={}){super();Rt(this,Bi,void 0);this.config=e,pt(this,Bi,new Map)}build(e,n,r){const a=n.queryKey,l=n.queryHash??M0(a,n);let u=this.get(l);return u||(u=new AX({cache:this,queryKey:a,queryHash:l,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){be(this,Bi).has(e.queryHash)||(be(this,Bi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=be(this,Bi).get(e.queryHash);n&&(e.destroy(),n===e&&be(this,Bi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return be(this,Bi).get(e)}getAll(){return[...be(this,Bi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>A_(e,r)):n}notify(e){hr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){hr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bi=new WeakMap,D_),Hi,cr,po,$i,Zs,O_,IX=(O_=class extends eR{constructor(e){super();Rt(this,$i);Rt(this,Hi,void 0);Rt(this,cr,void 0);Rt(this,po,void 0);this.mutationId=e.mutationId,pt(this,cr,e.mutationCache),pt(this,Hi,[]),this.state=e.state||PX(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){be(this,Hi).includes(e)||(be(this,Hi).push(e),this.clearGcTimeout(),be(this,cr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pt(this,Hi,be(this,Hi).filter(n=>n!==e)),this.scheduleGc(),be(this,cr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){be(this,Hi).length||(this.state.status==="pending"?this.scheduleGc():be(this,cr).remove(this))}continue(){var e;return((e=be(this,po))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,u,p,m,w,A,T,I,z,$,q,Z,X,L,J,re,te,oe,j;pt(this,po,JP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(W,Y)=>{Kn(this,$i,Zs).call(this,{type:"failed",failureCount:W,error:Y})},onPause:()=>{Kn(this,$i,Zs).call(this,{type:"pause"})},onContinue:()=>{Kn(this,$i,Zs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,cr).canRun(this)}));const n=this.state.status==="pending",r=!be(this,po).canStart();try{if(!n){Kn(this,$i,Zs).call(this,{type:"pending",variables:e,isPaused:r}),await((l=(a=be(this,cr).config).onMutate)==null?void 0:l.call(a,e,this));const Y=await((p=(u=this.options).onMutate)==null?void 0:p.call(u,e));Y!==this.state.context&&Kn(this,$i,Zs).call(this,{type:"pending",context:Y,variables:e,isPaused:r})}const W=await be(this,po).start();return await((w=(m=be(this,cr).config).onSuccess)==null?void 0:w.call(m,W,e,this.state.context,this)),await((T=(A=this.options).onSuccess)==null?void 0:T.call(A,W,e,this.state.context)),await((z=(I=be(this,cr).config).onSettled)==null?void 0:z.call(I,W,null,this.state.variables,this.state.context,this)),await((q=($=this.options).onSettled)==null?void 0:q.call($,W,null,e,this.state.context)),Kn(this,$i,Zs).call(this,{type:"success",data:W}),W}catch(W){try{throw await((X=(Z=be(this,cr).config).onError)==null?void 0:X.call(Z,W,e,this.state.context,this)),await((J=(L=this.options).onError)==null?void 0:J.call(L,W,e,this.state.context)),await((te=(re=be(this,cr).config).onSettled)==null?void 0:te.call(re,void 0,W,this.state.variables,this.state.context,this)),await((j=(oe=this.options).onSettled)==null?void 0:j.call(oe,void 0,W,e,this.state.context)),W}finally{Kn(this,$i,Zs).call(this,{type:"error",error:W})}}finally{be(this,cr).runNext(this)}}},Hi=new WeakMap,cr=new WeakMap,po=new WeakMap,$i=new WeakSet,Zs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),hr.batch(()=>{be(this,Hi).forEach(r=>{r.onMutationUpdate(e)}),be(this,cr).notify({mutation:this,type:"updated",action:e})})},O_);function PX(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or,uh,M_,RX=(M_=class extends ag{constructor(e={}){super();Rt(this,Or,void 0);Rt(this,uh,void 0);this.config=e,pt(this,Or,new Map),pt(this,uh,Date.now())}build(e,n,r){const a=new IX({mutationCache:this,mutationId:++$h(this,uh)._,options:e.defaultMutationOptions(n),state:r});return this.add(a),a}add(e){const n=_d(e),r=be(this,Or).get(n)??[];r.push(e),be(this,Or).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=_d(e);if(be(this,Or).has(n)){const a=(r=be(this,Or).get(n))==null?void 0:r.filter(l=>l!==e);a&&(a.length===0?be(this,Or).delete(n):be(this,Or).set(n,a))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=be(this,Or).get(_d(e)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=be(this,Or).get(_d(e)))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){hr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...be(this,Or).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>k_(n,r))}findAll(e={}){return this.getAll().filter(n=>k_(e,n))}notify(e){hr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return hr.batch(()=>Promise.all(e.map(n=>n.continue().catch(yi))))}},Or=new WeakMap,uh=new WeakMap,M_);function _d(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function NX(t){return{onFetch:(e,n)=>{const r=async()=>{var $,q,Z,X,L;const a=e.options,l=(Z=(q=($=e.fetchOptions)==null?void 0:$.meta)==null?void 0:q.fetchMore)==null?void 0:Z.direction,u=((X=e.state.data)==null?void 0:X.pages)||[],p=((L=e.state.data)==null?void 0:L.pageParams)||[],m={pages:[],pageParams:[]};let w=!1;const A=J=>{Object.defineProperty(J,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},T=qP(e.options,e.fetchOptions),I=async(J,re,te)=>{if(w)return Promise.reject();if(re==null&&J.pages.length)return Promise.resolve(J);const oe={queryKey:e.queryKey,pageParam:re,direction:te?"backward":"forward",meta:e.options.meta};A(oe);const j=await T(oe),{maxPages:W}=e.options,Y=te?bX:xX;return{pages:Y(J.pages,j,W),pageParams:Y(J.pageParams,re,W)}};let z;if(l&&u.length){const J=l==="backward",re=J?LX:I_,te={pages:u,pageParams:p},oe=re(a,te);z=await I(te,oe,J)}else{z=await I(m,p[0]??a.initialPageParam);const J=t??u.length;for(let re=1;re<J;re++){const te=I_(a,z);z=await I(z,te)}}return z};e.options.persister?e.fetchFn=()=>{var a,l;return(l=(a=e.options).persister)==null?void 0:l.call(a,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function I_(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function LX(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var dn,ua,ha,ql,Kl,da,Ql,Zl,F_,DX=(F_=class{constructor(t={}){Rt(this,dn,void 0);Rt(this,ua,void 0);Rt(this,ha,void 0);Rt(this,ql,void 0);Rt(this,Kl,void 0);Rt(this,da,void 0);Rt(this,Ql,void 0);Rt(this,Zl,void 0);pt(this,dn,t.queryCache||new TX),pt(this,ua,t.mutationCache||new RX),pt(this,ha,t.defaultOptions||{}),pt(this,ql,new Map),pt(this,Kl,new Map),pt(this,da,0)}mount(){$h(this,da)._++,be(this,da)===1&&(pt(this,Ql,KP.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,dn).onFocus())})),pt(this,Zl,Xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,dn).onOnline())})))}unmount(){var t,e;$h(this,da)._--,be(this,da)===0&&((t=be(this,Ql))==null||t.call(this),pt(this,Ql,void 0),(e=be(this,Zl))==null||e.call(this),pt(this,Zl,void 0))}isFetching(t){return be(this,dn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return be(this,ua).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,dn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=be(this,dn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(E_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return be(this,dn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=be(this,dn).get(r.queryHash),l=a==null?void 0:a.state.data,u=pX(e,l);if(u!==void 0)return be(this,dn).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return hr.batch(()=>be(this,dn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,dn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=be(this,dn);hr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=be(this,dn),r={type:"active",...t};return hr.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=hr.batch(()=>be(this,dn).findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(yi).catch(yi)}invalidateQueries(t={},e={}){return hr.batch(()=>{if(be(this,dn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=hr.batch(()=>be(this,dn).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(yi)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(yi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=be(this,dn).build(this,e);return n.isStaleByTime(E_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yi).catch(yi)}fetchInfiniteQuery(t){return t.behavior=NX(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yi).catch(yi)}resumePausedMutations(){return Xf.isOnline()?be(this,ua).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,dn)}getMutationCache(){return be(this,ua)}getDefaultOptions(){return be(this,ha)}setDefaultOptions(t){pt(this,ha,t)}setQueryDefaults(t,e){be(this,ql).set(oh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...be(this,ql).values()];let n={};return e.forEach(r=>{lh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){be(this,Kl).set(oh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...be(this,Kl).values()];let n={};return e.forEach(r=>{lh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...be(this,ha).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=M0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===GP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...be(this,ha).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){be(this,dn).clear(),be(this,ua).clear()}},dn=new WeakMap,ua=new WeakMap,ha=new WeakMap,ql=new WeakMap,Kl=new WeakMap,da=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,F_),OX=K.createContext(void 0),MX=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),D.jsx(OX.Provider,{value:t,children:e}));const FX=new DX;Am.createRoot(document.getElementById("root")).render(D.jsx(at.StrictMode,{children:D.jsx(jP,{children:D.jsx(MX,{client:FX,children:D.jsx(XB,{children:D.jsx(a3,{children:D.jsx(aX,{children:D.jsx(cX,{children:D.jsx(jW,{children:D.jsx(JD,{maxSnack:3,children:D.jsx(lD,{router:fX})})})})})})})})})}))});export default jX();
